This is guix.es.info, produced by makeinfo version 6.7 from
guix.es.texi.

Copyright © 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020 Ludovic
Courtès
Copyright © 2013, 2014, 2016 Andreas Enge
Copyright © 2013 Nikita Karetnikov
Copyright © 2014, 2015, 2016 Alex Kost
Copyright © 2015, 2016 Mathieu Lirzin
Copyright © 2014 Pierre-Antoine Rault
Copyright © 2015 Taylan Ulrich Bayırlı/Kammer
Copyright © 2015, 2016, 2017, 2019, 2020 Leo Famulari
Copyright © 2015, 2016, 2017, 2018, 2019, 2020 Ricardo Wurmus
Copyright © 2016 Ben Woodcroft
Copyright © 2016, 2017, 2018 Chris Marusich
Copyright © 2016, 2017, 2018, 2019, 2020 Efraim Flashner
Copyright © 2016 John Darrington
Copyright © 2016, 2017 Nikita Gillmann
Copyright © 2016, 2017, 2018, 2019, 2020 Jan Nieuwenhuizen
Copyright © 2016, 2017, 2018, 2019, 2020 Julien Lepiller
Copyright © 2016 Alex ter Weele
Copyright © 2016, 2017, 2018, 2019 Christopher Baines
Copyright © 2017, 2018, 2019 Clément Lassieur
Copyright © 2017, 2018 Mathieu Othacehe
Copyright © 2017 Federico Beffa
Copyright © 2017, 2018 Carlo Zancanaro
Copyright © 2017 Thomas Danckaert
Copyright © 2017 humanitiesNerd
Copyright © 2017 Christopher Allan Webber
Copyright © 2017, 2018, 2019, 2020 Marius Bakke
Copyright © 2017, 2019, 2020 Hartmut Goebel
Copyright © 2017, 2019, 2020 Maxim Cournoyer
Copyright © 2017, 2018, 2019, 2020 Tobias Geerinckx-Rice
Copyright © 2017 George Clemmer
Copyright © 2017 Andy Wingo
Copyright © 2017, 2018, 2019 Arun Isaac
Copyright © 2017 nee
Copyright © 2018 Rutger Helling
Copyright © 2018 Oleg Pykhalov
Copyright © 2018 Mike Gerwitz
Copyright © 2018 Pierre-Antoine Rouby
Copyright © 2018, 2019 Gábor Boskovits
Copyright © 2018, 2019 Florian Pelz
Copyright © 2018 Laura Lazzati
Copyright © 2018 Alex Vong
Copyright © 2019 Josh Holland
Copyright © 2019, 2020 Diego Nicola Barbato
Copyright © 2019 Ivan Petkov
Copyright © 2019 Jakob L. Kreuze
Copyright © 2019 Kyle Andrews
Copyright © 2019 Alex Griffin
Copyright © 2019 Guillaume Le Vaillant
Copyright © 2020 Leo Prikler
Copyright © 2019, 2020 Simon Tournier
Copyright © 2020 Wiktor Żelazny
Copyright © 2020 Damien Cassou
Copyright © 2020 Jakub Kądziołka
Copyright © 2020 Jack Hill
Copyright © 2020 Naga Malleswari
Copyright © 2020 Brice Waegeneire
Copyright © 2020 R Veera Kumar
Copyright © 2020 Pierre Langlois
Copyright © 2020 pinoaffe

   Se garantiza el permiso de copia, distribución y/o modificación de
este documento bajo los términos de la licencia de documentación libre
de GNU (GNU Free Documentation License), versión 1.3 o cualquier versión
posterior publicada por la Free Software Foundation; sin secciones
invariantes, sin textos de cubierta delantera ni trasera. Una copia de
la licencia está incluida en la sección titulada “GNU Free Documentation
License”.
INFO-DIR-SECTION Administración del sistema
START-INFO-DIR-ENTRY
* Guix: (guix.es).           Gestión del software instalado y la
                               configuración del sistema.
* guix package: (guix.es)Invocación de guix package.  Instalación, borrado
                                                         y actualización de
                                                         paquetes.
* guix gc: (guix.es)Invocación de guix gc.  Recuperar espacio de disco sin
                                               usar.
* guix pull: (guix.es)Invocación de guix pull.  Actualización de la lista
                                                   disponible de paquetes.
* guix system: (guix.es)Invocación de guix system.  Gestión de la
                                                       configuración del
                                                       sistema operativo.
* guix deploy: (guix.es)Invocación de guix deploy.  Gestión de
                                                       configuraciones de
                                                       sistemas operativos en
                                                       máquinas remotas.
END-INFO-DIR-ENTRY

INFO-DIR-SECTION Desarrollo de software
START-INFO-DIR-ENTRY
* guix environment: (guix.es)Invocación de guix environment.  Construcción
                                                                 de entornos
                                                                 de desarrollo
                                                                 con Guix.
* guix build: (guix.es)Invocación de guix build.  Construcción de
                                                     paquetes.
* guix pack: (guix.es)Invocación de guix pack.  Creación de empaquetados
                                                   binarios.
END-INFO-DIR-ENTRY


File: guix.es.info,  Node: Rotación del registro de mensajes,  Next: Servicios de red,  Prev: Ejecución de tareas programadas,  Up: Servicios

8.8.3 Rotación del registro de mensajes
---------------------------------------

Los ficheros de registro como los encontrados en ‘/var/log’ tienden a
crecer indefinidamente, de modo que es buena idea “llevar a cabo una
rotación” de vez en cuando—es decir, archivar su contenido en ficheros
distintos, posiblemente comprimidos. El módulo ‘(gnu services admin)’
proporciona una interfaz con GNU Rot[t]log, una herramienta de rotación
de registros (*note (rottlog)Top::).

   Este servicio es parte de ‘%base-services’, y por lo tanto se activa
de manera predeterminada, con la configuración predeterminada, para
ficheros de registro que se pueden encontrar habitualmente. El siguiente
ejemplo muestra como extenderlo con una “rotación” adicional, en caso de
que deba hacerlo (habitualmente los servicios que producen ficheros de
registro ya lo hacen ellos mismos):

     (use-modules (guix) (gnu))
     (use-service-modules admin)

     (define mis-ficheros-de-registro
       ;; Ficheros que deseo rotar.
       '("/var/log/un-fichero.log" "/var/log/otro.log"))

     (operating-system
       ;; ...
       (services (cons (simple-service 'rota-mis-cosas
                                       rottlog-service-type
                                       (list (log-rotation
                                              (frequency 'daily)
                                              (files mis-ficheros-de-registro))))
                       %base-services)))

 -- Variable Scheme: rottlog-service-type
     Este es el tipo del servicio Rottlog, cuyo valor es un objeto
     ‘rottlog-configuration’.

     Otros servicios pueden extenderlo con nuevos objetos ‘log-rotation’
     (véase a continuación), aumentando de dicho modo el conjunto de
     ficheros a rotar.

     Este servicio puede definir trabajos de mcron (*note Ejecución de
     tareas programadas::) para ejecutar el servicio rottlog.

 -- Tipo de datos: rottlog-configuration
     Tipo de datos que representa la configuración de rottlog.

     ‘rottlog’ (predeterminado: ‘rottlog’)
          El paquete Rottlog usado.

     ‘rc-file’ (predeterminado: ‘(file-append rottlog "/etc/rc")’)
          El fichero de configuración de Rottlog usado (*note
          (rottlog)Mandatory RC Variables::).

     ‘rotations’ (predeterminadas: ‘%default-rotations’)
          Una lista de objetos ‘log-rotation’ como se define a
          continuación.

     ‘jobs’
          Esta es una lista de expresiones-G donde cada expresión-G
          corresponde a una especificación de trabajo de mcron (*note
          Ejecución de tareas programadas::).

 -- Tipo de datos: log-rotation
     Tipo de datos que representa la rotación de un grupo de ficheros de
     log.

     Tomando el ejemplo del manual de Rottlog (*note (rottlog)Period
     Related File Examples::), una rotación de registros se podría
     definir de esta manera:

          (log-rotation
            (frequency 'daily)
            (files '("/var/log/apache/*"))
            (options '("storedir apache-archives"
                       "rotate 6"
                       "notifempty"
                       "nocompress")))

     La lista de campos es como sigue:

     ‘frequency’ (predeterminada: ‘'weekly’)
          La frecuencia de rotación de logs, un símbolo.

     ‘files’
          La lista de ficheros o patrones extendidos de fichero a rotar.

     ‘options’ (predeterminadas: ‘'()’)
          La lista de opciones de rottlog para esta rotación (*note
          (rottlog)Configuration parameters::).

     ‘post-rotate’ (predeterminado: ‘#f’)
          O bien ‘#f’, o bien una expresión-G que se ejecutará una vez
          la rotación se haya completado.

 -- Variable Scheme: %default-rotations
     Specifies weekly rotation of ‘%rotated-files’ and of
     ‘/var/log/guix-daemon.log’.

 -- Variable Scheme: %rotated-files
     La lista de ficheros controlados por syslog que deben ser rotados.
     De manera predeterminada es ‘'("/var/log/messages"
     "/var/log/secure" "/var/log/maillog")’.


File: guix.es.info,  Node: Servicios de red,  Next: Sistema X Window,  Prev: Rotación del registro de mensajes,  Up: Servicios

8.8.4 Servicios de red
----------------------

El módulo ‘(gnu services networking)’ proporciona servicios para
configurar la interfaz de red.

 -- Variable Scheme: dhcp-client-service-type
     Este es el tipo de los servicios que ejecutan DHCP, un cliente del
     protocolo de configuración dinámica de máquinas DHCP, en todas las
     interfaces de red no locales. Su valor es el paquete del cliente
     DHCP, ‘isc-dhcp’ de manera predeterminada.

 -- Procedimiento Scheme: dhcpd-service-type
     Este tipo define un servicio que ejecuta el daemon DHCP. Para crear
     un servicio de este tipo debe proporcionar un objeto
     ‘<dhcpd-configuration>’. Por ejemplo:

          (service dhcpd-service-type
                   (dhcpd-configuration
                    (config-file (local-file "mi-dhcpd.conf"))
                    (interfaces '("enp0s25"))))

 -- Tipo de datos: dhcpd-configuration
     ‘package’ (predeterminado: ‘isc-dhcp’)
          El paquete que proporciona el daemon DHCP. Se espera que este
          paquete proporcione el daemon en ‘sbin/dhcpd’ de manera
          relativa a su directorio de salida. El paquete predeterminado
          es el servidor DHCP de ISC
          (https://www.isc.org/products/DHCP).
     ‘config-file’ (predeterminado: ‘#f’)
          El fichero de configuración usado. Esta opción es necesaria.
          Se le proporcionará a ‘dhcpd’ a través de su opción ‘-cf’.
          Puede ser cualquier objeto “tipo-fichero” (*note objetos
          “tipo-fichero”: Expresiones-G.). Véase ‘man dhcpd.conf’ para
          detalles sobre la sintaxis del fichero de configuración.
     ‘version’ (predeterminada: ‘"4"’)
          La versión DHCP usada. El servidor DHCP de ISC permite los
          valores “4”, “6” y “4o6”. Corresponden con las opciones ‘-4’,
          ‘-6’ y ‘-4o6’ del programa ‘dhcpd’. Véase ‘man dhcpd’ para más
          detalles.
     ‘run-directory’ (predeterminado: ‘"/run/dhcpd"’)
          El directorio de ejecución usado. Durante la activación del
          servicio se creará en caso de no existir.
     ‘pid-file’ (predeterminado: ‘"/run/dhcpd/dhcpd.pid"’)
          El fichero de PID usado. Corresponde con la opción ‘-pf’ de
          ‘dhcpd’. Véase ‘man dhcpd’ para más detalles.
     ‘interfaces’ (predeterminadas: ‘'()’)
          Los nombres de las interfaces de red en las que dhcpd debería
          esperar retransmisiones. Si la lista no está vacía, entonces
          sus elementos (que deben ser cadenas) se añadirá a la
          invocación de ‘dhcpd’ cuando se inicie el daemon. Puede no ser
          necesaria la especificación explícita aquí de ninguna
          interfaz; véase ‘man dhcpd’ para más detalles.

 -- Variable Scheme: static-networking-service-type
     Este es el tipo para las interfaces de red configuradas de forma
     estática.

 -- Procedimiento Scheme: static-networking-service INTERFAZ IP
          [#:netmask #f] [#:gateway #f] [#:name-servers ‘'()’]
           [#:requirement
     ‘'(udev)’] Devuelve un servicio que activa la INTERFAZ con la
     dirección IP. Si NETMASK es verdadero, se usa como máscara de red.
     Si GATEWAY es verdadero, se usa como cadena que especifica la
     pasarela predeterminada de la red. REQUIREMENT puede usarse para
     especificar una dependencia en otro servicio antes de configurar la
     interfaz.

     Se puede llamar a este procedimiento varias veces, una por cada
     interfaz de red sobre la que se tenga interés. Internamente, lo que
     hace es extender ‘static-networking-service-type’ con interfaces de
     red adicionales que gestionar.

     Por ejemplo:

          (static-networking-service "eno1" "192.168.1.82"
                                     #:gateway "192.168.1.2"
                                     #:name-servers '("192.168.1.2"))

 -- Procedimiento Scheme: wicd-service [#:wicd WICD]
     Devuelve un servicio que ejecuta Wicd (https://launchpad.net/wicd),
     un daemon de gestión de red que intenta simplificar la gestión de
     redes cableadas e inalámbricas.

     Este servicio añade WICD al perfil global, proporcionando varias
     ordenes destinadas a la interacción con el daemon y a la
     configuración de la red: ‘wicd-client’, una interfaz gráfica, y las
     interfaces de usuaria ‘wicd-cli’ y ‘wicd-curses’.

 -- Variable Scheme: modem-manager-service-type
     Este es el tipo de servicio para el servicio ModemManager
     (https://wiki.gnome.org/Projects/ModemManager). El valor para este
     tipo de servicio es un registro ‘modem-manager-configuration’.

     Este servicio es parte de ‘%desktop-services’ (*note Servicios de
     escritorio::).

 -- Tipo de datos: modem-manager-configuration
     Tipo de datos que representa la configuración de ModemManager.

     ‘modem-manager’ (predeterminado: ‘modem-manager’)
          El paquete de ModemManager usado.

 -- Variable Scheme: usb-modeswitch-service-type
     Este es el tipo de servicio para el servicio USB_ModeSwitch
     (https://www.draisberghof.de/usb_modeswitch/). El valor para este
     tipo de servicio es un registro ‘usb-modeswitch-configuration’.

     Cuando se conectan, algunos modem USB (y otros dispositivos USB) se
     presentan inicialmente como medios de almacenamiento de
     sólo-lectura y no como un modem. Deben “cambiar de modo” antes de
     poder usarse. El tipo de servicio USB_ModeSwitch instala reglas de
     udev para cambiar automáticamente de modo cuando se conecten estos
     dispositivos.

     Este servicio es parte de ‘%desktop-services’ (*note Servicios de
     escritorio::).

 -- Tipo de datos: usb-modeswitch-configuration
     Tipo de datos que representa la configuración de USB_ModeSwitch.

     ‘usb-modeswitch’ (predeterminado: ‘usb-modeswitch’)
          El paquete USB_ModeSwitch que proporciona los binarios para el
          cambio de modo.

     ‘usb-modeswitch-data’ (predeterminado: ‘usb-modeswitch-data’)
          El paquete que proporciona los datos de dispositivos y las
          reglas de udev usadas por USB_ModeSwitch.

     ‘config-file’ (predeterminado: ‘#~(string-append #$usb-modeswitch:dispatcher "/etc/usb_modeswitch.conf")’)
          Fichero de configuración usado para el gestor de eventos
          (dispatcher) de USB_ModeSwitch. De manera predeterminada se
          usa el fichero que viene con USB_ModeSwitch, que deshabilita
          el registro en ‘/var/log’ junto a otras configuraciones. Si se
          proporciona ‘#f’ no se usa ningún fichero de configuración.

 -- Variable Scheme: network-manager-service-type
     Este es el tipo de servicio para el servicio NetworkManager
     (https://wiki.gnome.org/Projects/NetworkManager). El valor para
     este tipo de servicio es un registro
     ‘network-manager-configuration’.

     Este servicio es parte de ‘%desktop-services’ (*note Servicios de
     escritorio::).

 -- Tipo de datos: network-manager-configuration
     Tipo de datos que representa la configuración de NetworkManager.

     ‘network-manager’ (predeterminado: ‘network-manager’)
          El paquete de NetworkManager usado.

     ‘dns’ (predeterminado: ‘"default"’)
          Modo de procesamiento para DNS, que afecta la manera en la que
          NetworkManager usa el fichero de configuración ‘resolv.conf’.

          ‘default’
               NetworkManager actualizará ‘resolv.conf’ para reflejar
               los servidores de nombres proporcionados por las
               conexiones activas actualmente.

          ‘dnsmasq’
               NetworkManager ejecutará ‘dnsmasq’ como una caché local
               del servicio de nombres, mediante un “reenvío
               condicional” si se encuentra conectada a una VPN, y
               actualiza posteriormente ‘resolv.conf’ para apuntar al
               servidor de nombres local.

               Con esta configuración puede compartir su conexión de
               red. Por ejemplo, cuando desee compartir su conexión de
               red a otro equipo a través de un cable Ethernet, puede
               abrir ‘nm-connection-editor’ y configurar el método de la
               conexión cableada para IPv4 y IPv6 “Compartida con otros
               equipos” y restablecer la conexión (o reiniciar).

               También puede configurar una “conexión
               anfitrión-invitado” a las máquinas virtuales de QEMU
               (*note Instalación de Guix en una máquina virtual::). Con
               una conexión anfitrión-invitado puede, por ejemplo,
               acceder a un servidor web que se ejecute en la máquina
               virtual (*note Servicios Web::) desde un navegador web en
               su sistema anfitrión, o conectarse a la máquina virtual a
               través de SSH (*note ‘openssh-service-type’: Servicios de
               red.). Para configurar una conexión anfitrión-invitado,
               ejecute esta orden una única vez:

                    nmcli connection add type tun \
                     connection.interface-name tap0 \
                     tun.mode tap tun.owner $(id -u) \
                     ipv4.method shared \
                     ipv4.addresses 172.28.112.1/24

               Cada vez que arranque su máquina virtual de QEMU (*note
               Ejecutar Guix en una máquina virtual::), proporcione
               ‘-nic tap,ifname=tap0,script=no,downscript=no’ a
               ‘qemu-system-...’.

          ‘none’
               NetworkManager no modificará ‘resolv.conf’.

     ‘vpn-plugins’ (predeterminados: ‘'()’)
          Esta es la lista de módulos disponibles para redes privadas
          virtuales (VPN). Un ejemplo es el paquete
          ‘network-manager-openvpn’, que permite a NetworkManager la
          gestión de redes VPN a través de OpenVPN.

 -- Variable Scheme: connman-service-type
     Este es el tipo de servicio para la ejecución de Connman
     (https://01.org.connman), un gestor de conexiones de red.

     Su valor debe ser un registro ‘connman-configuration’ como en este
     ejemplo:

          (service connman-service-type
                   (connman-configuration
                     (disable-vpn? #t)))

     Véase a continuación más detalles sobre ‘connman-configuration’.

 -- Tipo de datos: connman-configuration
     Tipo de datos que representa la configuración de connman.

     ‘connman’ (predeterminado: CONNMAN)
          El paquete connman usado.

     ‘disable-vpn?’ (predeterminado: ‘#f’)
          Cuando es verdadero, desactiva el módulo vpn de connman.

 -- Variable Scheme: wpa-supplicant-service-type
     Este es el tipo de servicio para la ejecución de WPA supplicant
     (https://w1.fi/wpa_supplicant/), un daemon de identificación
     necesario para la identificación en redes WiFi o ethernet cifradas.

 -- Tipo de datos: wpa-supplicant-configuration
     Tipo de datos que representa la configuración de WPA Supplicant.

     Toma los siguientes parámetros:

     ‘wpa-supplicant’ (predeterminado: ‘wpa-supplicant’)
          El paquete de WPA Supplicant usado.

     ‘dbus?’ (predeterminado: ‘#t’)
          Si se escuchan o no peticiones en D-Bus.

     ‘pid-file’ (predeterminado: ‘"/var/run/wpa_supplicant.pid"’)
          Dónde se almacena el fichero con el PID.

     ‘interface’ (predeterminado: ‘#f’)
          En caso de proporcionarse un valor, debe especificar el nombre
          de la interfaz de red que WPA supplicant controlará.

     ‘config-file’ (predeterminado: ‘#f’)
          Fichero de configuración opcional usado.

     ‘extra-options’ (predeterminadas: ‘'()’)
          Lista de parámetros adicionales a pasar al daemon en la línea
          de órdenes.

 -- Scheme Variable: hostapd-service-type
     This is the service type to run the hostapd
     (https://w1.fi/hostapd/) daemon to set up WiFi (IEEE 802.11) access
     points and authentication servers. Its associated value must be a
     ‘hostapd-configuration’ as shown below:

          ;; Use wlan1 to run the access point for "My Network".
          (service hostapd-service-type
                   (hostapd-configuration
                    (interface "wlan1")
                    (ssid "My Network")
                    (channel 12)))

 -- Data Type: hostapd-configuration
     This data type represents the configuration of the hostapd service,
     with the following fields:

     ‘package’ (default: ‘hostapd’)
          The hostapd package to use.

     ‘interface’ (default: ‘"wlan0"’)
          The network interface to run the WiFi access point.

     ‘ssid’
          The SSID (“service set identifier”), a string that identifies
          this network.

     ‘broadcast-ssid?’ (default: ‘#t’)
          Whether to broadcast this SSID.

     ‘channel’ (default: ‘1’)
          The WiFi channel to use.

     ‘driver’ (default: ‘"nl80211"’)
          The driver interface type. ‘"nl80211"’ is used with all Linux
          mac80211 drivers. Use ‘"none"’ if building hostapd as a
          standalone RADIUS server that does # not control any
          wireless/wired driver.

     ‘extra-settings’ (predeterminado: ‘""’)
          Extra settings to append as-is to the hostapd configuration
          file. See
          <https://w1.fi/cgit/hostap/plain/hostapd/hostapd.conf> for the
          configuration file reference.

 -- Scheme Variable: simulated-wifi-service-type
     This is the type of a service to simulate WiFi networking, which
     can be useful in virtual machines for testing purposes. The service
     loads the Linux kernel ‘mac80211_hwsim’ module
     (https://www.kernel.org/doc/html/latest/networking/mac80211_hwsim/mac80211_hwsim.html)
     and starts hostapd to create a pseudo WiFi network that can be seen
     on ‘wlan0’, by default.

     The service’s value is a ‘hostapd-configuration’ record.

 -- Variable Scheme: iptables-service-type
     Este es el tipo de servicio para la aplicación de configuración de
     iptables. iptables es un entorno de trabajo para el filtrado de
     paquetes implementado por el núcleo Linux. Este servicio permite la
     configuración de iptables tanto para IPv4 como IPv6. Un ejemplo
     simple de cómo rechazar todas las conexiones entrantes excepto
     aquellas al puerto 22 de ssh se muestra a continuación.

          (service iptables-service-type
                   (iptables-configuration
                    (ipv4-rules (plain-file "reglas.iptables" "*filter
          :INPUT ACCEPT
          :FORWARD ACCEPT
          :OUTPUT ACCEPT
          -A INPUT -p tcp --dport 22 -j ACCEPT
          -A INPUT -j REJECT --reject-with icmp-port-unreachable
          COMMIT
          "))
                    (ipv6-rules (plain-file "reglas.ip6tables" "*filter
          :INPUT ACCEPT
          :FORWARD ACCEPT
          :OUTPUT ACCEPT
          -A INPUT -p tcp --dport 22 -j ACCEPT
          -A INPUT -j REJECT --reject-with icmp6-port-unreachable
          COMMIT
          "))))

 -- Tipo de datos: iptables-configuration
     El tipo de datos que representa la configuración de iptables.

     ‘iptables’ (predeterminado: ‘iptables’)
          El paquete iptables que proporciona ‘iptables-restore’ y
          ‘ip6tables-restore’.
     ‘ipv4-rules’ (predeterminado: ‘%iptables-accept-all-rules’)
          Las reglas de iptables usadas. Se le proporcionarán a
          ‘iptables-restore’. Puede ser cualquier objeto “tipo-fichero”
          (*note objetos “tipo-fichero”: Expresiones-G.).
     ‘ipv6-rules’ (predeterminadas: ‘%iptables-accept-all-rules’)
          Las reglas de ip6tables usadas. Se le proporcionarán a
          ‘ip6tables-restore’. Puede ser cualquier objeto “tipo-fichero”
          (*note objetos “tipo-fichero”: Expresiones-G.).

 -- Variable Scheme: nftables-service-type
     Es el tipo de servicio para levantar una configuración de nftables.
     nftables es un proyecto de netfilter que quiere reemplazar los
     entornos ya existentes iptables, ip6tables, arptables y ebtables.
     Proporciona un entorno de filtrado de paquetes nuevo, una utilidad
     ‘nft’ de espacio de usuaria nueva y una capa de compatibilidad con
     iptables. El servicio viene con un conjunto de reglas
     predeterminado ‘%default-nftables-ruleset’ que rechaza todas las
     conexiones entrantes excepto las del puerto 22. Para usarlo,
     simplemente escriba:

          (service nftables-service-type)

 -- Tipo de datos: nftables-configuration
     El tipo de datos que representa la configuración de nftables.

     ‘package’ (predeterminado: ‘nftables’)
          El paquete nftables que proporciona ‘nft’.
     ‘ruleset’ (predeterminados: ‘%default-nftables-ruleset’)
          El conjunto de reglas de nftables usado. Puede ser cualquier
          objeto “tipo-fichero” (*note objetos “tipo-fichero”:
          Expresiones-G.).

 -- Variable Scheme: ntp-service-type
     Este es el tipo del servicio que ejecuta el daemon del protocolo de
     tiempo en red (NTP) (https://www.ntp.org), ‘ntpd’. El daemon
     mantendrá el reloj del sistema sincronizado con el de los
     servidores NTP especificados.

     El valor de este servicio es un objeto ‘ntpd-configuration’, como
     se describe a continuación.

 -- Tipo de datos: ntp-configuration
     Este es el tipo de datos para la configuración del servicio NTP.

     ‘servers’ (predeterminados: ‘%ntp-servers’)
          La lista de servidores (registros ‘<ntp-server>’) con los que
          la herramienta ‘ntpd’ se sincronizará. Véase la información
          sobre el tipo de datos ‘ntp-server’ a continuación.

     ‘allow-large-adjustment?’ (predeterminado: ‘#t’)
          Esto determina si se le permite a ‘ntpd’ realizar un ajuste
          inicial de más de 1000 segundos.

     ‘ntp’ (predeterminado: ‘ntp’)
          El paquete NTP usado.

 -- Variable Scheme: %ntp-servers
     Lista de nombres de máquinas usadas como servidores NTP
     predeterminados. Son servidores del NTP Pool Project
     (https://www.ntppool.org/en/).

 -- Tipo de datos: ntp-server
     Tipo de datos que representa la configuración de un servidor NTP.

     ‘type’ (predeterminado: ‘'server’)
          El tipo del servidor NTP, proporcionado como un símbolo. Puede
          ser ‘'pool’, ‘'server’, ‘'peer’, ‘'broadcast’ o
          ‘'manycastclient’.

     ‘address’
          La dirección del servidor, como una cadena.

     ‘options’
          Opciones de NTPD usadas en ese servidor específico,
          proporcionada como una lista de nombres de opciones y/o tuplas
          de nombre y valor. El siguiente ejemplo define un servidor con
          el que se usan las opciones ‘iburst’ y ‘prefer’, así como
          ‘version’ 3 y un tiempo de 16 segundos para ‘maxpoll’.

               (ntp-server
                (type 'server)
                (address "miservidor.ntp.server.org")
                (options `(iburst (version 3) (maxpoll 16) prefer))))

 -- Procedimiento Scheme: openntpd-service-type
     Ejecuta ‘ntpd’, el daemon del protocolo de tiempo en red (NTP),
     implementado por OpenNTPD (http://www.openntpd.org). El daemon
     mantendrá el reloj del sistema sincronizado con el de los
     servidores proporcionados.

          (service
           openntpd-service-type
           (openntpd-configuration
            (listen-on '("127.0.0.1" "::1"))
            (sensor '("udcf0 correction 70000"))
            (constraint-from '("www.gnu.org"))
            (constraints-from '("https://www.google.com/"))
            (allow-large-adjustment? #t)))


 -- Variable Scheme: %openntpd-servers
     This variable is a list of the server addresses defined in
     ‘%ntp-servers’.

 -- Tipo de datos: openntpd-configuration
     ‘openntpd’ (predeterminado: ‘(file-append openntpd "/sbin/ntpd")’)
          El ejecutable openntpd usado.
     ‘listen-on’ (predeterminadas: ‘'("127.0.0.1" "::1")’)
          Una lista de direcciones IP o nombres de máquina en los que el
          daemon ntpd debe escuchar conexiones.
     ‘query-from’ (predeterminadas: ‘'()’)
          Una lista de direcciones IP locales que el daemon ntpd debe
          usar para consultas salientes.
     ‘sensor’ (predeterminados: ‘'()’)
          Especifica una lista de dispositivos de sensores de tiempo de
          ntpd debería usar. ‘ntpd’ escuchará cada sensor que realmente
          exista e ignora los que no. Véase la documentación de las
          desarrolladoras originales (https://man.openbsd.org/ntpd.conf)
          para más información.
     ‘server’ (predeterminado: ‘'()’)
          Especifica una lista de direcciones IP o nombres de máquina de
          servidores NTP con los que sincronizarse.
     ‘servers’ (default: ‘%openntp-servers’)
          Una lista de direcciones IP o nombres de máquina con los que
          el daemon ntpd se debe sincronizar.
     ‘constraint-from’ (predeterminado: ‘'()’)
          ‘ntpd’ puede configurarse para que solicite la fecha a través
          del campo “Date” de servidores HTTPS en los que se confíe a
          través de TLS. Esta información de tiempo no se usa por
          precisión pero actúa como una condición verificada, por tanto
          reduciendo el impacto de ataques mediante la intervención del
          tráfico con servidores NTP no verificados. Especifica una
          lista de URL, direcciones IP o nombres de máquina de
          servidores HTTPS que proporcionarán la condición.
     ‘constraints-from’ (predeterminadas: ‘'()’)
          Como en CONSTRAINT-FROM, proporciona una lista de URL,
          direcciones IP o nombres de máquina de servidores HTTP para
          proporcionar la condición. En caso de que el nombre de máquina
          resuelva en múltiples direcciones IP, ‘ntpd’ calculará la
          condición mediana de todas ellas.
     ‘allow-large-adjustment?’ (predeterminado: ‘#f’)
          Determina si se permite a ‘ntpd’ realizar un ajuste inicial de
          más de 180 segundos.

 -- Variable Scheme: inetd-service-type
     Este servicio ejecuta el daemon ‘inetd’ (*note (inetutils)inetd
     invocation::). ‘inetd’ escucha conexiones en sockets de internet, e
     inicia bajo demanda el programa servidor cuando se realiza una
     conexión en uno de esos sockets.

     El valor de este servicio es un objeto ‘inetd-configuration’. El
     ejemplo siguiente configura el daemon ‘inetd’ para proporcionar el
     servicio ‘echo’ implementado por él mismo, así como un servicio
     smtp que reenvía el tráfico smtp por ssh a un servidor
     ‘servidor-smtp’ tras la pasarela ‘máquina’:

          (service
           inetd-service-type
           (inetd-configuration
            (entries (list
                      (inetd-entry
                       (name "echo")
                       (socket-type 'stream)
                       (protocol "tcp")
                       (wait? #f)
                       (user "root"))
                      (inetd-entry
                       (node "127.0.0.1")
                       (name "smtp")
                       (socket-type 'stream)
                       (protocol "tcp")
                       (wait? #f)
                       (user "root")
                       (program (file-append openssh "/bin/ssh"))
                       (arguments
                        '("ssh" "-qT" "-i" "/ruta/de/la/clave_ssh"
                          "-W" "servidor-smtp:25" "usuaria@maquina")))))))

     A continuación se proporcionan más detalles acerca de
     ‘inetd-configuration’.

 -- Tipo de datos: inetd-configuration
     Tipo de datos que representa la configuración de ‘inetd’.

     ‘program’ (predeterminado: ‘(file-append inetutils "/libexec/inetd")’)
          El ejecutable ‘inetd’ usado.

     ‘entries’ (predeterminadas: ‘'()’)
          Una lista de entradas de servicio de ‘inetd’. Cada entrada
          debe crearse con el constructor ‘inted-entry’.

 -- Tipo de datos: inetd-entry
     Tipo de datos que representa una entrada en la configuración de
     ‘inetd’. Cada entrada corresponde a un socket en el que ‘inetd’
     escuchará a la espera de peticiones.

     ‘node’ (predeterminado: ‘#f’)
          Cadena opcional, una lista separada por comas de direcciones
          locales que ‘inetd’ debería usar cuando se escuche para este
          servicio. *Note (inetutils)Configuration file:: para una
          descripción completa de todas las opciones.
     ‘name’
          Una cadena, el nombre debe corresponder con una entrada en
          ‘/etc/services’.
     ‘socket-type’
          Puede ser ‘'stream’, ‘'dgram’, ‘'raw’, ‘'rdm’ o ‘'seqpacket’.
     ‘protocol’
          Una cadena, debe corresponder con una entrada en
          ‘/etc/protocols’.
     ‘wait?’ (predeterminado: ‘#t’)
          Si ‘inetd’ debe esperar la salida del servidor antes de
          reiniciar la escucha de nuevas peticiones de servicio.
     ‘user’
          Una cadena que contiene el nombre (y, opcionalmente, el grupo)
          de la usuaria como la que se deberá ejecutar el servidor. El
          nombe de grupo se puede especificar en un sufijo, separado por
          dos puntos o un punto normal, es decir ‘"usuaria"’,
          ‘"usuaria:grupo"’ o ‘"usuaria.grupo"’.
     ‘program’ (predeterminado: ‘"internal"’)
          El programa servidor que recibirá las peticiones, o
          ‘"internal"’ si ‘inetd’ debería usar un servicio implementado
          internamente.
     ‘arguments’ (predeterminados: ‘'()’)
          Una lista de cadenas u objetos “tipo-fichero”, que serán los
          parámetros del programa servidor, empezando con el parámetro
          0, es decir, el nombre del programa en sí mismo. Para los
          servicios internos de ‘inetd’, esta entrada debe ser ‘'()’ o
          ‘'("internal")’.

     *Note (inetutils)Configuration file::, para una información más
     detallada sobre cada campo de la configuración.

 -- Variable Scheme: tor-service-type
     Este es el tipo para un servicio que ejecuta el daemon de red
     anónima Tor (https://torproject.org). El servicio se configura
     mediante un registro ‘<tor-configuration>’. De manera
     predeterminada, el daemon Tor se ejecuta como la usuaria sin
     privilegios ‘tor’, que es miembro del grupo ‘tor’.

 -- Tipo de datos: tor-configuration
     ‘tor’ (predeterminado: ‘tor’)
          El paquete que proporciona el daemon Tor. Se espera que este
          paquete proporcione el daemon en ‘bin/tor’ de manera relativa
          al directorio de su salida. El paquete predeterminado es la
          implementación del Proyecto Tor (https://www.torproject.org).

     ‘config-file’ (predeterminado: ‘(plain-file "empty" "")’)
          El fichero de configuración usado. Se agregará al final del
          fichero de configuración predeterminado, y se proporcionará el
          fichero de configuración resultante a ‘tor’ a través de su
          opción ‘-f’. Puede ser cualquier objeto “tipo-fichero” (*note
          objetos “tipo-fichero”: Expresiones-G.). Véase ‘man tor’ para
          detalles sobre la sintaxis del fichero de configuración.

     ‘hidden-services’ (predeterminados: ‘'()’)
          La lista de registros de servicios ocultos ‘<hidden-service>’
          usados. Para cada servicio oculto que añada en esta lista, se
          activará la configuración apropiada para su activación en el
          fichero de configuración predeterminado. Puede crear registros
          ‘<hidden-service>’ de manera conveniente mediante el uso del
          procedimiento ‘tor-hidden-service’ descrito a continuación.

     ‘socks-socket-type’ (predeterminado: ‘'tcp’)
          El tipo socket predeterminado que Tor debe usar para su socket
          SOCKS. Debe ser ‘'tcp’ i ‘'unix’. Si es ‘'tcp’, Tor escuchará
          en el puerto TCP 9050 de la interfaz local (es decir,
          localhost) de manera predeterminada. Si es ‘'unix’, tor
          escuchará en el socket de dominio de UNIX
          ‘/var/run/tor/socks-sock’, que tendrá permisos de escritura
          para miembros del grupo ‘tor’.

          Si desea personalizar el socket SOCKS de manera más detallada,
          mantenga ‘socks-socket-type’ con su valor predeterminado de
          ‘'tcp’ y use ‘config-file’ para modificar el valor
          predeterminado proporcionando su propia opción ‘SocksPort’.

 -- Procedimiento Scheme: tor-hidden-service NOMBRE RELACIÓN
     Define un “servicio oculto” Tor llamado NOMBRE y que implementa la
     RELACIÓN. RELACIÓN es una lista de tuplas puerto/máquina, como:

           '((22 "127.0.0.1:22")
             (80 "127.0.0.1:8080"))

     En este ejemplo, el puerto 22 del servicio oculto se asocia con el
     puerto 22 local, y el puerto 80 se asocia con el puerto 8080 local.

     Esto crea un directorio ‘/var/lib/tor/hidden-services/NOMBRE’,
     donde el fichero ‘hostname’ contiene el nombre de máquina ‘.onion’
     para el servicio oculto.

     Véase la documentación del proyecto Tor
     (https://www.torproject.org/docs/tor-hidden-service.html.en) para
     más información.

   El módulo ‘(gnu services rsync)’ proporciona los siguientes
servicios:

   Puede ser que desee un daemon rsync si tiene ficheros que desee tener
disponibles de modo que cualquiera (o simplemente usted) pueda descargar
ficheros existentes o subir nuevos ficheros.

 -- Variable Scheme: rsync-service-type
     Este es el tipo de servicio para el daemon rsync
     (https://rsync.samba.org). El valor tipo de servicio es un registro
     ‘rsync-configuration’ como en este ejemplo.

          (service rsync-service-type)

     Véase a continuación para detalles sobre ‘rsync-configuration’.

 -- Tipo de datos: rsync-configuration
     Tipo de datos que representa la configuración para ‘rsync-service’.

     ‘package’ (predeterminado: RSYNC)
          Paquete ‘rsync’ usado.

     ‘port-number’ (predeterminado: ‘873’)
          Puerto TCP en el que ‘rsync’ escucha conexiones entrantes. Si
          el puerto es menor a ‘1024’, ‘rsync’ necesita iniciarse como
          ‘root’, tanto usuaria como grupo.

     ‘pid-file’ (predeterminado: ‘"/var/run/rsyncd/rsyncd.pid"’)
          Nombre del fichero donde ‘rsync’ escribe su PID.

     ‘lock-file’ (predeterminado: ‘"/var/run/rsyncd/rsyncd.lock"’)
          Nombre del fichero donde ‘rsync’ escribe su fichero de
          bloqueo.

     ‘log-file’ (predeterminado: ‘"/var/log/rsyncd.log"’)
          Nombre del fichero donde ‘rsync’ escribe su fichero de
          registros.

     ‘use-chroot?’ (predeterminado: #T)
          Si se debe usar “chroot” en el directorio compartido de
          ‘rsync’.

     ‘share-path’ (predeterminado: ‘/srv/rsync’)
          Localización del directorio compartido de ‘rsync’.

     ‘share-comment’ (predeterminado: ‘"Rsync share"’)
          Comentario del directorio compartido de ‘rsync’.

     ‘read-only?’ (predeterminado: #F)
          Permisos de lectura/escritura en el directorio compartido.

     ‘timeout’ (predeterminado: ‘300’)
          Plazo de la E/S en segundos.

     ‘user’ (predeterminada: "ROOT")
          Propietaria del proceso ‘rsync’.

     ‘group’ (predeterminado: "ROOT")
          Grupo del proceso ‘rsync’.

     ‘uid’ (predeterminado: "RSYNCD")
          Nombre o ID de usuaria bajo la cual se efectúan las
          transferencias desde y hacia el módulo cuando el daemon se
          ejecuta como ‘root’.

     ‘gid’ (predeterminado: "RSYNCD")
          Nombre o ID de grupo que se usa cuando se accede al módulo.

   Es más, ‘(gnu services ssh)’ proporciona los siguientes servicios.

 -- Procedimiento Scheme: lsh-service [#:host-key "/etc/lsh/host-key"]
          [#:daemonic? #t] [#:interfaces '()] [#:port-number 22]
          [#:allow-empty-passwords? #f] [#:root-login? #f]
          [#:syslog-output? #t] [#:x11-forwarding? #t]
          [#:tcp/ip-forwarding? #t] [#:password-authentication? #t]
          [#:public-key-authentication? #t] [#:initialize? #t]
     Ejecuta el programa ‘lshd’ de LSH para escuchar en el puerto
     PORT-NUMBER. HOST-KEY debe designar a un fichero que contiene la
     clave de la máquina, y que sea legible únicamente por root.

     Cuando DAEMONIC? es verdadero, ‘lshd’ se desligará del terminal de
     control y registrará su salida con syslogd, a menos que se
     establezca SYSLOG-OUTPUT? a falso. Obviamente, esto hace que
     lsh-dependa de la existencia de un servicio syslogd. Cuando
     PID-FILE? es verdadero, ‘lshd’ escribe su PID al fichero llamado
     PID-FILE.

     Cuando INITIALIZE? es verdadero, crea automáticamente una semilla
     una clave de máquina una vez se active el servicio si no existen
     todavía. Puede tomar un tiempo prolongado y necesita interacción.

     Cuando INITIALIZE? es falso, es cuestión de la usuaria la
     inicialización del generador aleatorio (*note
     (lsh)lsh-make-seed::), la creación de un par de claves y el
     almacenamiento de la clave privada en el fichero HOST-KEY (*note
     (lsh)lshd basics::).

     Cuando INTERFACES está vacío, lshd escucha conexiones en todas las
     interfaces de red; en otro caso, INTERFACES debe ser una lista de
     nombres de máquina o direcciones.

     ALLOW-EMPTY-PASSWORDS? especifica si se aceptará el ingreso al
     sistema con una contraseña vacía y ROOT-LOGIN? especifica si se
     acepta el ingreso al sistema como root.

     El resto de opciones deberían ser autodescriptivas.

 -- Variable Scheme: openssh-service-type
     Este es el tipo para el daemon de shell seguro OpenSSH
     (http://www.openssh.org), ‘sshd’. Su valor debe ser un registro
     ‘openssh-configuration’ como en este ejemplo:

          (service openssh-service-type
                   (openssh-configuration
                     (x11-forwarding? #t)
                     (permit-root-login 'without-password)
                     (authorized-keys
                       `(("alicia" ,(local-file "alicia.pub"))
                         ("rober" ,(local-file "rober.pub"))))))

     Véase a continuación detalles sobre ‘openssh-configuration’.

     Este servicio se puede extender con claves autorizadas adicionales,
     como en este ejemplo:

          (service-extension openssh-service-type
                             (const `(("carlos"
                                       ,(local-file "carlos.pub")))))

 -- Tipo de datos: openssh-configuration
     Este es el registro de configuración para ‘sshd’ de OpenSSH.

     ‘pid-file’ (predeterminado: ‘"/var/run/sshd.pid"’)
          Nombre del fichero donde ‘sshd’ escribe su PID.

     ‘port-number’ (predeterminado: ‘22’)
          Puerto TCP en el que ‘sshd’ espera conexiones entrantes.

     ‘permit-root-login’ (predeterminado: ‘#f’)
          Este fichero determina si y cuando se permite el ingreso al
          sistema como root. Si es ‘#f’, el ingreso como root no está
          permitido; si es ‘#f’ está permitido. Si es el símbolo
          ‘'without-password’, se permite el ingreso al sistema como
          root pero no con identificación basada en contraseña.

     ‘allow-empty-passwords?’ (predeterminado: ‘#f’)
          Cuando es verdadero, las usuarias con contraseñas vacías
          pueden ingresar en el sistema. Cuando es falso, no pueden.

     ‘password-authentication?’ (predeterminado: ‘#t’)
          Cuando es verdadero, las usuarias pueden ingresar al sistema
          con su contraseña. En caso falso, tienen otros métodos de
          identificación.

     ‘public-key-authentication?’ (predeterminado: ‘#t’)
          Cuando es verdadero, las usuarias pueden ingresar en el
          sistema mediante el uso de clave publica para su
          identificación. Cuando es falso, las usuarias tienen que usar
          otros métodos de identificación.

          Las claves públicas autorizadas se almacenan en
          ‘~/.ssh/authorized_keys’. Se usa únicamente por la versión 2
          del protocolo.

     ‘x11-forwarding?’ (predeterminado: ‘#f’)
          Cuando verdadero, la retransmisión de conexiones del cliente
          gráfico X11 está desactivada—en otras palabras, las opciones
          ‘-X’ y ‘-Y’ de ‘ssh’ funcionarán.

     ‘allow-agent-forwarding?’ (predeterminado: ‘#t’)
          Si se permite la retransmisión del agente de claves.

     ‘allow-tcp-forwarding?’ (predeterminado: ‘#t’)
          Si se permite la retransmisión TCP.

     ‘gateway-ports?’ (predeterminado: ‘#f’)
          Si se permiten los puertos pasarela.

     ‘challenge-response-authentication?’ (predeterminado: ‘#f’)
          Especifica si la identificación mediante respuesta de desafío
          está permitida (por ejemplo, a través de PAM).

     ‘use-pam?’ (predeterminado: ‘#t’)
          Permite el uso de la interfaz de módulos de identificación
          conectables (PAM). Si es ‘#t’ se activará la identificación
          PAM mediante el uso de ‘challenge-response-authentication?’ y
          ‘password-authentication?’, además del procesado de los
          módulos de cuenta usuaria y de sesión de PAM en todos los
          tipos de identificación.

          Debido a que la identificación mediante respuesta de desafío
          de PAM tiene un rol equivalente a la identificación por
          contraseña habitualmente, debería desactivar
          ‘challenge-response-authentication?’ o
          ‘password-authentication?’.

     ‘print-last-log?’ (predeterminado: ‘#t’)
          Especifica si ‘sshd’ debe imprimir la fecha y hora del último
          ingreso al sistema de la usuaria cuando una usuaria ingresa
          interactivamente.

     ‘subsystems’ (predeterminados: ‘'(("sftp" "internal-sftp"))’)
          Configura subsistemas externos (por ejemplo, el daemon de
          transmisión de ficheros).

          Esta es una lista de listas de dos elementos, cada una de las
          cuales que contienen el nombre del subsistema y una orden (con
          parámetros opcionales) para ejecutar tras petición del
          subsistema.

          The command ‘internal-sftp’ implements an in-process SFTP
          server. Alternatively, one can specify the ‘sftp-server’
          command:
               (service openssh-service-type
                        (openssh-configuration
                         (subsystems
                          `(("sftp" ,(file-append openssh "/libexec/sftp-server"))))))

     ‘accepted-environment’ (predeterminado: ‘'()’)
          Una lista de cadenas que describe qué variables de entorno
          pueden ser exportadas.

          Cada cadena obtiene su propia línea. Véase la opción
          ‘AcceptEnv’ en ‘man sshd_config’.

          This example allows ssh-clients to export the ‘COLORTERM’
          variable. It is set by terminal emulators, which support
          colors. You can use it in your shell’s resource file to enable
          colors for the prompt and commands if this variable is set.

               (service openssh-service-type
                        (openssh-configuration
                          (accepted-environment '("COLORTERM"))))

     ‘authorized-keys’ (predeterminadas: ‘'()’)
          Esta es la lista de claves autorizadas. Cada elemento de la
          lista es un nombre de usuaria seguido de uno o más objetos
          “tipo-fichero” que representan claves públicas SSH. Por
          ejemplo:

               (openssh-configuration
                 (authorized-keys
                   `(("rekado" ,(local-file "rekado.pub"))
                     ("chris" ,(local-file "chris.pub"))
                     ("root" ,(local-file "rekado.pub") ,(local-file "chris.pub")))))

          registra las claves públicas especificadas para las cuentas
          ‘rekado’, ‘chris’ y ‘root’.

          Se pueden especificar claves autorizadas adicionales a través
          de ‘service-extension’.

          Tenga en cuenta que esto _no_ interfiere con el uso de
          ‘~/.ssh/authorized_keys’.

     ‘log-level’ (predeterminado: ‘'info’)
          Es un símbolo que especifica el nivel de detalle en los
          registros: ‘quiet’, ‘fatal’, ‘error’, ‘info’, ‘verbose’,
          ‘debug’, etc. Véase la página del manual de ‘sshd_config’ para
          la lista completa de los nombres de nivel.

     ‘extra-content’ (predeterminado: ‘""’)
          Este campo puede usarse para agregar un texto arbitrario al
          fichero de configuración. Es especialmente útil para
          configuraciones elaboradas que no se puedan expresar de otro
          modo. Esta configuración, por ejemplo, generalmente
          desactivaría el ingreso al sistema como root, pero lo permite
          para una dirección IP específica:

               (openssh-configuration
                 (extra-content "\
               Match Address 192.168.0.1
                 PermitRootLogin yes"))

 -- Procedimiento Scheme: dropbear-service [CONFIG]
     Ejecuta el daemon Dropbear SSH
     (https://matt.ucc.asn.au/dropbear/dropbear.html) con la
     CONFIGuración proporcionada, un objeto ‘<dropbear-configuration>’.

     Por ejemplo, para especificar un servicio Dropbear que escuche en
     el puerto 1234, añada esta llama al campo ‘services’ de su sistema
     operativo:

          (dropbear-service (dropbear-configuration
                              (port-number 1234)))

 -- Tipo de datos: dropbear-configuration
     Este tipo de datos representa la configuración del daemon Dropbear
     SSH.

     ‘dropbear’ (predeterminado: DROPBEAR)
          El paquete de Dropbear usado.

     ‘port-number’ (predeterminado: 22)
          Puerto TCP donde el daemon espera conexiones entrantes.

     ‘syslog-output?’ (predeterminado: ‘#t’)
          Determina si se envía la salida a syslog.

     ‘pid-file’ (predeterminado: ‘"/var/run/dropbear.pid"’)
          El nombre de fichero del fichero de PID del daemon.

     ‘root-login?’ (predeterminado: ‘#f’)
          Si se permite el ingreso al sistema como ‘root’.

     ‘allow-empty-passwords?’ (predeterminado: ‘#f’)
          Si se permiten las contraseñas vacías.

     ‘password-authentication?’ (predeterminado: ‘#t’)
          Determina si se usará identificación basada en contraseña.

 -- Scheme Variable: autossh-service-type
     This is the type for the AutoSSH
     (https://www.harding.motd.ca/autossh) program that runs a copy of
     ‘ssh’ and monitors it, restarting it as necessary should it die or
     stop passing traffic. AutoSSH can be run manually from the
     command-line by passing arguments to the binary ‘autossh’ from the
     package ‘autossh’, but it can also be run as a Guix service. This
     latter use case is documented here.

     AutoSSH can be used to forward local traffic to a remote machine
     using an SSH tunnel, and it respects the ‘~/.ssh/config’ of the
     user it is run as.

     For example, to specify a service running autossh as the user
     ‘pino’ and forwarding all local connections to port ‘8081’ to
     ‘remote:8081’ using an SSH tunnel, add this call to the operating
     system’s ‘services’ field:

          (service autossh-service-type
                   (autossh-configuration
                    (user "pino")
                    (ssh-options (list "-T" "-N" "-L" "8081:localhost:8081" "remote.net"))))

 -- Data Type: autossh-configuration
     This data type represents the configuration of an AutoSSH service.

     ‘user’ (default ‘"autossh"’)
          The user as which the AutoSSH service is to be run. This
          assumes that the specified user exists.

     ‘poll’ (default ‘600’)
          Specifies the connection poll time in seconds.

     ‘first-poll’ (default ‘#f’)
          Specifies how many seconds AutoSSH waits before the first
          connection test. After this first test, polling is resumed at
          the pace defined in ‘poll’. When set to ‘#f’, the first poll
          is not treated specially and will also use the connection poll
          specified in ‘poll’.

     ‘gate-time’ (default ‘30’)
          Specifies how many seconds an SSH connection must be active
          before it is considered successful.

     ‘log-level’ (default ‘1’)
          The log level, corresponding to the levels used by syslog—so
          ‘0’ is the most silent while ‘7’ is the chattiest.

     ‘max-start’ (default ‘#f’)
          The maximum number of times SSH may be (re)started before
          AutoSSH exits. When set to ‘#f’, no maximum is configured and
          AutoSSH may restart indefinitely.

     ‘message’ (default ‘""’)
          The message to append to the echo message sent when testing
          connections.

     ‘port’ (default ‘"0"’)
          The ports used for monitoring the connection. When set to
          ‘"0"’, monitoring is disabled. When set to ‘"N"’ where N is a
          positive integer, ports N and N+1 are used for monitoring the
          connection, such that port N is the base monitoring port and
          ‘n+1’ is the echo port. When set to ‘"N:M"’ where N and M are
          positive integers, the ports N and N+1 are used for monitoring
          the connection, such that port N is the base monitoring port
          and M is the echo port.

     ‘ssh-options’ (default ‘'()’)
          The list of command-line arguments to pass to ‘ssh’ when it is
          run. Options ‘-f’ and ‘-M’ are reserved for AutoSSH and may
          cause undefined behaviour.

 -- Variable Scheme: %facebook-host-aliases
     Esta variable contiene una cadena para su uso en ‘/etc/hosts’
     (*note (libc)Host Names::). Cada línea contiene una entrada que
     asocia un nombre de servidor conocido del servicio en línea
     Facebook—por ejemplo, ‘www.facebook.com’—a la máquina
     local—‘127.0.0.1’ o su equivalente IPv6, ‘::1’.

     Esta variable habitualmente se usa en el campo ‘hosts-file’ de una
     declaración ‘operating-system’ (*note ‘/etc/hosts’: Referencia de
     operating-system.):

          (use-modules (gnu) (guix))

          (operating-system
            (host-name "micompu")
            ;; ...
            (hosts-file
              ;; Crea un fichero /etc/hosts file con alias para "localhost"
              ;; y "micompu", así como los servidores de facebook.
              (plain-file "hosts"
                          (string-append (local-host-aliases host-name)
                                         %facebook-host-aliases))))

     Este mecanismo puede impedir a los programas que se ejecutan
     localmente, como navegadores Web, el acceso a Facebook.

   El módulo ‘(gnu services avahi)’ proporciona la siguiente definición.

 -- Variable Scheme: avahi-service-type
     Es el servicio que ejecuta ‘avahi-daemon’, un servidor mDNS/DNS-SD
     a nivel del sistema que permite el descubrimiento de servicios y la
     búsqueda de nombres de máquina “sin configuración/cero
     configuración” (véase <https://avahi.org/>). Su valor debe ser un
     registro ‘zero-configuration’—véase a continuación.

     Este servicio extiende el daemon de la caché del servicio de
     nombres (nscd) de manera que pueda resolver nombres de máquina
     ‘.local’ mediante el uso de nss-mds
     (https://0pointer.de/lennart/projects/nss-mdns). *Note Selector de
     servicios de nombres::, para información sobre la resolución de
     nombres de máquina.

     De manera adicional, añade el paquete AVAHI al perfil del sistema
     de manera que ordenes como ‘avahi-browse’ estén disponibles de
     manera directa.

 -- Tipo de datos: avahi-configuration
     Tipo de datos que representa la configuración de Avahi.

     ‘host-name’ (predeterminado: ‘#f’)
          Si es diferente de ‘#f’, se usa como el nombre de máquina a
          publicar para esta máquina; en otro caso, usa el nombre actual
          de la máquina.

     ‘publish?’ (predeterminado: ‘#t’)
          Cuando es verdadero, permite la publicación (retransmisión) de
          nombres de máquina y servicios a través de la red.

     ‘publish-workstation?’ (predeterminado: ‘#t’)
          Cuando es verdadero, ‘avahi-daemon’ publica el nombre de
          máquina y la dirección IP a través de mDNS en la red local.
          Para ver los nombres de máquina publicados en su red local,
          puede ejecutar:

               avahi-browse _workstation._tcp

     ‘wide-area?’ (predeterminado: ‘#f’)
          Cuando es verdadero, se permite DNS-SD sobre DNS unicast.

     ‘ipv4?’ (predeterminado: ‘#t’)
     ‘ipv6?’ (predeterminado: ‘#t’)
          Estos campos determinan si usar sockets IPv4/IPv6.

     ‘domains-to-browse’ (predeterminado: ‘'()’)
          Esta es la lista de dominios a explorar.

 -- Variable Scheme: openvswitch-service-type
     Este es el tipo del servicio Open vSwitch
     (https://www.openvswitch.org), cuyo valor debe ser un objeto
     ‘openvswitch-configuration’.

 -- Tipo de datos: openvswitch-configuration
     Tipo de datos que representa la configuración de Open vSwitch, un
     switch virtual multicapa que está diseñado para permitir una
     automatización masiva en la red a través de extensión programática.

     ‘package’ (predeterminado: OPENVSWITCH)
          El objeto paquete de Open vSwitch.

 -- Variable Scheme: pagekite-service-type
     El tipo de servicio para el servicio PageKite
     (https://pagekite.net), una solución de encaminado para hacer
     servidores de la red local visibles públicamente, incluso detrás de
     cortafuegos restrictivos o NAT sin redirección de puertos. El valor
     para este servicio es un registro ‘pagekite-configuration’.

     Este es un ejemplo que expone los daemon HTTP y SSH locales:

          (service pagekite-service-type
                   (pagekite-configuration
                     (kites '("http:@kitename:localhost:80:@kitesecret"
                              "raw/22:@kitename:localhost:22:@kitesecret"))
                     (extra-file "/etc/pagekite.rc")))

 -- Tipo de datos: pagekite-configuration
     Tipo de datos que representa la configuración de PageKite.

     ‘package’ (predeterminado: PAGEKITE)
          El objeto paquete de PageKite.

     ‘kitename’ (predeterminado: ‘#f’)
          Nombre de PageKite para la identificación con el servidor de
          fachada.

     ‘kitesecret’ (predeterminado: ‘#f’)
          Secreto compartido para la comunicación con el servidor.
          Probablemente debería almacenarlo dentro ‘extra-file’ en vez
          de aquí.

     ‘frontend’ (predeterminado: ‘#f’)
          Conecta al servidor de fachada de PageKite con este nombre en
          vez de al servicio de pagekite.net.

     ‘kites’ (predeterminados: ‘'("http:@kitename:localhost:80:@kitesecret")’)
          Lista de servicios de publicación (kite) usados. Expone HTTP
          en el puerto 80 de manera predeterminada. El formato es
          ‘protocolo:nombre-kite:máquina:puerto:secreto’.

     ‘extra-file’ (predeterminado: ‘#f’)
          Fichero adicional de configuración que debe leerse, el cual se
          espera que sea creado de forma manual. Úselo para añadir
          opciones adicionales y gestionar secretos compartidos fuera de
          banda.


File: guix.es.info,  Node: Sistema X Window,  Next: Servicios de impresión,  Prev: Servicios de red,  Up: Servicios

8.8.5 Sistema X Window
----------------------

El sistema gráfico X Window—específicamente Xorg—se proporciona en el
módulo ‘(gnu services xorg)’. Fíjese que no existe un procedimiento
‘xorg-service’. En vez de eso, el servidor X se inicia por el “gestor de
ingreso al sistema”, de manera predeterminada el gestor de acceso de
GNOME (GDM).

   GDM por supuesto que permite a las usuarias ingresar al sistema con
gestores de ventanas y entornos de escritorio distintos a GNOME; para
aquellas que usan GNOME, GDM es necesario para características como el
bloqueo automático de pantalla.

   Para usar X11, debe instalar al menos un “gestor de ventanas”—por
ejemplo los paquetes ‘windowmaker’ o ‘openbox’—, preferiblemente
añadiendo el que desee al campo ‘packages’ de su definición de sistema
operativo (*note paquetes del sistema: Referencia de operating-system.).

 -- Variable Scheme: gdm-service-type
     This is the type for the GNOME Desktop Manager
     (https://wiki.gnome.org/Projects/GDM/) (GDM), a program that
     manages graphical display servers and handles graphical user
     logins. Its value must be a ‘gdm-configuration’ (see below).

     GDM busca “tipos de sesión” descritos por los ficheros ‘.desktop’
     en ‘/run/current-system/profile/share/xsessions’ y permite a las
     usuarias seleccionar una sesión en la pantalla de ingreso. Paquetes
     como ‘gnome’, ‘xfce’ y ‘i3’ proporcionan ficheros ‘.desktop’; su
     adición a la lista global de paquetes hace que estén
     automáticamente disponibles en la pantalla de ingreso al sistema.

     Además, se respetan los ficheros ‘~/.xsession’. Cuando esté
     disponible, ‘~/.xsession’ debe ser un ejecutable que inicie un
     gestor de ventanas y/o otros clientes de X.

 -- Tipo de datos: gdm-configuration
     ‘auto-login?’ (predeterminado: ‘#f’)
     ‘default-user’ (predeterminado: ‘#f’)
          Cuando ‘auto-login?’ es falso, GDM presenta una pantalla de
          ingreso.

          Cuando ‘auto-login?’ es verdadero, GDM ingresa directamente al
          sistema como ‘default-user’.

     ‘debug?’ (predeterminado: ‘#f’)
          Cuando tiene valor verdadero, GDM escribe los mensajes de
          depuración en su registro.

     ‘gnome-shell-assets’ (predeterminados: ...)
          Lista de activos de GNOME Shell necesarios para GDM: tema de
          iconos, fuentes, etc.cc

     ‘xorg-configuration’ (predeterminada: ‘(xorg-configuration)’)
          Configuración del servidor gráfico Xorg.

     ‘xsession’ (predeterminado: ‘(xinitrc)’)
          Guión a ejecutar antes de iniciar una sesión X.

     ‘dbus-daemon’ (predeterminado: ‘dbus-daemon-wrapper’)
          El nombre de fichero del ejecutable ‘dbus-daemon’.

     ‘gdm’ (predeterminado: ‘gdm’)
          El paquete GDM usado.

 -- Variable Scheme: slim-service-type
     Este es el tipo para el gestor de ingreso al sistema gráfico para
     X11 SLiM.

     Como GDM, SLiM busca tipos de sesión descritos por ficheros
     ‘.desktop’ y permite a las usuarias la selección de sesión en la
     pantalla de ingreso al sistema mediante el uso de ‘F1’. También
     respeta los ficheros ‘~/.xsession’.

     Al contrario que GDM, SLiM no lanza las sesiones de las usuarias en
     terminales virtuales diferentes al usado para el ingreso, lo que
     significa que únicamente puede iniciar una sesión gráfica. Si desea
     ejecutar varias sesiones gráficas de manera simultánea, debe añadir
     múltiples servicios de SLiM a los servicios de su sistema. El
     ejemplo siguiente muestra cómo sustituir el servicio GDM
     predeterminado con dos servicios de SLiM en tty7 y tty8.

          (use-modules (gnu services)
                       (gnu services desktop)
                       (gnu services xorg)
                       (srfi srfi-1))  ;para 'remove'

          (operating-system
            ;; ...
            (services (cons* (service slim-service-type (slim-configuration
                                                         (display ":0")
                                                         (vt "vt7")))
                             (service slim-service-type (slim-configuration
                                                         (display ":1")
                                                         (vt "vt8")))
                             (remove (lambda (service)
                                       (eq? (service-kind service) gdm-service-type))
                                     %desktop-services))))

 -- Tipo de datos: slim-configuration
     Tipo de datos que representa la configuración de
     ‘slim-service-type’.

     ‘allow-empty-passwords?’ (predeterminado: ‘#t’)
          Si se permite el ingreso al sistema con contraseñas vacías.

     ‘auto-login?’ (predeterminado: ‘#f’)
     ‘default-user’ (predeterminado: ‘""’)
          Cuando ‘auto-login?’ es falso, SLiM presenta una pantalla de
          ingreso.

          Cuando ‘auto-login?’ es verdadero, SLiM ingresa en el sistema
          directamente como ‘default-user’.

     ‘theme’ (predeterminado: ‘%default-slim-theme’)
     ‘theme-name’ (predeterminado: ‘%default-slim-theme-name’)
          El tema gráfico usado y su nombre.

     ‘auto-login-session’ (predeterminado: ‘#f’)
          Si es verdadero, debe ser el nombre del ejecutable a arrancar
          como la sesión predeterminada—por ejemplo, ‘(file-append
          windowmaker "/bin/windowmaker")’.

          Si es falso, se usará una sesión de las descritas en uno de
          los ficheros ‘.desktop’ disponibles en
          ‘/run/current-system/profile’ y ‘~/.guix-profile’.

               Nota: Debe instalar al menos un gestor de ventanas en el
               perfil del sistema o en su perfil de usuaria. En caso de
               no hacerlo, si ‘auto-login-session’ es falso, no podrá
               ingresar al sistema.

     ‘xorg-configuration’ (predeterminada ‘(xorg-configuration)’)
          Configuración del servidor gráfico Xorg.

     ‘display’ (predeterminada: ‘":0"’)
          La pantalla en la que se iniciará el servidor gráfico Xorg.

     ‘vt’ (predeterminado: ‘"vt7"’)
          El terminal virtual (VT) en el que se iniciará el servidor
          gráfico Xorg.

     ‘xauth’ (predeterminado: ‘xauth’)
          El paquete XAuth usado.

     ‘shepherd’ (predeterminado: ‘shepherd’)
          El paquete de Shepherd usado para la invocación de ‘halt’ y
          ‘reboot’.

     ‘sessreg’ (predeterminado: ‘sessreg’)
          El paquete sessreg usado para el registro de la sesión.

     ‘slim’ (predeterminado: ‘slim’)
          El paquete SLiM usado.

 -- Variable Scheme: %default-theme
 -- Variable Scheme: %default-theme-name
     El tema predeterminado de SLiM y su nombre.

 -- Tipo de datos: sddm-configuration
     This is the data type representing the SDDM service configuration.

     ‘display-server’ (predeterminado: "x11")
          Select display server to use for the greeter. Valid values are
          ‘"x11"’ or ‘"wayland"’.

     ‘numlock’ (predeterminado: "on")
          Valid values are ‘"on"’, ‘"off"’ or ‘"none"’.

     ‘halt-command’ (predeterminado ‘#~(string-apppend #$shepherd "/sbin/halt")’)
          Orden a ejecutar para parar el sistema.

     ‘reboot-command’ (predeterminado ‘#~(string-append #$shepherd "/sbin/reboot")’)
          Orden a ejecutar para reiniciar el sistema.

     ‘theme’ (predeterminado "maldives")
          Theme to use. Default themes provided by SDDM are ‘"elarun"’,
          ‘"maldives"’ or ‘"maya"’.

     ‘themes-directory’ (predeterminado "/run/current-system/profile/share/sddm/themes")
          Directorio en el que buscar temas.

     ‘faces-directory’ (predeterminado "/run/current-system/profile/share/sddm/faces")
          Directorio en el que buscar caras.

     ‘default-path’ (predeterminado "/run/current-system/profile/bin")
          El valor predeterminado del PATH.

     ‘minimum-uid’ (predeterminado: 1000)
          UID mínimo mostrado en SDDM y al que se le permite el acceso.

     ‘maximum-uid’ (predeterminado: 2000)
          UID máximo mostrado en SDDM.

     ‘remember-last-user?’ (predeterminado #t)
          Recuerda la última usuaria.

     ‘remember-last-session?’ (predeterminado #t)
          Recuerda la última sesión.

     ‘hide-users’ (predeterminado "")
          Nombres de usuaria a ocultar de la pantalla de inicio de SDDM.

     ‘hide-shells’ (predeterminado ‘#~(string-append #$shadow "/sbin/nologin")’)
          Las usuarias que tengan alguno de los shell enumerados se
          ocultarán de la pantalla de inicio de SDDM.

     ‘session-command’ (predeterminado ‘#~(string-append #$sddm "/share/sddm/scripts/wayland-session")’)
          Guión a ejecutar antes de iniciar una sesión wayland.

     ‘sessions-directory’ (predeterminado "/run/current-system/profile/share/wayland-sessions")
          Directorio en el que buscar ficheros desktop que inicien
          sesiones wayland.

     ‘xorg-configuration’ (predeterminada ‘(xorg-configuration)’)
          Configuración del servidor gráfico Xorg.

     ‘xauth-path’ (predeterminado ‘#~(string-append #$xauth "/bin/xauth")’)
          Ruta de xauth.

     ‘xephyr-path’ (predeterminado ‘#~(string-append #$xorg-server "/bin/Xephyr")’)
          Ruta de Xephyr.

     ‘xdisplay-start’ (predeterminado ‘#~(string-append #$sddm "/share/sddm/scripts/Xsetup")’)
          Guión a ejecutar tras iniciar xorg-server.

     ‘xdisplay-stop’ (predeterminado ‘#~(string-append #$sddm "/share/sddm/scripts/Xstop")’)
          Guión a ejecutar antes de parar xorg-server.

     ‘xsession-command’ (predeterminado: ‘xinitrc’)
          Guión a ejecutar antes de iniciar una sesión X.

     ‘xsessions-directory’ (predeterminado: "/run/current-system/profile/share/xsessions")
          Directorio para buscar ficheros desktop que inicien sesiones
          X.

     ‘minimum-vt’ (predeterminado: 7)
          VT mínimo usado.

     ‘auto-login-user’ (predeterminado "")
          Usuaria usada para el ingreso automático en el sistema.

     ‘auto-login-session’ (predeterminado "")
          Fichero desktop usado para el ingreso automático en el
          sistema.

     ‘relogin?’ (predeterminado #f)
          Volver a ingresar en el sistema tras salir.

 -- Variable Scheme: sddm-service-type
     Es el tipo del servicio que ejecuta el gestor de entrada SDDM
     (https://github.com/sddm/sddm). Su valor es un registro
     ‘sddm-configuration’ (véase a continuación).

     Este es un ejemplo de su uso:

          (service sddm-service-type
                   (sddm-configuration
                     (auto-login-user "alicia")
                     (auto-login-session "xfce.desktop")))

 -- Tipo de datos: sddm-configuration
     Este tipo de datos representa la configuración del gestor de
     ingreso al sistema SDDM. Los campos disponibles son:

     ‘sddm’ (predeterminado: ‘sddm’)
          El paquete SDDM usado.

     ‘display-server’ (predeterminado: ‘"x11"’)
          Debe ser o bien ‘"x11"’ o bien ‘"wayland"’.

     ‘auto-login-user’ (predeterminado: ‘""’)
          Si no está vacío, es la cuenta de usuaria que ingresará al
          sistema de manera automática.

     ‘auto-login-session’ (predeterminada: ‘""’)
          Si no está vacío, es el nombre de fichero ‘.desktop’ usado en
          el ingreso automático al sistema.

 -- Tipo de datos: xorg-configuration
     Este tipo de datos representa la configuración del servidor gráfico
     Xorg. Fíjese que no existe un servicio Xorg; en vez de eso, el
     servidor X es iniciado por un “gestor de pantalla” como GDM, SDDM y
     SLiM. Por tanto, la configuración de estos gestores de pantalla
     agrega un registro ‘xorg-configuration’.

     ‘modules’ (predeterminados: ‘%default-xorg-modules’)
          Esta es la lista de “paquetes de módulos” cargados por el
          servidor Xorg—por ejemplo, ‘xf86-video-vesa’,
          ‘xf86-input-keyboard’, etcétera.

     ‘fonts’ (predeterminadas: ‘%default-xorg-fonts’)
          Es una lista de directorios de tipografías a añadir a la “ruta
          de tipografías” del servidor.

     ‘drivers’ (predeterminados: ‘'()’)
          Debe ser o bien la lista vacía, en cuyo caso Xorg selecciona
          el controlador gráfico automáticamente, o una lista de nombres
          de controladores que se intentarán en el orden
          especificado—por ejemplo, ‘("modesetting" "vesa")’.

     ‘resolutions’ (predeterminadas: ‘'()’)
          Cuando ‘resolutions’ es la lista vacía, Xorg selecciona una
          resolución de pantalla adecuada. En otro caso, debe ser una
          lista de resoluciones—por ejemplo, ‘((1024 768) (640 480))’.

     ‘keyboard-layout’ (predeterminada: ‘#f’)
          Si es ‘#f’, Xorg usa la distribución de teclado
          predeterminada—normalmente inglés de EEUU (“qwerty”) para un
          teclado de PC de 105 teclas.

          En otro caso, debe ser un objeto ‘keyboard-layout’ que
          especifique la distribución de teclado usada para la ejecución
          de Xorg. *Note Distribución de teclado::, para más información
          sobre cómo especificar la distribución de teclado.

     ‘extra-config’ (predeterminada: ‘'()’)
          Es una lista de cadenas u objetos añadida al final del fichero
          de configuración. Se usa para proporcionar texto adicional
          para ser introducido de forma literal en el fichero de
          configuración.

     ‘server’ (predeterminado: ‘xorg-server’)
          Este es el paquete que proporciona el servidor Xorg.

     ‘server-arguments’ (predeterminados: ‘%default-xorg-server-arguments’)
          Es la lista de parámetros de línea de órdenes que se
          proporcionarán al servidor X. El valor predeterminado es
          ‘-nolisten tcp’.

 -- Procedimiento Scheme: set-xorg-configuration CONFIG
          [TIPO-DE-SERVICIO-DEL-GESTOR-DE-PANTALLA]

     Le dice al gestor de pantalla (de tipo
     TIPO-DE-SERVICIO-DEL-GESTOR-DE-PANTALLA) que use CONFIG, un
     registro ‘<xorg-configuration>’.

     Debido a que la configuración de Xorg se embebe en la configuración
     del gestor de ingreso en el sistema—por ejemplo,
     ‘gdm-configuration’—este procedimiento proporciona un atajo para
     establecer la configuración de Xorg.

 -- Procedimiento Scheme: xorg-start-command [CONFIG]
     Devuelve un script ‘startx’ en el que los módulos, las tipografías,
     etcétera, especificadas en CONFIG están disponibles. El resultado
     debe usarse en lugar de ‘startx’.

     Habitualmente el servidor X es iniciado por un gestor de ingreso al
     sistema.

 -- Procedimiento Scheme: screen-locker-service PAQUETE [PROGRAMA]
     Añade PAQUETE, un paquete para un bloqueador de sesión o un
     salvapantallas cuya orden es PROGRAMA, al conjunto de programas
     setuid y añade una entrada PAM para él. Por ejemplo:

          (screen-locker-service xlockmore "xlock")

     permite usar el viejo XlockMore.


File: guix.es.info,  Node: Servicios de impresión,  Next: Servicios de escritorio,  Prev: Sistema X Window,  Up: Servicios

8.8.6 Servicios de impresión
----------------------------

El módulo ‘(gnu services cups)’ proporciona una definición de servicio
Guix para el servicio de impresión CUPS. Para añadir el soporte de
impresión en un sistema Guix, añada un servicio ‘cups-service’ en su
definición de sistema operativo:

 -- Variable Scheme: cups-service-type
     El tipo de servicio para el servidor de impresión CUPS. Su valor
     debe ser una configuración de CUPS válida (véase a continuación).
     Para usar la configuración predeterminada, simplemente escriba:
          (service cups-service-type)

   La configuración de CUPS controla los aspectos básicos de su
instalación de CUPS: sobre qué interfaces se escuchará, qué hacer si
falla un trabajo de impresión, cuanta información registrar, etcétera.
Para realmente añadir una impresora, debe visitar la URL
<http://localhost:631>, o usar una herramienta como los servicios de
configuración de impresión de GNOME. De manera predeterminada, la
configuración de un servicio CUPS generará un certificado auto-firmado
en caso de ser necesario, para ofrecer conexiones seguras con el
servidor de impresión.

   Suponiendo que desease activar la interfaz Web de CUPS, y también
añadir el paquete ‘escpr’ para comunicarse con impresoras Epson y el
paquete ‘hplip-minimal’ para hacerlo con impresoras HP. Puede hacerlo
directamente, de esta manera (debe usar el módulo ‘(gnu packages cups)’:

     (service cups-service-type
              (cups-configuration
                (web-interface? #t)
                (extensions
                  (list cups-filters escpr hplip-minimal))))

   Fíjese: Si desea usar la interfaz gráfica basada en Qt5 que viene con
el paquete hplip se le sugiere que instale el paquete ‘hplip’, o bien en
su configuración del sistema operativo o bien como su usuaria.

   A continuación se encuentran los parámetros de configuración
disponibles. El tipo de cada parámetro antecede la definición del mismo;
por ejemplo, ‘string-list foo’ indica que el parámetro ‘foo’ debe
especificarse como una lista de cadenas. También existe la posibilidad
de especificar la configuración como una cadena, si tiene un fichero
‘cupsd.conf’ antiguo que quiere trasladar a otro sistema; véase el final
para más detalles.

   Los campos disponibles de ‘cups-configuration’ son:

 -- parámetro de ‘cups-configuration’: package cups
     El paquete CUPS.

 -- parámetro de ‘cups-configuration’: lista-paquetes extensions
     Controladores y otras extensiones al paquete CUPS.

 -- parámetro de ‘cups-configuration’: ficheros-conf files-configuration
     Configuración sobre dónde escribir los registros, qué directorios
     usar para las colas de impresión y parámetros de configuración
     privilegiados relacionados.

     Los campos disponibles de ‘files-configuration’ son:

      -- parámetro de ‘files-configuration’: ruta-registro access-log
          Define el nombre de fichero del registro de acceso. La
          especificación de un nombre de fichero en blanco desactiva la
          generación de registros de acceso. El valor ‘stderr’ hace que
          las entradas de registro se envíen al fichero de la salida
          estándar de error cuando el planificador se ejecute en primer
          plano, o al daemon de registro del sistema cuando se ejecute
          en segundo plano. El valor ‘syslog’ envía las entradas de
          registro al daemon de registro del sistema. El nombre de
          servidor puede incluirse en los nombres de fichero mediante el
          uso de la cadena ‘%s’, como en ‘/var/log/cups/%s-access_log’.

          El valor predeterminado es ‘"/var/log/cups/access_log"’.

      -- parámetro de ‘files-configuration’: nombre-fichero cache-dir
          Donde CUPS debe almacenar los datos de la caché.

          El valor predeterminado es ‘"/var/cache/cups"’.

      -- parámetro de ‘files-configuration’: string config-file-perm
          Especifica los permisos para todos los ficheros de
          configuración que escriba el planficador.

          Tenga en cuenta que los permisos para el fichero printers.conf
          están configurados actualmente de modo que únicamente la
          usuaria del planificador (habitualmente root) tenga acceso. Se
          hace de esta manera debido a que las URI de las impresoras a
          veces contienen información sensible sobre la identificación
          que no debería conocerse de manera general en el sistema. No
          hay forma de desactivar esta característica de seguridad.

          El valor predeterminado es ‘"0640"’.

      -- parámetro de ‘files-configuration’: ruta-registro error-log
          Define el nombre de fichero del registro de error. La
          especificación de un nombre de fichero en blanco desactiva la
          generación de registros de error. El valor ‘stderr’ hace que
          las entradas del registro se envíen al fichero de la salida de
          error estándar cuando el planificador se ejecute en primer
          plano, o al daemon de registro del sistema cuando se ejecute
          en segundo plano. El valor ‘syslog’ provoca que las entradas
          del registro se envíen al daemon de registro del sistema. El
          nombre del servidor puede incluirse en los nombres de fichero
          mediante el uso de la cadena ‘%s’, como en
          ‘/var/log/cups/%s-error_log’.

          El valor predeterminado es ‘"/var/log/cups/error_log"’.

      -- parámetro de ‘files-configuration’: string fatal-errors
          Especifica qué errores son fatales, los cuales provocan la
          salida del planificador. El tipo de cadenas son:

          ‘none’
               Ningún error es fatal.

          ‘all’
               Todos los errores a continuación son fatales.

          ‘browse’
               Los errores de la inicialización de exploración son
               fatales, por ejemplo las conexiones fallidas al daemon
               DNS-SD.

          ‘config’
               Los errores de sintaxis en el fichero de configuración
               son fatales.

          ‘listen’
               Los errores de escucha o de puertos son fatales, excepto
               fallos IPv6 en la red local o en direcciones ‘any’.

          ‘log’
               Los errores de creación o escritura en el fichero de
               registros son fatales.

          ‘permissions’
               La mala configuración de los permisos de los ficheros al
               inicio son fatales, por ejemplo certificados TLS
               compartidos y ficheros de claves con permisos de
               escritura para todo el mundo.

          El valor predeterminado es ‘"all -browse"’.

      -- parámetro de ‘files-configuration’: boolean file-device?
          Especifica si el pseudo-dispositivo del fichero puede usarse
          para nuevas colas de impresión. Siempre se permite la URI
          <file:///dev/null>.

          El valor predeterminado es ‘#f’

      -- parámetro de ‘files-configuration’: string group
          Especifica el nombre de grupo o ID usado para la ejecución de
          programas externos.

          El valor predeterminado es ‘"lp"’.

      -- parámetro de ‘files-configuration’: string log-file-perm
          Especifica los permisos para todos los ficheros de registro
          que el planificador escriba.

          El valor predeterminado es ‘"0644"’.

      -- parámetro de ‘files-configuration’: ruta-registro page-log
          Define el nombre de fichero del registro de páginas. La
          especificación de un nombre de fichero en blanco desactiva la
          generación de registro de páginas. El valor ‘stderr’ hace que
          las entradas del registro se envíen al fichero de la salida de
          error cuando el planificador se ejecute en primer plano, o al
          daemon de registro del sistema cuando se ejecuten en segundo
          plano. El valor ‘syslog’ provoca que las entradas del registro
          se envíen al daemon de registro del sistema. El nombre del
          servidor puede incluirse en los nombres de fichero mediante el
          uso de la cadena ‘%s’, como en ‘/var/log/cups/%s-page_log’.

          El valor predeterminado es ‘"/var/log/cups/page_log"’.

      -- parámetro de ‘files-configuration’: string remote-root
          Especifica el nombre de la usuaria asociado con accesos sin
          identificación por parte de clientes que digan ser la usuaria
          root. La usuaria predeterminada es ‘remroot’.

          El valor predeterminado es ‘"remroot"’.

      -- parámetro de ‘files-configuration’: nombre-fichero request-root
          Especifica el directorio que contiene los trabajos de
          impresión y otros datos de peticiones HTTP.

          El valor predeterminado es ‘"/var/spool/cups"’.

      -- parámetro de ‘files-configuration’: aislamiento sandboxing
          Especifica el nivel de seguridad del aislamiento (sandbox) que
          se aplica sobre los filtros de impresión, motores y otros
          procesos lanzados por el planificador; o bien ‘relaxed’ o bien
          ‘strict’. Esta directiva únicamente tiene uso actualmente en
          macOS.

          El valor predeterminado es ‘strict’.

      -- parámetro de ‘files-configuration’: nombre-fichero
               server-keychain
          Specifies the location of TLS certificates and private keys.
          CUPS will look for public and private keys in this directory:
          ‘.crt’ files for PEM-encoded certificates and corresponding
          ‘.key’ files for PEM-encoded private keys.

          El valor predeterminado es ‘"/etc/cups/ssl"’.

      -- parámetro de ‘files-configuration’: nombre-fichero server-root
          Especifica el directorio que contiene los ficheros de
          configuración del servidor.

          El valor predeterminado es ‘"/etc/cups"’.

      -- parámetro de ‘files-configuration’: boolean sync-on-close?
          Especifica si el planificador llama fsync(2) tras la escritura
          de los ficheros de configuración o estado.

          El valor predeterminado es ‘#f’

      -- parámetro de ‘files-configuration’:
               cadenas-separadas-por-espacios system-group
          Especifica el o los grupos usados para la identificación del
          grupo ‘@SYSTEM’.

      -- parámetro de ‘files-configuration’: nombre-fichero temp-dir
          Especifica el directorio donde se escriben los ficheros
          temporales.

          El valor predeterminado es ‘"/var/spool/cups/tmp"’.

      -- parámetro de ‘files-configuration’: string user
          Especifica el nombre de usuaria o ID usado para la ejecución
          de programas externos.

          El valor predeterminado es ‘"lp"’.

      -- parámetro de ‘files-configuration’: string set-env
          Establece el valor de la variable de entorno especificada que
          se proporcionará a los procesos lanzados.

          El valor predeterminado es ‘"variable value"’.

 -- parámetro de ‘cups-configuration’: nivel-registro-acceso
          access-log-level
     Especifica el nivel de registro para el fichero AccessLog. El nivel
     ‘config’ registra la adición, borrado o modificación de impresoras
     y clases, y el acceso y modificación de los ficheros de
     configuración. El nivel ‘actions’ registra cuando los trabajos de
     impresión se envían, mantienen a la espera, liberan, modifican o
     cancelan, además de todas las condiciones de ‘config’. El nivel
     ‘all’ registra todas las peticiones.

     El valor predeterminado es ‘actions’.

 -- parámetro de ‘cups-configuration’: boolean auto-purge-jobs?
     Especifica si se purgan los datos del histórico de trabajos de
     manera automática cuando ya no son necesarios para las cuotas.

     El valor predeterminado es ‘#f’

 -- parámetro de ‘cups-configuration’: lista-cadenas-separada-comas
          browse-dns-sd-sub-types
     Especifica una lista de subtipos de DNS-SD anunciados por cada
     impresora compartida. Por ejemplo, ‘"_cups" "_print"’ le dirá a los
     clientes de red que se implementa tanto la compartición con CUPS
     como IPP Everywhere.

     El valor predeterminado es ‘"_cups"’.

 -- parámetro de ‘cups-configuration’: protocolos browse-local-protocols
     Especifica qué protocolos deben usarse para compartir las
     impresoras locales.

     El valor predeterminado es ‘dnssd’.

 -- parámetro de ‘cups-configuration’: boolean browse-web-if?
     Especifica si se anuncia la interfaz web de CUPS.

     El valor predeterminado es ‘#f’

 -- parámetro de ‘cups-configuration’: boolean browsing?
     Especifica si se anuncian las impresoras compartidas.

     El valor predeterminado es ‘#f’

 -- parámetro de ‘cups-configuration’: string classification
     Specifies the security classification of the server. Any valid
     banner name can be used, including ‘"classified"’,
     ‘"confidential"’, ‘"secret"’, ‘"topsecret"’, and ‘"unclassified"’,
     or the banner can be omitted to disable secure printing functions.

     El valor predeterminado es ‘""’.

 -- parámetro de ‘cups-configuration’: boolean classify-override?
     Especifica si las usuarias pueden modificar la clasificación
     (página de portada) de trabajos de impresión individuales mediante
     el uso de la opción ‘job-sheets’.

     El valor predeterminado es ‘#f’

 -- parámetro de ‘cups-configuration’: tipo-id-pred default-auth-type
     Especifica el tipo de identificación usado por omisión.

     El valor predeterminado es ‘Basic’.

 -- parámetro de ‘cups-configuration’: cifrado-pred default-encryption
     Especifica si se usará cifrado para peticiones con identificación.

     El valor predeterminado es ‘Required’.

 -- parámetro de ‘cups-configuration’: string default-language
     Especifica el idioma predeterminado usado para el texto y contenido
     de la web.

     El valor predeterminado es ‘"en"’.

 -- parámetro de ‘cups-configuration’: cadena default-paper-size
     Especifica el tamaño predeterminado del papel para colas de
     impresión nuevas. ‘"Auto"’ usa el valor predeterminado de la
     localización, mientras que ‘"None"’ especifica que no hay un tamaño
     de papel predeterminado. Los nombres de tamaños específicos
     habitualmente son ‘"Letter"’ o ‘"A4"’(1).

     El valor predeterminado es ‘"Auto"’.

 -- parámetro de ‘cups-configuration’: string default-policy
     Especifica la política de acceso usada por omisión.

     El valor predeterminado es ‘"default"’.

 -- parámetro de ‘cups-configuration’: boolean default-shared?
     Especifica si las impresoras locales se comparten de manera
     predeterminada.

     El valor predeterminado es ‘#t’

 -- parámetro de ‘cups-configuration’: entero-no-negativo
          dirty-clean-interval
     Especifica el retraso para la actualización de los ficheros de
     configuración y estado, en segundo. Un valor de 0 hace que la
     actualización se lleve a cabo tan pronto sea posible, en algunos
     milisegundos habitualmente.

     El valor predeterminado es ‘30’.

 -- parámetro de ‘cups-configuration’: política-error error-policy
     Especifica qué hacer cuando ocurra un error. Los valores posibles
     son ‘abort-job’, que descartará el trabajo de impresión fallido;
     ‘retry-job’, que intentará llevar de nuevo a cabo el trabajo en un
     momento posterior; ‘retry-current-job’, que reintenta el trabajo
     que falló de manera inmediata; y ‘stop-printer’, que para la
     impresora.

     El valor predeterminado es ‘stop-printer’.

 -- parámetro de ‘cups-configuration’: entero-no-negativo filter-limit
     Especifica el coste máximo de filtros que se ejecutan de manera
     concurrente, lo que puede usarse para minimizar problemas de
     recursos de disco, memoria y procesador. Un límite de 0 desactiva
     la limitación del filtrado. Una impresión media con una impresora
     no-PostScript necesita una limitación del filtrado de 200 más o
     menos. Una impresora PostScript necesita cerca de la mitad (100).
     Establecer un límite por debajo de estos valores limitará de forma
     efectiva al planificador a la ejecución de un único trabajo de
     impresión en cualquier momento.

     El valor predeterminado es ‘0’.

 -- parámetro de ‘cups-configuration’: entero-no-negativo filter-nice
     Especifica la prioridad de planificación de los filtros que se
     ejecuten para la impresión de un trabajo. El valor de “nice” va
     desde 0, la mayor prioridad, a 19, la menor prioridad.

     El valor predeterminado es ‘0’.

 -- parámetro de ‘cups-configuration’: búsqueda-nombres-máquina
          host-name-lookups
     Especifica si se realizarán las búsquedas inversas en las
     conexiones de clientes. La opción ‘double’ instruye a ‘cupsd’ para
     que verifique que el nombre de máquina al que resuelve la dirección
     corresponde con la dirección devuelta por dicho nombre de máquina.
     Las búsquedas dobles también evitan que clientes con direcciones
     sin registrar se conecten a su servidor. Configure esta opción con
     ‘#t’ o ‘double’ únicamente si es absolutamente necesario.

     El valor predeterminado es ‘#f’

 -- parámetro de ‘cups-configuration’: entero-no-negativo job-kill-delay
     Especifica el número de segundos a esperar antes de terminar los
     filtros y el motor asociados con un trabajo cancelado o puesto en
     espera.

     El valor predeterminado es ‘30’.

 -- parámetro de ‘cups-configuration’: entero-no-negativo
          job-retry-interval
     Especifica el intervalo entre los reintentos de trabajos en
     segundos. Se usa de manera habitual en colas de fax pero también
     puede usarse con colas de impresión normales cuya política de error
     sea ‘retry-job’ o ‘retry-current-job’.

     El valor predeterminado es ‘30’.

 -- parámetro de ‘cups-configuration’: entero-no-negativo
          job-retry-limit
     Especifica el número de reintentos que se llevan a cabo con los
     trabajos. De manera habitual se usa con colas de fax pero también
     puede usarse con colas de impresión normal cuya política de error
     sea ‘retry-job’ o ‘retry-current-job’.

     El valor predeterminado es ‘5’.

 -- parámetro de ‘cups-configuration’: boolean keep-alive?
     Especifica si se permiten conexiones “keep-alive” de HTTP.

     El valor predeterminado es ‘#t’

 -- parámetro de ‘cups-configuration’: entero-no-negativo
          keep-alive-timeout
     Especifica por cuanto tiempo permanece abierta una conexión de
     cliente en estado de espera, en segundos.

     El valor predeterminado es ‘30’.

 -- parámetro de ‘cups-configuration’: entero-no-negativo
          limit-request-body
     Especifica el tamaño máximo de los ficheros de impresión,
     peticiones IPP y datos de formularios HTTP. Un límite de 0
     desactiva la comprobación del límite.

     El valor predeterminado es ‘0’.

 -- parámetro de ‘cups-configuration’: lista-cadenas-multilínea listen
     Escucha a la espera de conexiones en las interfaces especificadas.
     Se aceptan valores con la forma DIRECCIÓN:PUERTO, donde DIRECCIÓN
     es o bien una dirección IPv6 entre corchetes, una dirección IPv4 o
     ‘*’ para indicar todas las direcciones. Los valores también pueden
     ser nombres de fichero de sockets de dominio de UNIX locales. La
     directiva “Listen” es similar a la directiva “Port”, pero le
     permite la restricción del acceso a interfaces o redes específicas.

 -- parámetro de ‘cups-configuration’: entero-no-negativo
          listen-back-log
     Especifica el número de conexiones pendientes permitidas.
     Habitualmente afecta de manera exclusiva a servidores con mucha
     carga de trabajo que han alcanzado el límite de clientes
     “MaxClients”, pero también puede ser provocado por grandes números
     de conexiones simultaneas. Cuando se alcanza el límite, el sistema
     operativo rechaza conexiones adicionales hasta que el planificador
     pueda aceptar las pendientes.

     El valor predeterminado es ‘128’.

 -- parámetro de ‘cups-configuration’: lista-location-access-control
          location-access-controls
     Especifica un conjunto adicional de controles de acceso.

     Los campos disponibles de ‘location-access-controls’ son:

      -- parámetro de ‘location-access-controls’: nombre-fichero path
          Especifica la ruta URI sobre la que el control de acceso
          tendrá efecto.

      -- parámetro de ‘location-access-controls’: lista-access-control
               access-controls
          Controles de acceso para todos los accesos a esta ruta, en el
          mismo formato que ‘access-controls’ de
          ‘operation-access-control’.

          El valor predeterminado es ‘()’.

      -- parámetro de ‘location-access-controls’:
               lista-method-access-control method-access-controls
          Controles de acceso para accesos con métodos específicos para
          esta ruta.

          El valor predeterminado es ‘()’.

          Los campos disponibles de ‘method-access-controls’ son:

           -- parámetro de ‘method-access-controls’: boolean reverse?
               Si es ‘#t’, los controles de acceso son efectivos con
               todos los métodos excepto los métodos listados. En otro
               caso, son efectivos únicamente con los métodos listados.

               El valor predeterminado es ‘#f’

           -- parámetro de ‘method-access-controls’: lista-métodos
                    methods
               Métodos con los cuales este control de acceso es
               efectivo.

               El valor predeterminado es ‘()’.

           -- parámetro de ‘method-access-controls’:
                    lista-control-acceso access-controls
               Access control directives, as a list of strings. Each
               string should be one directive, such as ‘"Order
               allow,deny"’.

               El valor predeterminado es ‘()’.

 -- parámetro de ‘cups-configuration’: entero-no-negativo
          log-debug-history
     Especifica el número de mensajes de depuración que se retienen para
     el registro si sucede un error en un trabajo de impresión. Los
     mensajes de depuración se registran independientemente de la
     configuración de “LogLevel”.

     El valor predeterminado es ‘100’.

 -- parámetro de ‘cups-configuration’: nivel-registro log-level
     Especifica el nivel de depuración del fichero “ErrorLog”. El valor
     ‘none’ inhibe todos los registros mientras que ‘debug2’ registra
     todo.

     El valor predeterminado es ‘info’

 -- parámetro de ‘cups-configuration’: formato-tiempo-registro
          log-time-format
     Especifica el formato de la fecha y el tiempo en los ficheros de
     registro. El valor ‘standard’ registra con segundos completos
     mientras que ‘usecs’ registra con microsegundos.

     El valor predeterminado es ‘standard’.

 -- parámetro de ‘cups-configuration’: entero-no-negativo max-clients
     Especifica el número de clientes simultáneos máximo que son
     admitidos por el planificador.

     El valor predeterminado es ‘100’.

 -- parámetro de ‘cups-configuration’: entero-no-negativo
          max-clients-per-host
     Especifica el número de clientes simultáneos máximo que se permiten
     desde una única dirección.

     El valor predeterminado es ‘100’.

 -- parámetro de ‘cups-configuration’: entero-no-negativo max-copies
     Especifica el número de copias máximo que una usuaria puede
     imprimir con cada trabajo.

     El valor predeterminado es ‘9999’.

 -- parámetro de ‘cups-configuration’: entero-no-negativo max-hold-time
     Especifica el tiempo máximo que un trabajo puede permanecer en el
     estado de espera ‘indefinite’ antes de su cancelación. Un valor de
     0 desactiva la cancelación de trabajos en espera.

     El valor predeterminado es ‘0’.

 -- parámetro de ‘cups-configuration’: entero-no-negativo max-jobs
     Especifica el número de trabajos simultáneos máximo permitido. El
     valor 0 permite un número ilimitado de trabajos.

     El valor predeterminado es ‘500’.

 -- parámetro de ‘cups-configuration’: entero-no-negativo
          max-jobs-per-printer
     Especifica el número de trabajos simultáneos máximo que se permite
     por impresora. Un valor de 0 permite hasta “MaxJobs” por impresora.

     El valor predeterminado es ‘0’.

 -- parámetro de ‘cups-configuration’: entero-no-negativo
          max-jobs-per-user
     Especifica el número de trabajos simultáneos máximo que se permite
     por usuaria. Un valor de 0 permite hasta “MaxJobs” por usuaria.

     El valor predeterminado es ‘0’.

 -- parámetro de ‘cups-configuration’: entero-no-negativo max-job-time
     Specifies the maximum time a job may take to print before it is
     canceled, in seconds. Set to 0 to disable cancellation of “stuck”
     jobs.

     El valor predeterminado es ‘10800’.

 -- parámetro de ‘cups-configuration’: entero-no-negativo max-log-size
     Especifica el tamaño máximo de los ficheros de registro antes de su
     rotación, en bytes. El valor 0 desactiva la rotación de registros.

     El valor predeterminado es ‘1048576’.

 -- parámetro de ‘cups-configuration’: entero-no-negativo
          multiple-operation-timeout
     Especifica el tiempo máximo permitido entre ficheros en un trabajo
     de impresión con múltiples ficheros, en segundos.

     El valor predeterminado es ‘300’.

 -- parámetro de ‘cups-configuration’: string page-log-format
     Especifica el formato de las líneas PageLog. Las secuencias de
     caracteres que comiencen con el signo de porcentaje (‘%’) se
     reemplazan con la información correspondiente, mientras que el
     resto de caracteres se copia de manera literal. Se reconocen las
     siguientes secuencias:

     ‘%%’
          inserta literalmente un símbolo de porcentaje

     ‘%{nombre}’
          inserta el valor del atributo IPP especificado

     ‘%C’
          inserta el número de copias para la página actual

     ‘%P’
          inserta el número de página actual

     ‘%T’
          inserta la fecha y hora actuales en el formato común de
          registro

     ‘%j’
          introduce el ID del trabajo

     ‘%p’
          inserta el nombre de impresora

     ‘%u’
          inserta el nombre de usuaria

     La cadena vacía desactiva el registro de página. La cadena ‘%p %u
     %j %T %P %C %{job-billing} %{job-originating-host-name} %{job-name}
     %{media} %{sides}’ crea un registro de página con los elementos
     estándar.

     El valor predeterminado es ‘""’.

 -- parámetro de ‘cups-configuration’: variables-entorno
          environment-variables
     Proporciona la o las variables de entorno especificadas a los
     procesos iniciados; una lista de cadenas.

     El valor predeterminado es ‘()’.

 -- parámetro de ‘cups-configuration’: lista-policy-configuration
          policies
     Especifica las políticas de control de acceso con nombre.

     Los campos disponibles de ‘policy-configuration’ son:

      -- parámetro de ‘policy-configuration’: string name
          El nombre de la política.

      -- parámetro de ‘policy-configuration’: string job-private-access
          Especifica una lista de acceso para los valores privados de un
          trabajo. ‘@ACL’ se sustituye con los valores
          “requesting-user-name-allowed” o “requesting-user-name-denied”
          de la impresora. ‘@OWNER’ se sustituye con la propietaria del
          trabajo. ‘@SYSTEM’ se sustituye con los grupos enumerados en
          el campo ‘system-group’ de la configuración ‘files-config’,
          que se traduce en el fichero ‘cups-files.conf(5)’. Otros
          elementos de configuración de la lista de acceso posibles
          incluyen nombres de usuaria específicos y ‘@GROUP’ para
          indicar miembros de un grupo específico. La lista de acceso
          también puede simplemente ser ‘all’ o ‘default’.

          El valor predeterminado es ‘"@OWNER @SYSTEM"’.

      -- parámetro de ‘policy-configuration’: string job-private-values
          Especifica la lista de valores de trabajos a hacer privados, o
          bien ‘all’, ‘default’, o ‘none’.

          El valor predeterminado es ‘"job-name
          job-originating-host-name job-originating-user-name phone"’.

      -- parámetro de ‘policy-configuration’: string
               subscription-private-access
          Especifica una lista de acceso para los valores privados de
          una subscripción. ‘@ACL’ se sustituye con los valores
          “requesting-user-name-allowed” o “requesting-user-name-denied”
          de la impresora. ‘@OWNER’ se sustituye con la propietaria del
          trabajo. ‘@SYSTEM’ se sustituye con los grupos enumerados en
          el campo ‘system-group’ de la configuración ‘files-config’,
          que se traduce en el fichero ‘cups-files.conf(5)’. Otros
          elementos de configuración de la lista de acceso posibles
          incluyen nombres de usuaria específicos y ‘@GROUP’ para
          indicar miembros de un grupo específico. La lista de acceso
          también puede simplemente ser ‘all’ o ‘default’.

          El valor predeterminado es ‘"@OWNER @SYSTEM"’.

      -- parámetro de ‘policy-configuration’: string
               subscription-private-values
          Especifica la lista de valores de trabajos a hacer privados, o
          bien ‘all’, ‘default’, o ‘none’.

          El valor predeterminado es ‘"notify-events notify-pull-method
          notify-recipient-uri notify-subscriber-user-name
          notify-user-data"’.

      -- parámetro de ‘policy-configuration’:
               lista-operation-access-control access-controls
          Control de acceso para operaciones de IPP.

          El valor predeterminado es ‘()’.

 -- parámetro de ‘cups-configuration’: boolean-o-entero-no-negativo
          preserve-job-files
     Especifica si los ficheros del trabajo (documentos) se preservan
     tras la impresión de un trabajo. Si se especifica un valor
     numérico, los ficheros del trabajo se preservan durante el número
     indicado de segundos tras la impresión. En otro caso, el valor
     booleano determina la conservación de manera indefinida.

     El valor predeterminado es ‘86400’.

 -- parámetro de ‘cups-configuration’: boolean-o-entero-no-negativo
          preserve-job-history
     Especifica si la historia del trabajo se preserva tras la impresión
     de un trabajo. Si se especifica un valor numérico, la historia del
     trabajo se conserva tras la impresión el número de segundos
     indicado. Si es ‘#t’, la historia del trabajo se conserva hasta que
     se alcance el límite de trabajos “MaxJobs”.

     El valor predeterminado es ‘#t’

 -- parámetro de ‘cups-configuration’: entero-no-negativo reload-timeout
     Especifica el tiempo a esperar hasta la finalización del trabajo
     antes de reiniciar el planificador.

     El valor predeterminado es ‘30’.

 -- parámetro de ‘cups-configuration’: string rip-cache
     Especifica la cantidad máxima de memoria usada durante la
     conversión de documentos en imágenes para una impresora.

     El valor predeterminado es ‘"128m"’.

 -- parámetro de ‘cups-configuration’: string server-admin
     Especifica la dirección de correo electrónico de la administradora
     del servidor.

     El valor predeterminado es ‘"root@localhost.localdomain"’.

 -- parámetro de ‘cups-configuration’: lista-nombres-máquina-o-*
          server-alias
     La directiva ServerAlias se usa para la validación de la cabecera
     HTTP Host cuando los clientes se conecten al planificador desde
     interfaces externas. El uso del nombre especial ‘*’ puede exponer
     su sistema a ataques basados en el navegador web de reenlazado DNS
     ya conocidos, incluso cuando se accede a páginas a través de un
     cortafuegos. Si el descubrimiento automático de nombres
     alternativos no funcionase, le recomendamos enumerar cada nombre
     alternativo con una directiva ServerAlias en vez del uso de ‘*’.

     El valor predeterminado es ‘*’.

 -- parámetro de ‘cups-configuration’: string server-name
     Especifica el nombre de máquina completamente cualificado del
     servidor.

     El valor predeterminado es ‘"localhost"’.

 -- parámetro de ‘cups-configuration’: server-tokens server-tokens
     Especifica qué información se incluye en la cabecera Server de las
     respuestas HTTP. ‘None’ desactiva la cabecera Server. ‘ProductOnly’
     proporciona ‘CUPS’. ‘Major’ proporciona ‘CUPS 2’. ‘Minor’
     proporciona ‘CUPS 2.0’. ‘Minimap’ proporciona ‘CUPS 2.0.0’. ‘OS’
     proporciona ‘CUPS 2.0.0 (UNAME)’ donde UNAME es la salida de la
     orden ‘uname’. ‘Full’ proporciona ‘CUPS 2.0.0 (UNAME) IPP/2.0’.

     El valor predeterminado es ‘Minimal’.

 -- parámetro de ‘cups-configuration’: lista-cadenas-multilínea
          ssl-listen
     Escucha en las interfaces especificadas a la espera de conexiones
     cifradas. Se aceptan valores con la forma DIRECCIÓN:PUERTO, siendo
     DIRECCIÓN o bien una dirección IPv6 entre corchetes, o bien una
     dirección IPv4, o bien ‘*’ que representa todas las direcciones.

     El valor predeterminado es ‘()’.

 -- parámetro de ‘cups-configuration’: opciones-ssl ssl-options
     Determina las opciones de cifrado. De manera predeterminada, CUPS
     permite únicamente el cifrado mediante TLS v1.0 o superior mediante
     el uso de modelos de cifrado de conocida seguridad. La seguridad se
     reduce cuando se usan opciones ‘Allow’ y se aumenta cuando se usan
     opciones ‘Deny’. La opción ‘AllowRC4’ permite el cifrado RC4 de 128
     bits, necesario para algunos clientes antiguos que no implementan
     los modelos más modernos. La opción ‘AllowSSL3’ desactiva SSL v3.0,
     necesario para algunos clientes antiguos que no implementan TLS
     v1.0. La opción ‘DenyCBC’ desactiva todos los modelos de cifrado
     CBC. La opción ‘DenyTLS1.0’ desactiva TLS v1.0—esto fuerza la
     versión mínima del protocolo a TLS v1.1.

     El valor predeterminado es ‘()’.

 -- parámetro de ‘cups-configuration’: boolean strict-conformance?
     Especifica si el planificador exige que los clientes se adhieran de
     manera estricta a las especificaciones IPP.

     El valor predeterminado es ‘#f’

 -- parámetro de ‘cups-configuration’: entero-no-negativo timeout
     Especifica el plazo de las peticiones HTTP, en segundos.

     El valor predeterminado es ‘300’.

 -- parámetro de ‘cups-configuration’: boolean web-interface?
     Especifica si se debe activar la interfaz web.

     El valor predeterminado es ‘#f’

   En este punto probablemente esté pensando, “querido manual de Guix,
me gusta todo esto, pero... ¡¿cuando se acaban las opciones de
configuración?!”. De hecho ya terminan. No obstante, hay un punto más:
puede ser que ya tenga un fichero ‘cupsd.conf’ que desee usar. En ese
caso, puede proporcionar un objeto ‘opaque-cups-configuration’ como la
configuración de ‘cups-service-type’.

   Los campos disponibles de ‘opaque-cups-configuration’ son:

 -- parámetro de ‘opaque-cups-configuration’: paquete cups
     El paquete CUPS.

 -- parámetro de ‘opaque-cups-configuration’: string cupsd.conf
     El contenido de ‘cupsd.conf’, como una cadena.

 -- parámetro de ‘opaque-cups-configuration’: string cups-files.conf
     El contenido del fichero ‘cups-files.conf’, como una cadena.

   Por ejemplo, si el contenido de sus ficheros ‘cupsd.conf’ y
‘cups-files.conf’ estuviese en cadenas del mismo nombre, podría
instanciar un servicio CUPS de esta manera:

     (service cups-service-type
              (opaque-cups-configuration
                (cupsd.conf cupsd.conf)
                (cups-files.conf cups-files.conf)))

   ---------- Footnotes ----------

   (1) NdT: ‘Letter’ es el formato estándar de ANSI, de 215,9x279,4
milímetros de tamaño, mientras que A4 es el formato estándar de ISO, de
210x297 milímetros de tamaño.


File: guix.es.info,  Node: Servicios de escritorio,  Next: Servicios de sonido,  Prev: Servicios de impresión,  Up: Servicios

8.8.7 Servicios de escritorio
-----------------------------

El módulo ‘(gnu services desktop)’ proporciona servicios que son útiles
habitualmente en el contexto de una configuración de “escritorio”—es
decir, en una máquina que ejecute un servidor gráfico, posiblemente con
interfaces gráficas, etcétera. También define servicios que proporcionan
entornos de escritorio específicos como GNOME, Xfce o MATE.

   Para simplificar las cosas, el módulo define una variable que
contiene el conjunto de servicios que las usuarias esperarían de manera
habitual junto a un entorno gráfico y de red:

 -- Variable Scheme: %desktop-services
     Es una lista de servicios que se construye en base a
     ‘%base-services’ y añade o ajusta servicios para una configuración
     de “escritorio” típica.

     En particular, añade un gestor de ingreso al sistema gráfico (*note
     ‘gdm-service-type’: Sistema X Window.), herramientas para el
     bloqueo de la pantalla, una herramienta de gestión de redes (*note
     ‘network-manager-service-type’: Servicios de red.) y gestión de
     modem (*note ‘modem-manager-service-type’: Servicios de red.),
     servicios de gestión de la energía y el color, el gestor de
     asientos e ingresos al sistema ‘elogind’, el servicio de
     privilegios Polkit, el servicio de geolocalización GeoClue, el
     daemon AccountsService que permite a las usuarias autorizadas el
     cambio de contraseñas del sistema, un cliente NTP (*note Servicios
     de red::), el daemon Avahi y configura el servicio del selector de
     servicios de nombres para que pueda usar ‘nss-mdns’ (*note mDNS:
     Selector de servicios de nombres.).

   La variable ‘%desktop-services’ puede usarse como el campo ‘services’
de una declaración ‘operating-system’ (*note ‘services’: Referencia de
operating-system.).

   De manera adicional, los procedimientos ‘gnome-desktop-service-type’,
‘xfce-desktop-service’, ‘mate-desktop-service-type’ y
‘enlightenment-desktop-service-type’ pueden añadir GNOME, Xfce, MATE y/o
Enlightenment al sistema. “Añadir GNOME” significa que servicios a nivel
de sistema como las herramientas de ayuda para el ajuste de la
intensidad de luz de la pantalla y de gestión de energía se añaden al
sistema, extendiendo ‘polkit’ y ‘dbus’ de manera apropiada, y
permitiendo a GNOME operar con privilegios elevados en un número de
interfaces del sistema de propósito especial. Además, la adición de un
servicio generado por ‘gnome-desktop-service-type’ añade el metapaquete
GNOME al perfil del sistema. Del mismo modo, la adición del servicio
Xfde no añade únicamente el metapaquete ‘xfce’ al perfil del sistema,
sino que también le proporciona al gestor de ficheros Thunar la
posibilidad de abrir una ventana de gestión de ficheros en “modo root”,
si la usuaria se identifica mediante la contraseña de administración a
través de la interfaz gráfica estándar polkit. “Añadir MATE” significa
que ‘polkit’ y ‘dbus’ se extienden de manera apropiada, permitiendo a
MATE operar con privilegios elevados en un número de interfaces del
sistema de propósito especial. De manera adicional, la adición de un
servicio de tipo ‘mate-desktop-service-type’ añade el metapaquete MATE
al perfil del sistema. “Añadir Enlightenment” significa que ‘dbus’ se
extiende de manera apropiada y varios ejecutables de Enlightenment se
marcan como “setuid”, para permitir el funcionamiento esperado del
sistema bloqueo de pantalla de Enlightenment entre otras
funcionalidades.

   Los entornos de escritorio en Guix usan el servidor gráfico Xorg de
manera predeterminada. Si desea usar el protocolo de servidor gráfico
más nuevo llamado Wayland, debe usar el servicio ‘sddm-service’ en vez
de GDM como gestor gráfico de ingreso al sistema. Una vez hecho, debe
seleccionar la sesión “GNOME (Wayland)” en SDDM. Alternativamente, puede
intentar iniciar GNOME en Wayland de manera manual desde una TTY con la
orden “XDG_SESSION_TYPE=wayland exec dbus-run-session gnome-session”.
Actualmente únicamente GNOME tiene implementación para Wayland.

 -- Variable Scheme: gnome-desktop-service-type
     This is the type of the service that adds the GNOME
     (https://www.gnome.org) desktop environment. Its value is a
     ‘gnome-desktop-configuration’ object (see below).

     Este servicio añade el paquete ‘gnome’ al perfil del sistema, y
     extiende polkit con las acciones de ‘gnome-settings-daemon’.

 -- Tipo de datos: gnome-desktop-configuration
     Registro de configuración para el entorno de escritorio GNOME.

     ‘gnome’ (predeterminado: ‘gnome’)
          El paquete GNOME usado.

 -- Variable Scheme: xfce-desktop-service-type
     This is the type of a service to run the https://xfce.org/ (Xfce)
     desktop environment. Its value is an ‘xfce-desktop-configuration’
     object (see below).

     Este servicio añade el paquete ‘xfce’ al perfil del sistema, y
     extiende polkit con la capacidad de ‘thunar’ para manipular el
     sistema de ficheros como root dentro de una sesión de usuaria, tras
     la identificación de la usuaria con la contraseña de
     administración.

 -- Tipo de datos: xfce-desktop-configuration
     Registro de configuración para el entorno de escritorio Xfce.

     ‘xfce’ (predeterminado: ‘xfce’)
          El paquete Xfce usado.

 -- Variable Scheme: mate-desktop-service-type
     This is the type of the service that runs the MATE desktop
     environment (https://mate-desktop.org/). Its value is a
     ‘mate-desktop-configuration’ object (see below).

     Este servicio añade el paquete ‘mate’ al perfil del sistema, y
     extiende polkit con acciones de ‘mate-settings-daemon’.

 -- Tipo de datos: mate-desktop-configuration
     Registro de configuración para el entorno de escritorio MATE.

     ‘mate’ (predeterminado: ‘mate’)
          El paquete MATE usado.

 -- Variable Scheme: enlightenment-desktop-service-type
     Devuelve un servicio que añade el paquete ‘enlightenment’ al perfil
     del sistema, y extiende dbus con acciones de ‘efl’.

 -- Tipo de datos: enlightenment-desktop-service-configuration
     ‘enlightenment’ (predeterminado: ‘enlightenment’)
          El paquete enlightenment usado.

   Debido a que los servicios de escritorio GNOME, Xfce y MATE
incorporan tantos paquetes, la variable ‘%desktop-services’ no incluye
ninguno de manera predeterminada. Para añadir GNOME, Xfce o MATE,
simplemente use ‘cons’ junto a ‘%desktop-services’ en el campo
‘services’ de su declaración ‘operating-system’:

     (use-modules (gnu))
     (use-service-modules desktop)
     (operating-system
       ...
       ;; cons* añade elementos a la lista proporcionada en el último
       ;; parámetro.
       (services (cons* (service gnome-desktop-service-type)
                        (service xfce-desktop-service)
                        %desktop-services))
       ...)

   Una vez realizado, estos entornos de escritorio se encontrarán como
opciones disponibles en la ventana del gestor gráfico de ingreso al
sistema.

   Las definiciones de servicio incluidas realmente en
‘%desktop-services’ y proporcionadas por ‘(gnu services dbus)’ y ‘(gnu
services desktop)’ se describen a continuación.

 -- Procedimiento Scheme: dbus-service [#:dbus DBUS] [#:services '()]
     Devuelve un servicio que ejecuta el “bus del sistema”, mediante el
     uso de DBUS, con configuración para SERVICES.

     D-Bus (https://dbus.freedesktop.org/) es una herramienta para la
     facilitación de intercomunicación entre procesos. Su bus del
     sistema se usa para permitir la comunicación entre y la
     notificación de eventos a nivel de sistema a los servicios.

     SERVICES debe ser una lista de paquetes que proporcionen un
     directorio ‘etc/dbus-1/system.d’ que contenga ficheros de
     configuración y políticas adicionales de D-Bus. Por ejemplo, para
     permitir a avahi-daemon el uso del bus del sistema, SERVICES debe
     tener el valor ‘(list avahi)’.

 -- Procedimiento Scheme: elogind-service [#:config CONFIG]
     Devuelve un servicio que ejecuta el daemon de gestión de ingreso al
     sistema y de asientos ‘elogind’. Elogind
     (https://github.com/elogind/elogind) expone una interfaz D-Bus que
     puede usarse para conocer las usuarias que han ingresado en el
     sistema, conocer qué tipo de sesiones tienen abiertas, suspender el
     sistema o inhibir su suspensión, reiniciar el sistema y otras
     tareas.

     Elogind maneja la mayor parte de los eventos a nivel de sistema de
     alimentación de su máquina, por ejemplo mediante la suspensión del
     sistema cuando se cierre la tapa, o mediante el apagado al pulsar
     la tecla correspondiente.

     El parámetro CONFIG especifica la configuración de elogind, y
     debería resultar en una invocación ‘(elogind-configuration
     (PARÁMETRO VALOR)...)’. Los parámetros disponibles y sus valores
     predeterminados son:

     ‘kill-user-processes?’
          ‘#f’
     ‘kill-only-users’
          ‘()’
     ‘kill-exclude-users’
          ‘("root")’
     ‘inhibit-delay-max-seconds’
          ‘5’
     ‘handle-power-key’
          ‘poweroff’
     ‘handle-suspend-key’
          ‘suspend’
     ‘handle-hibernate-key’
          ‘hibernate’
     ‘handle-lid-switch’
          ‘suspend’
     ‘handle-lid-switch-docked’
          ‘ignore’
     ‘power-key-ignore-inhibited?’
          ‘#f’
     ‘suspend-key-ignore-inhibited?’
          ‘#f’
     ‘hibernate-key-ignore-inhibited?’
          ‘#f’
     ‘lid-switch-ignore-inhibited?’
          ‘#t’
     ‘holdoff-timeout-seconds’
          ‘30’
     ‘idle-action’
          ‘ignore’
     ‘idle-action-seconds’
          ‘(* 30 60)’
     ‘runtime-directory-size-percent’
          ‘10’
     ‘runtime-directory-size’
          ‘#f’
     ‘remove-ipc?’
          ‘#t’
     ‘suspend-state’
          ‘("mem" "standby" "freeze")’
     ‘suspend-mode’
          ‘()’
     ‘hibernate-state’
          ‘("disk")’
     ‘hibernate-mode’
          ‘("platform" "shutdown")’
     ‘hybrid-sleep-state’
          ‘("disk")’
     ‘hybrid-sleep-mode’
          ‘("suspend" "platform" "shutdown")’

 -- Procedimiento Scheme: accountsservice-service [#:accountsservice
          ACCOUNTSSERVICE]
     Devuelve un servicio que ejecuta AccountsService, un servicio del
     sistema para la enumeración de cuentas disponibles, el cambio de
     sus contraseñas, etcétera. AccountsService se integra con PolicyKit
     para permitir a las usuarias sin privilegios la adquisición de la
     capacidad de modificar la configuración de su sistema. Véase la
     página web de AccountsService
     (https://www.freedesktop.org/wiki/Software/AccountsService/) para
     más información.

     El parámetro ACCOUNTSSERVICE es el paquete ‘accountsservice’ que se
     expondrá como un servicio.

 -- Procedimiento Scheme: polkit-service [#:polkit POLKIT]
     Devuelve un servicio que ejecuta el servicio de gestión de
     privilegios Polkit
     (https://www.freedesktop.org/wiki/Software/polkit/), que permite a
     las administradoras del sistema la concesión de permisos sobre
     operaciones privilegiadas de manera estructurada. Mediante las
     consultas al servicio Polkit, un componente del sistema con
     privilegios puede conocer cuando debe conceder capacidades
     adicionales a usuarias ordinarias. Por ejemplo, se le puede
     conceder la capacidad a una usuaria ordinaria de suspender el
     sistema si la usuaria ingresó de forma local.

 -- Variable Scheme: polkit-wheel-service
     Servicio que añade a las usuarias del grupo ‘wheel’ como
     administradoras del servicio Polkit. Esto hace que se solicite su
     propia contraseña a las usuarias del grupo ‘wheel’ cuando realicen
     acciones administrativas en vez de la contraseña de ‘root’, de
     manera similar al comportamiento de ‘sudo’.

 -- Variable Scheme: upower-service-type
     Servicio que ejecuta <https://upower.freedesktop.org/>, ‘upowerd’,
     un monitor a nivel de sistema de consumo de energía y niveles de
     batería, con las opciones de configuración proporcionadas.

     Implementa la interfaz D-Bus ‘org.freedesktop.UPower’, y se usa de
     forma notable en GNOME.

 -- Tipo de datos: upower-configuration
     Tipo de datos que representa la configuración de UPower.

     ‘upower’ (predeterminado: UPOWER)
          Paquete usado para ‘upower’.

     ‘watts-up-pro?’ (predeterminado: ‘#f’)
          Permite el uso del dispositivo Watts Up Pro.

     ‘poll-batteries?’ (predeterminado: ‘#t’)
          Usa el servicio de consulta del núcleo para los cambios en
          niveles de batería.

     ‘ignore-lid?’ (predeterminado: ‘#f’)
          Ignora el estado de la tapa, puede ser útil en caso de ser
          incorrecto un dispositivo determinado.

     ‘use-percentage-for-policy?’ (predeterminado: ‘#f’)
          Determina si se debe usar la política basada en el porcentaje
          de batería. La opción predeterminada es el uso del tiempo
          restante, cambie a ‘#t’ para usar el porcentaje.

     ‘percentage-low’ (predeterminado: ‘10’)
          Cuando ‘use-percentaje-for-policy?’ es ‘#t’, determina el
          porcentaje en el que la carga de la batería se considera baja.

     ‘percentage-critical’ (predeterminado: ‘3’)
          Cuando ‘use-percentaje-for-policy?’ es ‘#t’, determina el
          porcentaje en el que la carga de la batería se considera
          crítica.

     ‘percentage-action’ (predeterminado: ‘2’)
          Cuando ‘use-percentaje-for-policy?’ es ‘#t’, determina el
          porcentaje en el que se tomará la acción.

     ‘time-low’ (predeterminado: ‘1200’)
          Cuando ‘use-percentaje-for-policy?’ es ‘#t’, determina el
          tiempo restante en segundos con el que carga de la batería se
          considera baja.

     ‘time-critical’ (predeterminado: ‘300’)
          Cuando ‘use-percentaje-for-policy?’ es ‘#t’, determina el
          tiempo restante en segundos con el que carga de la batería se
          considera crítica.

     ‘time-action’ (predeterminado: ‘120’)
          Cuando ‘use-percentaje-for-policy?’ es ‘#t’, determina el
          tiempo restante en segundos con el que se tomará la acción.

     ‘critical-power-action’ (predeterminada: ‘'hybrid-sleep’)
          La acción tomada cuando se alcanza ‘percentage-action’ o
          ‘time-action’ (dependiendo de la configuración de
          ‘use-percentage-for-policy?’).

          Los valores posibles son:

             • ‘'power-off’

             • ‘'hibernate’

             • ‘'hybrid-sleep’.

 -- Procedimiento Scheme: udisks-service [#:udisks UDISKS]
     Devuelve un servicio para UDisks
     (https://udisks.freedesktop.org/docs/latest/), un daemon de
     “gestión de discos” que proporciona interfaces de usuaria con
     notificaciones y formas de montar/desmontar discos. Los programas
     que se comunican con UDisk incluyen la orden ‘udisksctl’, parte de
     UDisks, y la utilidad “Discos” de GNOME.

 -- Variable Scheme: colord-service-type
     Devuelve un servicio que ejecuta ‘colord’, un servicio del sistema
     con una interfaz D-Bus para la gestión de perfiles de dispositivos
     de entrada y salida como la pantalla y el escáner. Se usa de forma
     notable por parte de la herramienta gráfica de “Gestión de color”
     de GNOME. Véase la página web de colord
     (https://www.freedesktop.org/software/colord/) para más
     información.

 -- Procedimiento Scheme: geoclue-application-name [#:allowed? #t]
          [#:system? #f] [#:users '()]
     Devuelve una configuración que permite a una aplicación el acceso a
     los datos de posicionamiento de GeoClue. NOMBRE es el Desktop ID de
     la aplicación, sin la parte ‘.desktop’. Si el valor de ALLOWED? es
     verdadero, la aplicación tendrá acceso a la información de
     posicionamiento de manera predeterminada. El valor booleano SYSTEM?
     indica si una aplicación es un componente de sistema o no. Por
     último, USERS es una lista de UID de todas las usuarias para las
     que esta aplicación tiene permitido el acceso de información. Una
     lista de usuarias vacía significa que se permiten todas las
     usuarias.

 -- Procedimiento Scheme: sane-service-type
     Este servicio proporciona acceso a escáner a través de SANE
     (http://www.sane-project.org) instalando las reglas de udev
     necesarias.

 -- Variable Scheme: %standard-geoclue-applications
     La lista estándar de configuraciones de GeoClue de aplicaciones
     conocidas, proporcionando autoridad a la utilidad de fecha y hora
     de GNOME para obtener la localización actual para ajustar la zona
     horaria, y permitiendo que los navegadores Icecat y Epiphany puedan
     solicitar información de localización. Tanto IceCat como Epiphany
     solicitan permiso a la usuaria antes de permitir a una página web
     conocer la ubicación de la usuaria.

 -- Procedimiento Scheme: geoclue-service [#:colord COLORD] [#:whitelist
          '()]  [#:wifi-geolocation-url
     "https://location.services.mozilla.com/v1/geolocate?key=geoclue"]
      [#:submit-data? #f] [#:wifi-submission-url
     "https://location.services.mozilla.com/v1/submit?key=geoclue"]
      [#:submission-nick "geoclue"]  [#:applications
     %standard-geoclue-applications] Devuelve un servicio que ejecuta el
     servicio de posicionamiento GeoClue. Proporciona una interfaz D-Bus
     que permite a las aplicaciones solicitar una posición física de la
     usuaria, y de manera opcional añadir información a bases de datos
     de posicionamiento en línea. Véase la página web de GeoClue
     (https://wiki.freedesktop.org/www/Software/GeoClue/) para obtener
     más información.

 -- Procedimiento Scheme: bluetooth-service [#:bluez BLUEZ]
          [#:auto-enable? #f]
     Devuelve un servicio que ejecuta el daemon ‘bluetoothd’ que
     gestiona todos los dispositivos Bluetooth y proporciona cierto
     número de interfaces D-Bus. Cuando AUTO-ENABLE? es verdadero, el
     controlador bluetooth tendrá alimentación automáticamente tras el
     arranque, lo que puede ser útil si se posee un teclado o un ratón
     bluetooth.

     Las usuarias necesitan la pertenencia al grupo ‘lp’ para el acceso
     al servicio D-Bus.

 -- Variable Scheme: gnome-keyring-service-type
     This is the type of the service that adds the GNOME Keyring
     (https://wiki.gnome.org/Projects/GnomeKeyring). Its value is a
     ‘gnome-keyring-configuration’ object (see below).

     Este servicio añade el paquete ‘gnome-keyring’ al perfil del
     sistema y extiende PAM con entradas que usan
     ‘pam_gnome_keyring.so’, las cuales desbloquean el anillo de claves
     del sistema de la usuaria cuando ingrese en el sistema o cambie su
     contraseña con passwd.

 -- Tipo de datos: gnome-keyring-configuration
     Registro de configuración para el servicio del anillo de claves de
     GNOME.

     ‘keyring’ (predeterminado: ‘gnome-keyring’)
          El paquete GNOME keyring usado.

     ‘pam-services’
          Una lista de pares ‘(SERVICIO . TIPO)’ que denotan los
          servicios de PAM que deben extenderse, donde SERVICIO es el
          nombre de un servicio existente que debe extenderse y TIPO es
          ‘login’ o ‘passwd’.

          Si se proporciona ‘login’, añade un campo opcional
          ‘pam_gnome_keyring.so’ al bloque de identificación sin
          parámetros y al bloque de sesión con ‘auto_start’. Si se
          proporciona ‘passwd’, añade un campo opcional
          ‘pam_gnome_keyring.so’ al bloque de contraseña sin parámetros.

          De manera predeterminada, este campo contiene “gdm-password”
          con el valor ‘login’ y “passwd” tiene valor ‘passwd’.


File: guix.es.info,  Node: Servicios de sonido,  Next: Servicios de bases de datos,  Prev: Servicios de escritorio,  Up: Servicios

8.8.8 Servicios de sonido
-------------------------

El módulo ‘(gnu services sound)’ proporciona un servicio para la
configuración del sistema ALSA (arquitectura avanzada de sonido de
Linux), el cual establece PulseAudio como el controlador de ALSA
preferido para salida de sonido.

 -- Variable Scheme: alsa-service-type
     Es el tipo para el sistema ALSA (https://alsa-project.org/)
     (Arquitectura de sonido avanzada de Linux), que genera el fichero
     de configuración ‘/etc/asound.conf’. El valor para este tipo es un
     registro ‘alsa-configuration’ como en el ejemplo:

          (service alsa-service-type)

     Véase a continuación más detalles sobre ‘alsa-configuration’.

 -- Tipo de datos: alsa-configuration
     Tipo de datos que representa la configuración para ‘alsa-service’.

     ‘alsa-plugins’ (predeterminados: ALSA-PLUGINS)
          El paquete ‘alsa-plugins’ usado.

     ‘pulseaudio?’ (predeterminado: #T)
          Determina si las aplicaciones ALSA deben usar el servidor de
          sonido PulseAudio (https://www.pulseaudio.org/) de manera
          transparente.

          El uso de PulseAudio le permite la ejecución de varias
          aplicaciones que produzcan sonido al mismo tiempo y su control
          individual mediante ‘pavucontrol’, entre otras opciones.

     ‘extra-options’ (predeterminado: "")
          Cadena a añadir al final del fichero ‘/etc/asound.conf’.

   Las usuarias individuales que deseen forzar la configuración de ALSA
en el sistema para sus cuentas pueden hacerlo con el fichero
‘~/.asoundrc’:

     # En guix tenemos que especificar la ruta absoluta del módulo.
     pcm_type.jack {
       lib "/home/alicia/.guix-profile/lib/alsa-lib/libasound_module_pcm_jack.so"
     }

     # Redirección de ALSA a jack:
     # <http://jackaudio.org/faq/routing_alsa.html>.
     pcm.rawjack {
       type jack
       playback_ports {
         0 system:playback_1
         1 system:playback_2
       }

       capture_ports {
         0 system:capture_1
         1 system:capture_2
       }
     }

     pcm.!default {
       type plug
       slave {
         pcm "rawjack"
       }
     }

   Véase <https://www.alsa-project.org/main/index.php/Asoundrc> para
obtener más detalles.

 -- Variable Scheme: pulseaudio-service-type
     Tipo de servicio del servidor de sonido PulseAudio. Existe para
     permitir los cambios a nivel de sistema de la configuración
     predeterminada a través de ‘pulseaudio-configuration’, véase a
     continuación.

          Aviso: This service overrides per-user configuration files. If
          you want PulseAudio to honor configuraton files in
          ‘~/.config/pulse’ you have to unset the environment variables
          ‘PULSE_CONFIG’ and ‘PULSE_CLIENTCONFIG’ in your
          ‘~/.bash_profile’.

          Aviso: Este servicio no asegura en sí que el paquete
          ‘pulseaudio’ exista en su máquina. Únicamente añade los
          ficheros de configuración, como se detalla a continuación. En
          el caso (ciertamente poco probable), de que se encuentre si un
          paquete pulseaudio ‘pulseaudio’, considere activarlo a través
          del tipo ‘alsa-service-type’ mostrado previamente.

 -- Tipo de datos: pulseaudio-configuration
     Tipo de datos que representa la configuración para
     ‘pulseaudio-service’.

     CLIENT-CONF (predeterminada: ‘'()’)
          Lista de opciones de configuración de ‘client.conf’. Acepta
          una lista de cadenas o pares símbolo-valor. Las cadenas se
          introducirán literalmente añadiendo un salto de línea. Los
          pares tendrán formato “clave = valor”, de nuevo añadiendo un
          salto de línea.

     DAEMON-CONF (predeterminada: ‘'((flat-volumes . no))’)
          Lista de opciones de configuración de ‘daemon.conf’, con el
          mismo formato que CLIENT-CONF.

     SCRIPT-FILE (predeterminado: ‘(file-append pulseaudio "/etc/pulse/default.pa")’)
          Fichero del guión usado como ‘default.pa’

     SYSTEM-SCRIPT-FILE (predeterminado: ‘(file-append pulseaudio "/etc/pulse/system.pa")’)
          Fichero del guión usado como ‘system.pa’

 -- Variable Scheme: ladspa-service-type
     Este servicio proporciona valor a la variable LADSPA_PATH, de
     manera que los programas que lo tengan en cuenta, por ejemplo
     PulseAudio, puedan cargar módulos LADSPA.

     El siguiente ejemplo configura el servicio para permitir la
     activación de los módulos del paquete ‘swh-plugins’:

          (service ladspa-service-type
                   (ladspa-configuration (plugins (list swh-plugins))))

     Véase <http://plugin.org.uk/ladspa-swh/docs/ladspa-swh.html> para
     obtener más detalles.


File: guix.es.info,  Node: Servicios de bases de datos,  Next: Servicios de correo,  Prev: Servicios de sonido,  Up: Servicios

8.8.9 Servicios de bases de datos
---------------------------------

El módulo ‘(gnu services databases)’ proporciona los siguientes
servicios.

 -- Procedimiento Scheme: postgresql-service [#:postgresql postgresql]
          [#:config-file] [#:data-directory
          ``/var/lib/postgresql/data'']  [#:port
     5432] [#:locale “en_US.utf8”] [#:extension-packages ’()] Devuelve
     un servicio que ejecuta POSTGRESQL, el servidor de bases de datos
     PostgreSQL.

     El daemon de PostgreSQL carga su configuración de tiempo de
     ejecución desde CONFIG-FILE, crea un cluster de bases de datos con
     LOCALE como la localización predeterminada, almacenado en
     DATA-DIRECTORY. Una vez hecho esto, escucha en PORT.

     Las extensiones adicionales se cargan de paquetes enumerados en
     EXTENSION-PACKAGES. Las extensiones están disponibles en tiempo de
     ejecución. Por ejemplo, para crear una base de datos geográfica con
     la extensión ‘postgis’, una usuaria podría configurar el servicio
     postgresql-service como en este ejemplo:

          (use-package-modules databases geo)

          (operating-system
            ...
            ;; postgresql es necesario para ejecutar `psql' pero no se necesita
            ;; postgis para un funcionamiento correcto.
            (packages (cons* postgresql %base-packages))
            (services
              (cons*
                (postgresql-service #:extension-packages (list postgis))
                %base-services)))

     Una vez hecho, la extensión estará visible y podrá inicializar una
     base de datos geográfica de este modo:

          psql -U postgres
          > create database pruebapostgis;
          > \connect pruebapostgis;
          > create extension postgis;
          > create extension postgis_topology;

     No es necesaria la adición de este campo para extensiones incluidas
     en la distribución oficial(1) como hstore o dblink, puesto que ya
     pueden cargarse en postgresql. Este campo únicamente es necesario
     para extensiones proporcionadas por otros paquetes.

 -- Procedimiento Scheme: mysql-service [#:config (mysql-configuration)]
     Devuelve un servicio que ejecuta ‘mysqld’, el servidor de base de
     datos MySQL o MariaDB.

     El parámetro opcional CONFIG especifica la configuración para
     ‘mysqld’, que debe ser un objeto ‘<mysql-configuration>’.

 -- Tipo de datos: mysql-configuration
     Tipo de datos que representa la configuración para ‘mysql-service’.

     ‘mysql’ (predeterminado: MARIADB)
          Objeto de paquete del servidor de bases de datos MySQL, puede
          ser tanto MARIADB como MYSQL.

          Para MySQL, se mostrará una contraseña de root temporal
          durante el tiempo de activación. Para MariaDB, la contraseña
          de root está vacía.

     ‘port’ (predeterminado: ‘3306’)
          Puerto TCP en el que escucha el servidor de bases de datos a
          la espera de conexiones entrantes.

 -- Variable Scheme: memcached-service-type
     Este es el tipo de servicio para el servicio Memcached
     (https://memcached.org/), que proporciona caché distribuida en
     memoria. El valor para este tipo de servicio es un objeto
     ‘memcached-configuration’.

     (service memcached-service-type)

 -- Tipo de datos: memcached-configuration
     Tipo de datos que representa la configuración de memcached.

     ‘memcached’ (predeterminado: ‘memcached’)
          El paquete de Memcached usado.

     ‘interfaces’ (predeterminadas: ‘'("0.0.0.0")’)
          Interfaces de red por las que se esperan conexiones.

     ‘tcp-port’ (predeterminado: ‘11211’)
          Puerto en el que se deben aceptar conexiones,

     ‘udp-port’ (predeterminado: ‘11211’)
          Puerto en el que se deben aceptar conexiones UDP, el valor 0
          desactiva la escucha en un socket UDP.

     ‘additional-options’ (predeterminadas: ‘'()’)
          Opciones de línea de órdenes adicionales que se le
          proporcionarán a ‘memcached’.

 -- Variable Scheme: mongodb-service-type
     Este es el tipo de servicio para MongoDB
     (https://www.mongodb.com/). El valor para este tipo de servicio es
     un objeto ‘mongodb-configuration’.

     (service mongodb-service-type)

 -- Tipo de datos: mongodb-configuration
     Tipo de datos que representa la configuración de GPM.

     ‘mongodb’ (predeterminado: ‘mongodb’)
          El paquete MongoDB usado.

     ‘config-file’ (predeterminado: ‘%default-mongodb-configuration-file’)
          El fichero de configuración de MongoDB.

     ‘data-directory’ (predeterminado: ‘"/var/lib/mongodb"’)
          Este valor se usa para la creación del directorio, de modo que
          exista y sea propiedad de la usuaria mongodb. Debe
          corresponder con el directorio de datos para el que se ha
          configurado MongoDB a través del fichero de configuración.

 -- Variable Scheme: redis-service-type
     Es el tipo de servicio para el almacén de clave/valor Redis
     (https://redis.io/), cuyo valor es un objeto ‘redis-configuration’.

 -- Tipo de datos: redis-configuration
     Tipo de datos que representa la configuración de redis.

     ‘redis’ (predeterminado: ‘redis’)
          El paquete Redis usado.

     ‘bind’ (predeterminada: ‘"127.0.0.1"’)
          La interfaz de red en la que se escucha.

     ‘port’ (predeterminado: ‘6379’)
          Puerto en el que se aceptan conexiones, el valor 0 desactiva
          la escucha en un socket TCP.

     ‘working-directory’ (predeterminado: ‘"/var/lib/redis"’)
          Directorio en el que se almacena los ficheros de base de datos
          y relacionados.

   ---------- Footnotes ----------

   (1) NdT: “contrib” de “contributed” en inglés, “contribuciones”
podría entenderse en castellano.


File: guix.es.info,  Node: Servicios de correo,  Next: Servicios de mensajería,  Prev: Servicios de bases de datos,  Up: Servicios

8.8.10 Servicios de correo
--------------------------

El módulo ‘(gnu services mail)’ proporciona definiciones de servicios
Guix para servicios de correo electrónico: servidores IMAP, POP3 y LMTP,
así como agentes de transporte de correo (MTA). ¡Muchos acrónimos! Estos
servicios se detallan en las subsecciones a continuación.

Servicio Dovecot
................

 -- Procedimiento Scheme: dovecot-service [#:config
          (dovecot-configuration)]
     Devuelve un servicio que ejecuta el servidor de correo
     IMAP/POP3/LMTP Dovecot.

   Habitualmente Dovecot no necesita mucha configuración; el objeto de
configuración predeterminado creado por ‘(dovecot-configuration)’ es
suficiente si su correo se entrega en ‘~/Maildir’. Un certificado
auto-firmado se generará para las conexiones protegidas por TLS, aunque
Dovecot también escuchará en puertos sin cifrar de manera
predeterminada. Existe un amplio número de opciones no obstante, las
cuales las administradoras del correo puede que deban cambiar, y como en
el caso de otros servicios, Guix permite a la administradora del sistema
la especificación de dichos parámetros a través de una interfaz Scheme
uniforme.

   Por ejemplo, para especificar que el correo se encuentra en
‘maildir:~/.correo’, se debe instanciar el servicio de Dovecot de esta
manera:

     (dovecot-service #:config
                      (dovecot-configuration
                       (mail-location "maildir:~/.correo")))

   A continuación se encuentran los parámetros de configuración
disponibles. El tipo de cada parámetro antecede la definición del mismo;
por ejemplo, ‘string-list foo’ indica que el parámetro ‘foo’ debe
especificarse como una lista de cadenas. También existe la posibilidad
de especificar la configuración como una cadena, si tiene un fichero
‘dovecot.conf’ antiguo que quiere trasladar a otro sistema; véase el
final para más detalles.

   Los campos disponibles de ‘dovecot-configuration’ son:

 -- parámetro de ‘dovecot-configuration’: package dovecot
     El paquete dovecot.

 -- parámetro de ‘dovecot-configuration’: lista-cadenas-separada-comas
          listen
     Una lista de direcciones IP o nombres de máquina donde se
     escucharán conexiones. ‘*’ escucha en todas las interfaces IPv4,
     ‘::’ escucha en todas las interfaces IPv6. Si desea especificar
     puertos distintos a los predefinidos o algo más complejo,
     personalice los campos de dirección y puerto del ‘inet-listener’ de
     los servicios específicos en los que tenga interés.

 -- parámetro de ‘dovecot-configuration’: lista-protocol-configuration
          protocols
     Lista de protocolos que se desea ofrecer. Los protocolos
     disponibles incluyen ‘imap’, ‘pop3’ y ‘lmtp’.

     Los campos disponibles de ‘protocol-configuration’ son:

      -- parámetro de ‘protocol-configuration’: string name
          El nombre del protocolo.

      -- parámetro de ‘protocol-configuration’: string auth-socket-path
          Ruta del socket de UNIX del servidor de identificación maestro
          para la búsqueda de usuarias. Se usa por parte de imap (para
          usuarias compartidas) y lda. Su valor predeterminado es
          ‘"/var/run/dovecot/auth-userdb"’.

      -- parámetro de ‘protocol-configuration’:
               list-cadenas-separada-espacios mail-plugins
          Lista separada por espacios de módulos a cargar.

      -- parámetro de ‘protocol-configuration’: entero-no-negativo
               mail-max-userip-connections
          Número máximo de conexiones IMAP permitido para una usuaria
          desde cada dirección IP. ATENCIÓN: El nombre de usuaria es
          sensible a las mayúsculas. Su valor predeterminado es ‘10’.

 -- parámetro de ‘dovecot-configuration’: lista-service-configuration
          services
     Lista de servicios activados. Los servicios disponibles incluyen
     ‘imap’, ‘imap-login’, ‘pop3’, ‘pop3-login’, ‘auth’ y ‘lmtp’.

     Los campos disponibles de ‘service-configuration’ son:

      -- parámetro de ‘service-configuration’: string kind
          El tipo del servicio. Entre los valores aceptados se incluye
          ‘director’, ‘imap-login’, ‘pop3-login’, ‘lmtp’, ‘imap’,
          ‘pop3’, ‘auth’, ‘auth-worker’, ‘dict’, ‘tcpwrap’,
          ‘quota-warning’ o cualquier otro.

      -- parámetro de ‘service-configuration’:
               lista-listener-configuration listeners
          Procesos de escucha para el servicio. Un proceso de escucha es
          un objeto ‘unix-listener-configuration’, un objeto
          ‘fifo-listener-configuration’ o un objeto
          ‘inet-listener-configuration’. Su valor predeterminado es
          ‘()’.

          Los campos disponibles de ‘unix-listener-configuration’ son:

           -- parámetro de ‘unix-listener-configuration’: string path
               Ruta al fichero, relativa al campo ‘base-dir’. También se
               usa como nombre de la sección.

           -- parámetro de ‘unix-listener-configuration’: string mode
               Modo de acceso del socket. Su valor predeterminado es
               ‘"0600"’.

           -- parámetro de ‘unix-listener-configuration’: string user
               Usuaria que posee el socket. Su valor predeterminado es
               ‘""’.

           -- parámetro de ‘unix-listener-configuration’: string group
               Grupo que posee el socket. Su valor predeterminado es
               ‘""’.

          Los campos disponibles de ‘fifo-listener-configuration’ son:

           -- parámetro de ‘fifo-listener-configuration’: string path
               Ruta al fichero, relativa al campo ‘base-dir’. También se
               usa como nombre de la sección.

           -- parámetro de ‘fifo-listener-configuration’: string mode
               Modo de acceso del socket. Su valor predeterminado es
               ‘"0600"’.

           -- parámetro de ‘fifo-listener-configuration’: string user
               Usuaria que posee el socket. Su valor predeterminado es
               ‘""’.

           -- parámetro de ‘fifo-listener-configuration’: string group
               Grupo que posee el socket. Su valor predeterminado es
               ‘""’.

          Los campos disponibles de ‘inet-listener-configuration’ son:

           -- parámetro de ‘inet-listener-configuration’: string
                    protocol
               El protocolo con el que se esperan las conexiones.

           -- parámetro de ‘inet-listener-configuration’: string address
               La dirección en la que se escuchará, o vacío para
               escuchar en todas las direcciones. Su valor
               predeterminado es ‘""’.

           -- parámetro de ‘inet-listener-configuration’:
                    entero-no-negativo port
               El puerto en el que esperarán conexiones.

           -- parámetro de ‘inet-listener-configuration’: boolean ssl?
               Si se usará SSL para este servicio; ‘yes’ (sí), ‘no’ o
               ‘required’ (necesario). Su valor predeterminado es ‘#t’.

      -- parámetro de ‘service-configuration’: entero-no-negativo
               client-limit
          Número máximo de conexiones simultáneas por cliente por
          proceso. Una vez se reciba este número de conexiones, la
          siguiente conexión entrante solicitará a Dovecot el inicio de
          un nuevo proceso. Si se proporciona el valor 0, se usa
          ‘default-client-limit’.

          El valor predeterminado es ‘0’.

      -- parámetro de ‘service-configuration’: entero-no-negativo
               service-count
          Número de conexiones a manejar antes de iniciar un nuevo
          proceso. Habitualmente los únicos valores útiles son 0
          (ilimitadas) o 1. 1 es más seguro, pero 0 es más rápido.
          <doc/wiki/LoginProcess.txt>. Su valor predeterminado es ‘1’.

      -- parámetro de ‘service-configuration’: entero-no-negativo
               process-limit
          Número máximo de procesos que pueden existir para este
          servicio. Si se proporciona el valor 0, se usa
          ‘default-process-limit’.

          El valor predeterminado es ‘0’.

      -- parámetro de ‘service-configuration’: entero-no-negativo
               process-min-avail
          Número de procesos que siempre permanecerán a la espera de más
          conexiones. Su valor predeterminado es ‘0’.

      -- parámetro de ‘service-configuration’: entero-no-negativo
               vsz-limit
          Si proporciona ‘service-count 0’, probablemente necesitará
          incrementar este valor. Su valor predeterminado es
          ‘256000000’.

 -- parámetro de ‘dovecot-configuration’: dict-configuration dict
     Configuración de Dict, como la creada por el constructor
     ‘dict-configuration’.

     Los campos disponibles de ‘dict-configuration’ son:

      -- parámetro de ‘dict-configuration’: campos-libres entries
          Una lista de pares clave-valor que este diccionario debe
          incorporar. Su valor predeterminado es ‘()’.

 -- parámetro de ‘dovecot-configuration’: lista-passdb-configuration
          passdbs
     Una lista de configuraciones de passdb, cada una creada por el
     constructor ‘passdb-configuration’.

     Los campos disponibles de ‘passdb-configuration’ son:

      -- parámetro de ‘passdb-configuration’: string driver
          El controlador que passdb debe usar. Entre los valores
          aceptados se incluye ‘pam’, ‘passwd’, ‘shadow’, ‘bsdauth’ y
          ‘static’. Su valor predeterminado es ‘"pam"’.

      -- parámetro de ‘passdb-configuration’:
               lista-cadenas-separada-espacios args
          Lista de parámetros separados por espacios para proporcionar
          al controlador passdb. Su valor predeterminado es ‘""’.

 -- parámetro de ‘dovecot-configuration’: lista-userdb-configuration
          userdbs
     Lista de configuraciones userdb, cada una creada por el constructor
     ‘userdb-configuration’.

     Los campos disponibles de ‘userdb-configuration’ son:

      -- parámetro de ‘userdb-configuration’: string driver
          El controlador que userdb debe usar. Entre los valores
          aceptados se incluye ‘passwd’ y ‘static’. Su valor
          predeterminado es ‘"passwd"’.

      -- parámetro de ‘userdb-configuration’:
               lista-cadenas-separada-espacios args
          Lista separada por espacios de parámetros usados para el
          controlador userdb. Su valor predeterminado es ‘""’.

      -- parámetro de ‘userdb-configuration’: parámetros-libres
               override-fields
          Sustituye los valores de campos de passwd. Su valor
          predeterminado es ‘()’.

 -- parámetro de ‘dovecot-configuration’: plugin-configuration
          plugin-configuration
     Configuración del módulo, creada por el constructor
     ‘plugin-configuration’.

 -- parámetro de ‘dovecot-configuration’: lista-namespace-configuration
          namespaces
     Lista de espacios de nombres. Cada elemento de la lista debe
     crearse con el constructor ‘namespace-configuration’.

     Los campos disponibles de ‘namespace-configuration’ son:

      -- parámetro de ‘namespace-configuration’: string name
          Nombre para este espacio de nombres.

      -- parámetro de ‘namespace-configuration’: string type
          Tipo del espacio de nombres: ‘private’, ‘shared’ o ‘public’.
          Su valor predeterminado es ‘"private"’.

      -- parámetro de ‘namespace-configuration’: string separator
          Separador jerárquico usado. Debe usar el mismo separador para
          todos los espacios de nombres o algunos clientes pueden
          confundirse. Habitualmente ‘/’ es un buen valor. El valor
          predeterminado depende no obstante del formato del
          almacenamiento de correo subyacente. Su valor predeterminado
          es ‘""’.

      -- parámetro de ‘namespace-configuration’: string prefix
          Prefijo necesario para el acceso a este espacio de nombres.
          Tiene que ser necesario para todos los espacios de nombres.
          Por ejemplo ‘Public/’. Su valor predeterminado es ‘""’.

      -- parámetro de ‘namespace-configuration’: string location
          Localización física de la bandeja de correo. En el mismo
          formato que la localización del correo, que también es su
          valor predeterminado. Su valor predeterminado es ‘""’.

      -- parámetro de ‘namespace-configuration’: boolean inbox?
          Únicamente puede existir una bandeja de entrada (INBOX), y
          esta configuración define qué espacio de nombres la posee. Su
          valor predeterminado es ‘#f’.

      -- parámetro de ‘namespace-configuration’: boolean hidden?
          Si un espacio de nombres está oculto, no se anuncia a los
          clientes a través de la extensión NAMESPACE. Lo más probable
          es que también desee proporcionar ‘list? #f’. Es útil
          principalmente durante la conversión desde otro servidor de
          correo con espacios de nombres distintos que desea marcar como
          obsoletos pero que todavía funcionan. Por ejemplo, puede crear
          espacios de nombres ocultos con prefijos ‘~/mail’, ‘~%u/mail’
          y ‘mail/’. Su valor predeterminado es ‘#f’.

      -- parámetro de ‘namespace-configuration’: boolean list?
          Muestra las bandejas de correo bajo este espacio de nombres
          con la orden LIST. Hace que el espacio de nombres sea visible
          para clientes que no permiten la extensión NAMESPACE. El valor
          especial ‘children’ enumera las bandejas de correo
          descendientes, pero oculta el prefijo del espacio de nombres.
          Su valor predeterminado es ‘#t’.

      -- parámetro de ‘namespace-configuration’: boolean subscriptions?
          El espacio de nombres maneja sus propias subscripciones. Si es
          ‘#f’, el espacio de nombres superior las maneja. El prefijo
          vacío siempre debe tener este valor como ‘#t’. Su valor
          predeterminado es ‘#t’.

      -- parámetro de ‘namespace-configuration’:
               lista-mailbox-configuration mailboxes
          Lista de bandejas de correo predefinidas en este espacio de
          nombres. Su valor predeterminado es ‘()’.

          Los campos disponibles de ‘mailbox-configuration’ son:

           -- parámetro de ‘mailbox-configuration’: string name
               Nombre de esta bandeja de correo.

           -- parámetro de ‘mailbox-configuration’: string auto
               Con ‘create’ se crea de forma automática esta bandeja de
               correo. Con ‘subscribe’ se crea y se suscribe a la
               bandeja de correo. Su valor predeterminado es ‘"no"’.

           -- parámetro de ‘mailbox-configuration’:
                    lista-cadenas-separada-espacios special-use
               Lista de atributos ‘SPECIAL-USE’ de IMAP como se
               especifican en el RFC 6154. Entre los valores aceptados
               se incluye ‘\All’, ‘\Archive’, ‘\Drafts’, ‘\Flagged’,
               ‘\Junk’, ‘\Sent’ y ‘\Trash’. Su valor predeterminado es
               ‘()’.

 -- parámetro de ‘dovecot-configuration’: nombre-fichero base-dir
     Directorio base donde se almacenan los datos de tiempo de
     ejecución. Su valor predeterminado es ‘"/var/run/dovecot/"’.

 -- parámetro de ‘dovecot-configuration’: string login-greeting
     Mensaje de saludo para clientes. Su valor predeterminado es
     ‘"Dovecot ready."’.

 -- parámetro de ‘dovecot-configuration’:
          lista-cadenas-separada-espacios login-trusted-networks
     Lista de rangos de red en los que se confía. Las conexiones desde
     estas IP tienen permitido forzar sus direcciones IP y puertos (para
     el registro y las comprobaciones de identidad).
     ‘disable-plaintext-auth’ también se ignora en estas redes.
     Habitualmente aquí se especificarían los servidores proxy IMAP. Su
     valor predeterminado es ‘()’.

 -- parámetro de ‘dovecot-configuration’:
          lista-cadenas-separada-espacios login-access-sockets
     Lista de sockets para la comprobación de acceso al sistema (por
     ejemplo tcpwrap). Su valor predeterminado es ‘()’.

 -- parámetro de ‘dovecot-configuration’: boolean verbose-proctitle?
     Muestra títulos de procesamiento más detallados (en la postdata).
     Actualmente muestra el nombre de la usuaria y su dirección IP. Es
     útil para ver quién está usando procesos IMAP realmente (por
     ejemplo bandejas de correo compartidas o si el mismo identificador
     numérico de usuaria se usa para varias cuentas). Su valor
     predeterminado es ‘#f’.

 -- parámetro de ‘dovecot-configuration’: boolean shutdown-clients?
     Determina si se deben finalizar todos los procesos cuando el
     proceso maestro de Dovecot termine su ejecución. El valor ‘#f’
     significa que Dovecot puede actualizarse sin forzar el cierre de
     las conexiones existentes (aunque esto puede ser un problema si la
     actualización se debe, por ejemplo, a la corrección de una
     vulnerabilidad). Su valor predeterminado es ‘#t’.

 -- parámetro de ‘dovecot-configuration’: entero-no-negativo
          doveadm-worker-count
     Si es no-cero, ejecuta las ordenes del correo a través de este
     número de conexiones al servidor doveadm, en vez de ejecutarlas
     directamente en el mismo proceso. Su valor predeterminado es ‘0’.

 -- parámetro de ‘dovecot-configuration’: string doveadm-socket-path
     Socket UNIX o máquina:puerto usados para la conexión al servidor
     doveadm. Su valor predeterminado es ‘"doveadm-server"’.

 -- parámetro de ‘dovecot-configuration’:
          lista-cadenas-separada-espacios import-environment
     Lista de variables de entorno que se preservan al inicio de Dovecot
     y se proporcionan a los procesos iniciados. También puede
     proporcionar pares clave=valor para proporcionar siempre dicha
     configuración específica.

 -- parámetro de ‘dovecot-configuration’: boolean
          disable-plaintext-auth?
     Desactiva la orden LOGIN y todas las otras identificaciones en
     texto plano a menos que se use SSL/TLS (capacidad LOGINDISABLED).
     Tenga en cuenta que si la IP remota coincide con la IP local (es
     decir, se ha conectado desde la misma máquina), la conexión se
     considera segura y se permite la identificación en texto plano.
     Véase también la configuración ssl=required. Su valor
     predeterminado es ‘#t’.

 -- parámetro de ‘dovecot-configuration’: entero-no-negativo
          auth-cache-size
     Tamaño de la caché de identificaciones (por ejemplo, ‘#e10e6’. 0
     significa que está desactivada. Tenga en cuenta que bsdauth, PAM y
     vpopmail necesitan un valor en ‘cache-key’ para que se use la
     caché. Su valor predeterminado es ‘0’.

 -- parámetro de ‘dovecot-configuration’: string auth-cache-ttl
     Tiempo de vida de los datos almacenados en caché. Los registros de
     caché no se usan tras su expiración, *excepto* si la base de datos
     principal devuelve un fallo interno. También se intentan manejar
     los cambios de contraseña de manera automática: si la
     identificación previa de la usuaria fue satisfactoria, pero no esta
     última, la caché no se usa. En estos momentos únicamente funciona
     con identificación en texto plano. Su valor predeterminado es ‘"1
     hour"’.

 -- parámetro de ‘dovecot-configuration’: string auth-cache-negative-ttl
     Tiempo de vida para fallos de búsqueda en la caché (usuaria no
     encontrada, la contraseña no coincide). 0 desactiva completamente
     su almacenamiento en caché. Su valor predeterminado es ‘"1 hour"’.

 -- parámetro de ‘dovecot-configuration’:
          lista-cadenas-separada-espacios auth-realms
     Lista de dominios para los mecanismos de identificación de SASL que
     necesite. Puede dejarla vacía si no desea permitir múltiples
     dominios. Muchos clientes simplemente usarán el primero de la
     lista, por lo que debe mantener el dominio predeterminado en
     primera posición. Su valor predeterminado es ‘()’.

 -- parámetro de ‘dovecot-configuration’: string auth-default-realm
     Dominio predeterminado usado en caso de no especificar ninguno.
     Esto se usa tanto en dominios SASL y como al añadir @dominio al
     nombre de usuaria en los ingresos al sistema a través de texto en
     claro. Su valor predeterminado es ‘""’.

 -- parámetro de ‘dovecot-configuration’: string auth-username-chars
     Lista de caracteres permitidos en los nombres de usuaria. Si el
     nombre de usuaria proporcionado contiene un carácter no enumerado
     aquí, el login falla automáticamente. Es únicamente una
     comprobación adicional para asegurarse de que las usuarias no
     pueden explotar ninguna potencial vulnerabilidad con el escape de
     comillas en bases de datos SQL/LDAP. Si desea permitir todos los
     caracteres, establezca este valor a la cadena vacía. Su valor
     predeterminado es
     ‘"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ01234567890.-_@"’.

 -- parámetro de ‘dovecot-configuration’: string
          auth-username-translation
     Traducciones de caracteres de nombres de usuaria antes de que se
     busque en las bases de datos. El valor contiene series de
     caracteres "original -> transformado". Por ejemplo ‘#@/@’ significa
     que ‘#’ y ‘/’ se traducen en ‘@’. Su valor predeterminado es ‘""’.

 -- parámetro de ‘dovecot-configuration’: string auth-username-format
     Formato proporcionado al nombre de usuaria antes de buscarlo en las
     bases de datos. Puede usar variables estándar aquí, por ejemplo %Lu
     transformará el nombre a minúsculas, %n eliminará el fragmento del
     dominio si se proporcionó, o ‘%n-AT-%d’ cambiaría ‘@’ en ‘-AT-’.
     Esta traducción se realiza tras los cambios de
     ‘auth-username-translation’. Su valor predeterminado es ‘"%Lu"’.

 -- parámetro de ‘dovecot-configuration’: string
          auth-master-user-separator
     Si desea permitir que usuarias maestras ingresen mediante la
     especificación del nombre de usuaria maestra dentro de la cadena de
     nombre de usuaria normal (es decir, sin usar el mecanismo para ello
     implementado por SASL), puede especificar aquí el carácter
     separador. El formato es entonces <usuaria><separador><usuaria
     maestra>. UW-IMAP usa ‘*’ como separador, por lo que esa puede ser
     una buena elección. Su valor predeterminado es ‘""’.

 -- parámetro de ‘dovecot-configuration’: string auth-anonymous-username
     Usuaria usada para las usuarias que ingresen al sistema con el
     mecanismo de SASL ANONYMOUS. Su valor predeterminado es
     ‘"anonymous"’.

 -- parámetro de ‘dovecot-configuration’: entero-no-negativo
          auth-worker-max-count
     Número máximo de procesos de trabajo dovecot-auth. Se usan para la
     ejecución de consultas bloqueantes a passdb y userdb (por ejemplo
     MySQL y PAM). Se crean y destruyen bajo demanda de manera
     automática. Su valor predeterminado es ‘30’.

 -- parámetro de ‘dovecot-configuration’: string auth-gssapi-hostname
     Nombre de máquina usado en los nombres de GSSAPI principales. Por
     omisión se usa el nombre devuelto por gethostname(). Use ‘$ALL’
     (con comillas) para permitir todas las entradas keytab. Su valor
     predeterminado es ‘""’.

 -- parámetro de ‘dovecot-configuration’: string auth-krb5-keytab
     Keytab de Kerberos usado para el mecanismo GSSAPI. Si no se
     especifica ninguno, se usa el predeterminado del sistema
     (habitualmente ‘/etc/krb5.keytab’). Puede ser necesario cambiar el
     servicio auth para que se ejecute como root y tenga permisos de
     lectura sobre este fichero. Su valor predeterminado es ‘""’.

 -- parámetro de ‘dovecot-configuration’: boolean auth-use-winbind?
     Se identifica con NTLM y GSS-SPNEGO mediante el uso del daemon
     winbind de Samba y la herramienta auxiliar ‘ntlm-auth’.
     <doc/wiki/Authentication/Mechanisms/Winbind.txt>. Su valor
     predeterminado es ‘#f’.

 -- parámetro de ‘dovecot-configuration’: nombre-fichero
          auth-winbind-helper-path
     Ruta al binario de la herramienta auxiliar ‘ntlm-auth’ de Samba. Su
     valor predeterminado es ‘"/usr/bin/ntlm_auth"’.

 -- parámetro de ‘dovecot-configuration’: string auth-failure-delay
     Tiempo de espera antes de responder a identificaciones fallidas. Su
     valor predeterminado es ‘"2 secs"’.

 -- parámetro de ‘dovecot-configuration’: boolean
          auth-ssl-require-client-cert?
     Es necesario un certificado de cliente SSL válido o falla la
     identificación. Su valor predeterminado es ‘#f’.

 -- parámetro de ‘dovecot-configuration’: boolean
          auth-ssl-username-from-cert?
     Toma el nombre de usuaria del certificado de cliente SSL, mediante
     el uso de ‘X509_NAME_get_text_by_NID()’, que devuelve el nombre
     común (CommonName) del nombre de dominio (DN) del sujeto del
     certificado. Su valor predeterminado es ‘#f’.

 -- parámetro de ‘dovecot-configuration’:
          lista-cadenas-separada-espacios auth-mechanisms
     Lista de mecanismos de identificación deseados. Los mecanismos
     permitidos son: ‘plain’, ‘login’, ‘digest-md5’, ‘cram-md5’, ‘ntlm’,
     ‘rpa’, ‘apop’, ‘anonymous’, ‘gssapi’, ‘otp’, ‘key’, and
     ‘gss-spnego’. ATENCIÓN: Véase también la opción de configuración
     ‘disable-plaintext-auth’.

 -- parámetro de ‘dovecot-configuration’:
          lista-cadenas-separada-espacios director-servers
     Lista de IP o nombres de máquina de los servidores directores,
     incluyendo este mismo. Los puertos se pueden especificar como
     ip:puerto. El puerto predeterminado es el mismo que el usado por el
     servicio director ‘inet-listener’. Su valor predeterminado es ‘()’.

 -- parámetro de ‘dovecot-configuration’:
          lista-cadenas-separada-espacios director-mail-servers
     Lista de IP o nombres de máquina de los servidores motores de
     correo. Se permiten también rangos, como 10.0.0.10-10.0.0.30. Su
     valor predeterminado es ‘()’.

 -- parámetro de ‘dovecot-configuration’: string director-user-expire
     Por cuanto tiempo se redirige a las usuarias a un servidor
     específico tras pasar ese tiempo sin conexiones. Su valor
     predeterminado es ‘"15 min"’.

 -- parámetro de ‘dovecot-configuration’: string director-username-hash
     Cómo se traduce el nombre de usuaria antes de aplicar el hash.
     Entre los valores útiles se incluye %Ln si la usuaria puede
     ingresar en el sistema con o sin @dominio, %Ld si las bandejas de
     correo se comparten dentro del dominio. Su valor predeterminado es
     ‘"%Lu"’.

 -- parámetro de ‘dovecot-configuration’: string log-path
     Fichero de registro usado para los mensajes de error. ‘syslog’ los
     envía a syslog, ‘"/dev/stderr"’ a la salida de error estándar. Su
     valor predeterminado es ‘"syslog"’.

 -- parámetro de ‘dovecot-configuration’: string info-log-path
     Fichero de registro usado para los mensajes informativos. Por
     omisión se usa ‘log-path’. Su valor predeterminado es ‘""’.

 -- parámetro de ‘dovecot-configuration’: string debug-log-path
     Fichero de registro usado para los mensajes de depuración. Por
     omisión se usa ‘info-log-path’. Su valor predeterminado es ‘""’.

 -- parámetro de ‘dovecot-configuration’: string syslog-facility
     Subsistema de syslog (facility) usado si se envía el registro a
     syslog. De manera habitual, si desea que no se use ‘mail’, se usará
     local0..local7. Otros subsistemas estándar también están
     implementados. Su valor predeterminado es ‘"mail"’.

 -- parámetro de ‘dovecot-configuration’: boolean auth-verbose?
     Registra los intentos de identificación infructuosos y las razones
     por los que fallaron. Su valor predeterminado es ‘#f’.

 -- parámetro de ‘dovecot-configuration’: string auth-verbose-passwords
     En caso de no coincidir la contraseña, registra la contraseña que
     se intentó. Los valores aceptados son “no”, “plain” y “sha1”.
     “sha1” puede ser útil para diferenciar intentos de descubrir la
     contraseña por fuerza bruta frente a una usuaria simplemente
     intentando la misma contraseña una y otra vez. También puede
     recortar el valor a n caracteres mediante la adición de ":n" (por
     ejemplo “sha1:6”). Su valor predeterminado es ‘"no"’.

 -- parámetro de ‘dovecot-configuration’: boolean auth-debug?
     Registros aún más detallados para facilitar la depuración. Muestra,
     por ejemplo, las consultas SQL. Su valor predeterminado es ‘#f’.

 -- parámetro de ‘dovecot-configuration’: boolean auth-debug-passwords?
     En caso de no coincidir la contraseña, registra las contraseñas y
     esquema usadas de manera que el problema se pueda depurar. La
     activación de este valor también provoca la activación de
     ‘auth-debug’. Su valor predeterminado es ‘#f’.

 -- parámetro de ‘dovecot-configuration’: boolean mail-debug?
     Permite la depuración de los procesos de correo. Puede ayudarle a
     comprender los motivos en caso de que Dovecot no encuentre sus
     correos. Su valor predeterminado es ‘#f’.

 -- parámetro de ‘dovecot-configuration’: boolean verbose-ssl?
     Muestra los errores a nivel de protocolo SSL. Su valor
     predeterminado es ‘#f’.

 -- parámetro de ‘dovecot-configuration’: string log-timestamp
     Prefijo de cada línea registrada en el fichero. Los códigos %
     tienen el formato de strftime(3). Su valor predeterminado es ‘"\"%b
     %d %H:%M:%S \""’.

 -- parámetro de ‘dovecot-configuration’:
          lista-cadenas-separada-espacios login-log-format-elements
     Lista de elementos que se desea registrar. Los elementos que tengan
     valor de variable no-vacía se unen para la formación de una cadena
     separada por comas.

 -- parámetro de ‘dovecot-configuration’: string login-log-format
     Formato del registro de ingresos al sistema. %s contiene la cadena
     ‘login-log-format-elements’, %$ contiene los datos que se desean
     registrar. Su valor predeterminado es ‘"%$: %s"’.

 -- parámetro de ‘dovecot-configuration’: string mail-log-prefix
     Prefijo de los registros de procesos de correo. Véase
     doc/wiki/Variables.txt para obtener una lista de variables que
     puede usar. Su valor predeterminado es
     ‘"\"%s(%u)<%{pid}><%{session}>: \""’.

 -- parámetro de ‘dovecot-configuration’: string deliver-log-format
     Formato usado para el registro de las entregas de correo. Puede
     usar las variables:
     ‘%$’
          Mensaje de estado de entrega (por ejemplo: ‘saved to INBOX’)
     ‘%m’
          Message-ID
     ‘%s’
          Asunto
     ‘%f’
          De (dirección)
     ‘%p’
          Tamaño físico
     ‘%w’
          Tamaño virtual.
     El valor predeterminado es ‘"msgid=%m: %$"’.

 -- parámetro de ‘dovecot-configuration’: string mail-location
     Localización de las bandejas de correo de las usuarias. El valor
     predeterminado está vacío, lo que significa que Dovecot intenta
     encontrar las bandejas de correo de manera automática. Esto no
     funciona si la usuaria no tiene todavía ningún correo, por lo que
     debe proporcionarle a Dovecot la ruta completa.

     If you’re using mbox, giving a path to the INBOX file (e.g.
     ‘/var/mail/%u’) isn’t enough. You’ll also need to tell Dovecot
     where the other mailboxes are kept. This is called the _root mail
     directory_, and it must be the first path given in the
     ‘mail-location’ setting.

     There are a few special variables you can use, e.g.:

     ‘%u’
          nombre de usuaria
     ‘%n’
          parte de la usuaria en usuaria@dominio, idéntica a %u si no
          existe dominio
     ‘%d’
          parte del dominio en usuaria@dominio, vacía si no existe
          dominio
     ‘%h’
          directorio de la usuaria

     Véase doc/wiki/Variables.txt para obtener una lista completa.
     Algunos ejemplos:
     ‘maildir:~/Correo’
     ‘mbox:~/correo:INBOX=/var/mail/%u’
     ‘mbox:/var/mail/%d/%1n/%n:INDEX=/var/indexes/%d/%1n/%’
     El valor predeterminado es ‘""’.

 -- parámetro de ‘dovecot-configuration’: string mail-uid
     Usuaria del sistema y grupo que realizan el acceso al correo. Si se
     usan varias, userdb puede forzar su valor al devolver campos uid o
     gid. Se pueden usar tanto identificadores numéricos como nominales.
     <doc/wiki/UserIds.txt>. Su valor predeterminado es ‘""’.

 -- parámetro de ‘dovecot-configuration’: string mail-gid

     El valor predeterminado es ‘""’.

 -- parámetro de ‘dovecot-configuration’: string mail-privileged-group
     Group to enable temporarily for privileged operations. Currently
     this is used only with INBOX when either its initial creation or
     dotlocking fails. Typically this is set to ‘"mail"’ to give access
     to ‘/var/mail’. Defaults to ‘""’.

 -- parámetro de ‘dovecot-configuration’: string mail-access-groups
     Grant access to these supplementary groups for mail processes.
     Typically these are used to set up access to shared mailboxes. Note
     that it may be dangerous to set these if users can create symlinks
     (e.g. if ‘mail’ group is set here, ‘ln -s /var/mail ~/mail/var’
     could allow a user to delete others’ mailboxes, or ‘ln -s
     /secret/shared/box ~/mail/mybox’ would allow reading it). Defaults
     to ‘""’.

 -- parámetro de ‘dovecot-configuration’: boolean
          mail-full-filesystem-access?
     Allow full file system access to clients. There’s no access checks
     other than what the operating system does for the active UID/GID.
     It works with both maildir and mboxes, allowing you to prefix
     mailboxes names with e.g. ‘/path/’ or ‘~user/’. Defaults to ‘#f’.

 -- parámetro de ‘dovecot-configuration’: boolean mmap-disable?
     Don’t use ‘mmap()’ at all. This is required if you store indexes to
     shared file systems (NFS or clustered file system). Defaults to
     ‘#f’.

 -- parámetro de ‘dovecot-configuration’: boolean dotlock-use-excl?
     Confía en el correcto funcionamiento de ‘O_EXCL’ para la creación
     de ficheros de bloqueo dotlock. NFS implementa ‘O_EXCL’ desde la
     versión 3, por lo que debería ser seguro usarlo hoy en día de
     manera predeterminada. Su valor predeterminado es ‘#t’.

 -- parámetro de ‘dovecot-configuration’: string mail-fsync
     Cuando se usarán las llamadas fsync() o fdatasync():
     ‘optimized’
          Cuando sea necesario para evitar la perdida de datos
          importantes
     ‘always’
          Useful with e.g. NFS when ‘write()’s are delayed
     ‘never’
          Nunca se usa (mejor rendimiento, pero los fallos pueden
          producir pérdida de datos)
     Su valor predeterminado es ‘"optimized"’.

 -- parámetro de ‘dovecot-configuration’: boolean mail-nfs-storage?
     El almacenamiento del correo se encuentra en NFS. Proporcionar un
     valor afirmativo provoca que Dovecot vacíe la caché de NFS cuando
     sea necesario. Si únicamente está usando un servidor de correo
     único esto no es necesario. Su valor predeterminado es ‘#f’.

 -- parámetro de ‘dovecot-configuration’: boolean mail-nfs-index?
     Los ficheros de índice de correo también se encuentran en NFS. Para
     proporcionar un valor afirmativo es necesario también proporcionar
     ‘mmap-disable? #t’ y ‘fsync-disable? #f’. Su valor predeterminado
     es ‘#f’.

 -- parámetro de ‘dovecot-configuration’: string lock-method
     Método de bloqueo para los ficheros de índice. Las alternativas son
     fcntl, flock y dotlock. Dotlock utiliza técnicas que pueden
     provocar un consumo de E/S mayor que otros métodos de bloqueo.
     Usuarias de NFS: flock no funciona, recuerde que se debe cambiar
     ‘mmap-disable’. Su valor predeterminado es ‘"fcntl"’.

 -- parámetro de ‘dovecot-configuration’: nombre-fichero mail-temp-dir
     Directorio en el que LDA/LMTP almacena de manera temporal correos
     entrantes de de más de 128 kB. Su valor predeterminado es ‘"/tmp"’.

 -- parámetro de ‘dovecot-configuration’: entero-no-negativo
          first-valid-uid
     Rango de UID aceptado para las usuarias. Principalmente es para
     asegurarse de que las usuarias no pueden ingresar en el sistema
     como un daemon u otras usuarias del sistema. Tenga en cuenta que el
     binario de dovecot tiene código que impide el ingreso al sistema
     como root y no puede llevarse a cabo incluso aunque
     ‘first-valid-uid’ tenga el valor 0. Su valor predeterminado es
     ‘500’.

 -- parámetro de ‘dovecot-configuration’: entero-no-negativo
          last-valid-uid

     El valor predeterminado es ‘0’.

 -- parámetro de ‘dovecot-configuration’: entero-no-negativo
          first-valid-gid
     Rango de GID aceptado para las usuarias. Las usuarias que no posean
     GID válido como ID primario de grupo no tienen permitido el ingreso
     al sistema. Si la usuaria es miembro de grupos suplementarios con
     GID no válido, no se activan dichos grupos. Su valor predeterminado
     es ‘1’.

 -- parámetro de ‘dovecot-configuration’: entero-no-negativo
          last-valid-gid

     El valor predeterminado es ‘0’.

 -- parámetro de ‘dovecot-configuration’: entero-no-negativo
          mail-max-keyword-length
     Longitud máxima permitida para nombres de palabras clave del
     correo. El límite actúa únicamente en la creación de nuevas
     palabras clave. Su valor predeterminado es ‘50’.

 -- parámetro de ‘dovecot-configuration’: lista-archivos-sep-dos-puntos
          valid-chroot-dirs
     List of directories under which chrooting is allowed for mail
     processes (i.e. ‘/var/mail’ will allow chrooting to
     ‘/var/mail/foo/bar’ too). This setting doesn’t affect
     ‘login-chroot’ ‘mail-chroot’ or auth chroot settings. If this
     setting is empty, ‘/./’ in home dirs are ignored. WARNING: Never
     add directories here which local users can modify, that may lead to
     root exploit. Usually this should be done only if you don’t allow
     shell access for users. <doc/wiki/Chrooting.txt>. Defaults to ‘()’.

 -- parámetro de ‘dovecot-configuration’: string mail-chroot
     Default chroot directory for mail processes. This can be overridden
     for specific users in user database by giving ‘/./’ in user’s home
     directory (e.g. ‘/home/./user’ chroots into ‘/home’). Note that
     usually there is no real need to do chrooting, Dovecot doesn’t
     allow users to access files outside their mail directory anyway. If
     your home directories are prefixed with the chroot directory,
     append ‘/.’ to ‘mail-chroot’. <doc/wiki/Chrooting.txt>. Defaults to
     ‘""’.

 -- parámetro de ‘dovecot-configuration’: nombre-fichero
          auth-socket-path
     Ruta al socket de UNIX al servidor maestro de identificación para
     la búsqueda de usuarias. Se usa por parte de imap (para usuarias
     compartidas) y lda. Su valor predeterminado es
     ‘"/var/run/dovecot/auth-userdb"’.

 -- parámetro de ‘dovecot-configuration’: nombre-fichero mail-plugin-dir
     Directorio en el que se buscarán módulos de correo. Su valor
     predeterminado es ‘"/usr/lib/dovecot"’.

 -- parámetro de ‘dovecot-configuration’: lista-cadena-separada-espacios
          mail-plugins
     Lista de módulos cargados en todos los servicios. Los módulos
     específicos para IMAP, LDA, etc. se añaden en esta lista en sus
     propios ficheros .conf. Su valor predeterminado es ‘()’.

 -- parámetro de ‘dovecot-configuration’: entero-no-negativo
          mail-cache-min-mail-count
     El número mínimo de correos en una bandeja antes de que las
     actualizaciones se realicen en un fichero de caché. Permite
     optimizar el comportamiento de Dovecot para reducir la tasa de
     escritura en el disco, lo que produce un aumento de la tasa de
     lectura. Su valor predeterminado es ‘0’.

 -- parámetro de ‘dovecot-configuration’: string
          mailbox-idle-check-interval
     Cuando se ejecute la orden IDLE, la bandeja de correo se comprueba
     de vez en cuando para comprobar si existen nuevos correos o se han
     producido otros cambios. Esta configuración define el tiempo mínimo
     entre dichas comprobaciones. Dovecot también puede usar dnotify,
     inotify y kqueue para recibir información inmediata sobre los
     cambios que ocurran. Su valor predeterminado es ‘"30 secs"’.

 -- parámetro de ‘dovecot-configuration’: boolean mail-save-crlf?
     Almacena los correos con CR+LF en vez de únicamente LF. Provoca que
     el envío de dichos correos use menos el procesados, especialmente
     al usar la llamada al sistema sendfile() con Linux y FreeBSD. Pero
     también aumenta la tasa de E/S del disco, lo que puede ralentizar
     el proceso. También tenga en cuenta que si otro software lee las
     bandejas mbox/maildir, se pueden tratar de forma incorrecta los
     caracteres CR adicionales, lo que puede provocar problemas. Su
     valor predeterminado es ‘#f’.

 -- parámetro de ‘dovecot-configuration’: boolean maildir-stat-dirs?
     De manera predeterminada la orden LIST devuelve todas las entradas
     en maildir cuyo nombre empiece en punto. La activación de esta
     opción hace que Dovecot únicamente devuelva las entradas que sean
     directorios. Esto se lleva a cabo llamando a stat() con cada
     entrada, lo que causa mayor E/S del disco. (En sistemas que
     proporcionen valor a ‘dirent->d_type’ esta comprobación no tiene
     coste alguno y se realiza siempre independientemente del valor
     configurado aquí). Su valor predeterminado es ‘#f’.

 -- parámetro de ‘dovecot-configuration’: boolean
          maildir-copy-with-hardlinks?
     Cuando se copia un mensaje, se usan enlaces duros cuando sea
     posible. Esto mejora mucho el rendimiento, y es difícil que
     produzca algún efecto secundario. Su valor predeterminado es ‘#t’.

 -- parámetro de ‘dovecot-configuration’: boolean
          maildir-very-dirty-syncs?
     Asume que Dovecot es el único MUA que accede a maildir: Recorre el
     directorio cur/ únicamente cuando cambie su mtime de manera
     inesperada o cuando no se pueda encontrar el correo de otra manera.
     Su valor predeterminado es ‘#f’.

 -- parámetro de ‘dovecot-configuration’: lista-cadena-separada-espacios
          mbox-read-locks
     Qué métodos de bloqueo deben usarse para el bloque de mbox. Hay
     cuatro disponibles:

     ‘dotlock’
          Crea un fichero <bandeja>.lock. Esta es la solución más
          antigua y más segura con NFS. Si desea usar un directorio como
          /var/mail/, las usuarias necesitarán acceso de escritura a
          dicho directorio.
     ‘dotlock-try’
          Lo mismo que dotlock, pero si se produce un fallo debido a los
          permisos o a que no existe suficiente espacio en disco,
          simplemente se omite el bloqueo.
     ‘fcntl’
          Use este a ser posible. Funciona también con NFS si se usa
          lockd.
     ‘flock’
          Puede no existir en todos los sistemas. No funciona con NFS.
     ‘lockf’
          Puede no existir en todos los sistemas. No funciona con NFS.

     Puede usar múltiples métodos de bloqueo; en ese caso el orden en el
     que se declaran es importante para evitar situaciones de bloqueo
     mutuo en caso de que otros MTA/MUA usen también múltiples métodos
     de bloqueo. Algunos sistemas operativos no permiten el uso de
     varios de ellos de manera simultánea.

 -- parámetro de ‘dovecot-configuration’: lista-cadena-separada-espacios
          mbox-write-locks

 -- parámetro de ‘dovecot-configuration’: string mbox-lock-timeout
     Tiempo máximo esperado hasta el bloqueo (de todos los ficheros)
     antes de interrumpir la operación. Su valor predeterminado es ‘"5
     mins"’.

 -- parámetro de ‘dovecot-configuration’: string
          mbox-dotlock-change-timeout
     Si existe el fichero dotlock pero la bandeja no se ha modificado de
     ninguna manera, ignora el fichero de bloqueo tras este tiempo. Su
     valor predeterminado es ‘"2 mins"’.

 -- parámetro de ‘dovecot-configuration’: boolean mbox-dirty-syncs?
     Cuando el fichero mbox cambie de manera inesperada, se tiene que
     leer completamente para encontrar los cambios. Si es grande puede
     tardar bastante tiempo. Deido a que el cambio habitualmente es un
     nuevo correo añadido al final, sería más rápido únicamente leer los
     correos nuevos. Si se activa esta opción, Dovecot hace esto pero de
     todos modos vuelve a leer el fichero mbox al completo cuando algo
     en la bandeja no se encuentra como se esperaba. La única desventaja
     real de esta configuración es que si otro MUA cambia las opciones
     de los mensajes, Dovecot no tiene constancia de ello de manera
     inmediata. Tenga en cuenta que una sincronización completa se lleva
     a cabo con las órdenes SELECT, EXAMINE, EXPUNGE y CHECK. Su valor
     predeterminado es ‘#t’.

 -- parámetro de ‘dovecot-configuration’: boolean mbox-very-dirty-syncs?
     Como ‘mbox-dirty-syncs’, pero no realiza sincronizaciones completas
     tampoco con las órdenes SELECT, EXAMINE, EXPUNGE o CHECK. Si se
     configura este valor, ‘mbox-dirty-syncs’ se ignora. Su valor
     predeterminado es ‘#f’.

 -- parámetro de ‘dovecot-configuration’: boolean mbox-lazy-writes?
     Retrasa la escritura de las cabeceras de mbox hasta que se realice
     una escritura completa sincronizada (con las órdenes EXPUNGE y
     CHECK, y al cerrar la bandeja de correo). Es útil especialmente con
     POP3, donde el cliente habitualmente borra todos los correos. La
     desventaja es que nuestros cambios no son visibles para otros MUA
     de manera inmediata. Su valor predeterminado es ‘#t’.

 -- parámetro de ‘dovecot-configuration’: entero-no-negativo
          mbox-min-index-size
     Si el tamaño del fichero mbox es menor que este valor (por ejemplo,
     100k), no escribe ficheros de índice. Si el fichero de índice ya
     existe, todavía se usa para la lectura, pero no se actualiza. Su
     valor predeterminado es ‘0’.

 -- parámetro de ‘dovecot-configuration’: entero-no-negativo
          mdbox-rotate-size
     Tamaño máximo del fichero dbox hasta su rotación. Su valor
     predeterminado es ‘10000000’.

 -- parámetro de ‘dovecot-configuration’: string mdbox-rotate-interval
     Antigüedad máxima del fichero dbox hasta que se produce su
     rotación. Habitualmente en días. El día comienza a medianoche, por
     lo que 1d = hoy, 2d = ayer, etcétera. 0 = comprobación desactivada.
     Su valor predeterminado es ‘"1d"’.

 -- parámetro de ‘dovecot-configuration’: boolean
          mdbox-preallocate-space?
     Cuando se crean nuevos ficheros mdbox, reserva inmediatamente un
     tamaño de ‘mbox-rotate-size’. Actualmente esta configuración
     funciona únicamente en Linux con determinados sistemas de ficheros
     (ext4, xfs). Su valor predeterminado es ‘#f’.

 -- parámetro de ‘dovecot-configuration’: string mail-attachment-dir
     sdbox y mdbox permiten el almacenamiento de adjuntos en ficheros
     externos, lo que permite también su almacenamiento único. Otros
     motores no lo permiten por el momento.

     AVISO: Esta característica todavía no se ha probado mucho. Su uso
     queda bajo su propia responsabilidad.

     Directorio raíz donde almacenar los adjuntos de los correos. Se
     desactiva en caso de estar vacío. Su valor predeterminado es ‘""’.

 -- parámetro de ‘dovecot-configuration’: entero-no-negativo
          mail-attachment-min-size
     Los adjuntos de menor tamaño que este valor no se almacenan
     externamente. También es posible la escritura de un módulo que
     deshabilite el almacenamiento externo de adjuntos específicos. Su
     valor predeterminado es ‘128000’.

 -- parámetro de ‘dovecot-configuration’: string mail-attachment-fs
     Motor del sistema de ficheros usado para el almacenamiento de
     adjuntos:
     ‘posix’
          Dovecot no lleva a cabo el SiS (aunque esto puede ayudar a la
          deduplicación del propio sistema de ficheros)
     ‘sis posix’
          SiS con comparación inmediata byte-por-byte durante el
          almacenamiento.
     ‘sis-queue posix’
          SiS mediante comparación retrasada y deduplicación.
     El valor predeterminado es ‘"sis posix"’.

 -- parámetro de ‘dovecot-configuration’: string mail-attachment-hash
     Formato del hash usado en los ficheros adjuntos. Puede añadir
     cualquier texto y variables: ‘%{md4}’, ‘%{md5}’, ‘%{sha1}’,
     ‘%{sha256}’, ‘%{sha512}’, ‘%{size}’. Las variables pueden
     reducirse, por ejemplo ‘%{sha256:80}’ devuelve únicamente los
     primeros 80 bits. Su valor predeterminado es ‘"%{sha1}"’.

 -- parámetro de ‘dovecot-configuration’: entero-no-negativo
          default-process-limit

     El valor predeterminado es ‘100’.

 -- parámetro de ‘dovecot-configuration’: entero-no-negativo
          default-client-limit

     El valor predeterminado es ‘1000’.

 -- parámetro de ‘dovecot-configuration’: entero-no-negativo
          default-vsz-limit
     Límite predeterminado del tamaño de memoria virtual (VSZ) para
     procesos del servicio. Esta principalmente orientado a la captura y
     parada de procesos que pierden memoria antes de que utilicen toda
     la disponible. Su valor predeterminado es ‘256000000’.

 -- parámetro de ‘dovecot-configuration’: string default-login-user
     Usuaria de ingreso al sistema para los procesos de ingreso al
     sistema. Es la usuaria en la que menos se confía en el sistema
     Dovecot. No debería tener acceso a nada en absoluto. Su valor
     predeterminado es ‘"dovenull"’.

 -- parámetro de ‘dovecot-configuration’: string default-internal-user
     Usuaria interna usada por procesos sin privilegios. Debería ser
     distinta a la usuaria de ingreso, de modo que los procesos de
     ingreso al sistema no interfieran con otros procesos. Su valor
     predeterminado es ‘"dovecot"’.

 -- parámetro de ‘dovecot-configuration’: string ssl?
     Si se permite SSL/TLS: ‘yes’ (sí), ‘no’, ‘required’ (necesario).
     <doc/wiki/SSL.txt>. Su valor predeterminado es ‘"required"’.

 -- parámetro de ‘dovecot-configuration’: string ssl-cert
     Certificado X.509 de SSL/TLS codificado con PEM (clave pública). Su
     valor predeterminado es ‘"</etc/dovecot/default.pem"’.

 -- parámetro de ‘dovecot-configuration’: string ssl-key
     Clave privada de SSL/TLS codificada con PEM. La clave se abre antes
     de renunciar a los privilegios de root, por lo que debe mantenerse
     legible únicamente para root. Su valor predeterminado es
     ‘"</etc/dovecot/private/default.pem"’.

 -- parámetro de ‘dovecot-configuration’: string ssl-key-password
     Si el fichero de la clave está protegido por contraseña, introduzca
     dicha contraseña aquí. De manera alternativa, puede proporcionarla
     al iniciar dovecot con el parámetro -p. Como este fichero es
     habitualmente legible por todo el mundo, puede que desee desplazar
     esta opción a un fichero diferente. Su valor predeterminado es
     ‘""’.

 -- parámetro de ‘dovecot-configuration’: string ssl-ca
     Certificado usado como autoridad de certificación de confianza
     codificado en PEM. Configure este valor únicamente si tiene
     intención de usar ‘ssl-verify-client-cert? #t’. El fichero debe
     contener el fichero de la o las AC seguido de las CRL
     correspondientes (por ejemplo, ‘ssl-ca </etc/ssl/certs/ca.pem’). Su
     valor predeterminado es ‘""’.

 -- parámetro de ‘dovecot-configuration’: boolean ssl-require-crl?
     Es necesario que la comprobación de CRL sea satisfactoria para
     certificados de clientes.. Su valor predeterminado es ‘#t’.

 -- parámetro de ‘dovecot-configuration’: boolean
          ssl-verify-client-cert?
     Solicita al cliente el envío de un certificado. Si también desea
     que sea un requisito, proporcione ‘auth-ssl-require-client-cert?
     #t’ en la sección de identificación. Su valor predeterminado es
     ‘#f’.

 -- parámetro de ‘dovecot-configuration’: string ssl-cert-username-field
     Cual es el campo del certificado que determina el nombre de
     usuaria. “commonName” y “x500UniqueIdentifier” son las opciones
     habituales. También tendrá proporcionar
     ‘auth-ssl-username-from-cert? #t’. Su valor predeterminado es
     ‘"commonName"’.

 -- parámetro de ‘dovecot-configuration’: string ssl-min-protocol
     Versión mínima aceptada del protocolo SSL. Su valor predeterminado
     es ‘"TLSv1"’.

 -- parámetro de ‘dovecot-configuration’: string ssl-cipher-list
     Protocolos de cifrado de SSL usados. Su valor predeterminado es
     ‘"ALL:!kRSA:!SRP:!kDHd:!DSS:!aNULL:!eNULL:!EXPORT:!DES:!3DES:!MD5:!PSK:!RC4:!ADH:!LOW@STRENGTH"’.

 -- parámetro de ‘dovecot-configuration’: string ssl-crypto-device
     Dispositivo de cifrado de SSL usado, ejecute "openssl engine" para
     obtener los valores aceptados. Su valor predeterminado es ‘""’.

 -- parámetro de ‘dovecot-configuration’: string postmaster-address
     Dirección usada cuando se notifiquen correos rechazados. %d expande
     al dominio receptor. Su valor predeterminado es ‘"postmaster@%d"’.

 -- parámetro de ‘dovecot-configuration’: string hostname
     Nombre de máquina usado en diversas partes de los correos enviados
     (por ejemplo, en Message-Id) y en las respuestas LMTP. Su valor
     predeterminado es <el nombre real de la máquina>@dominio. Su valor
     predeterminado es ‘""’.

 -- parámetro de ‘dovecot-configuration’: boolean quota-full-tempfail?
     Si la usuaria supera la cuota, devuelve un fallo temporal en vez de
     rechazar el correo. Su valor predeterminado es ‘#f’.

 -- parámetro de ‘dovecot-configuration’: nombre-fichero sendmail-path
     Binario usado para el envío de correos. Su valor predeterminado es
     ‘"/usr/sbin/sendmail"’.

 -- parámetro de ‘dovecot-configuration’: string submission-host
     Si no está vacío, envía el correo a través de esta máquina[:puerto]
     SMTP en vez de usar sendmail Su valor predeterminado es ‘""’.

 -- parámetro de ‘dovecot-configuration’: string rejection-subject
     Asunto: cabecera usada en el rechazo de correos. Puede usar las
     mismas variables que las indicadas en ‘rejection-reason’ a
     continuación. Su valor predeterminado es ‘"Rejected: %s"’.

 -- parámetro de ‘dovecot-configuration’: string rejection-reason
     Mensaje de error legible por personas para el rechazo de correos.
     Puede usar variables:

     ‘%n’
          CRLF
     ‘%r’
          razón
     ‘%s’
          asunto original
     ‘%t’
          receptora
     El valor predeterminado es ‘"Your message to <%t> was automatically
     rejected:%n%r"’.

 -- parámetro de ‘dovecot-configuration’: string recipient-delimiter
     Carácter delimitador entre la parte local y el detalle en las
     direcciones de correo. Su valor predeterminado es ‘"+"’.

 -- parámetro de ‘dovecot-configuration’: string
          lda-original-recipient-header
     Cabecera de donde se obtiene la dirección receptora original (la
     dirección de SMTP RCPT TO:) en caso de no estar disponible en otro
     lugar. El parámetro -a de dovecot-lda reemplaza este valor. Una
     cabecera usada para esto de manera común es X-Original-To. Su valor
     predeterminado es ‘""’.

 -- parámetro de ‘dovecot-configuration’: boolean
          lda-mailbox-autocreate?
     ¿Se debe crear una bandeja de correo no existente de manera
     automática al almacenar un correo? Su valor predeterminado es ‘#f’.

 -- parámetro de ‘dovecot-configuration’: boolean
          lda-mailbox-autosubscribe?
     ¿También Se deben crear suscripciones de manera automática a las
     bandejas de correo creadas? Su valor predeterminado es ‘#f’.

 -- parámetro de ‘dovecot-configuration’: entero-no-negativo
          imap-max-line-length
     Longitud máxima de la línea de órdenes de IMAP. Algunos clientes
     generan líneas de órdenes muy largas con bandejas de correo
     enormes, por lo que debe incrementarlo si recibe los errores “Too
     long argument” (parámetro demasiado largo) o "IMAP command line too
     large" (línea de órdenes de IMAP demasiado grande). Su valor
     predeterminado es ‘64000’.

 -- parámetro de ‘dovecot-configuration’: string imap-logout-format
     Formato de la cadena de IMAP de salida del sistema:
     ‘%i’
          número total de bytes leídos del cliente
     ‘%o’
          número total de bytes enviados al cliente.
     Véase ‘doc/wiki/Variables.txt’ para obtener una lista completa de
     todas las variables que puede usar. Su valor predeterminado es
     ‘"in=%i out=%o deleted=%{deleted} expunged=%{expunged}
     trashed=%{trashed} hdr_count=%{fetch_hdr_count}
     hdr_bytes=%{fetch_hdr_bytes} body_count=%{fetch_body_count}
     body_bytes=%{fetch_body_bytes}"’.

 -- parámetro de ‘dovecot-configuration’: string imap-capability
     Fuerza el valor de la respuesta de IMAP CAPABILITY. Si el valor
     comienza con ’+’, añade las capacidades especificadas sobre las
     predeterminadas (por ejemplo, +XFOO XBAR). Su valor predeterminado
     es ‘""’.

 -- parámetro de ‘dovecot-configuration’: string
          imap-idle-notify-interval
     Durante cuanto tiempo se espera entre notificaciones "OK Still
     here" cuando el cliente se encuentre en estado IDLE. Su valor
     predeterminado es ‘"2 mins"’.

 -- parámetro de ‘dovecot-configuration’: string imap-id-send
     Nombres y valores de campos de identificación (ID) que se enviarán
     a los clientes. El uso de * como un valor hace que Dovecot utilice
     el valor predeterminado. Los siguientes campos tienen actualmente
     valores predeterminados: name, version, os, os-version,
     support-url, support-email. Su valor predeterminado es ‘""’.

 -- parámetro de ‘dovecot-configuration’: string imap-id-log
     Campos de identificación (ID) enviados para su registro por
     cliente. ‘*’ significa todos. Su valor predeterminado es ‘""’.

 -- parámetro de ‘dovecot-configuration’: lista-cadena-separada-espacios
          imap-client-workarounds
     Soluciones temporales para varios errores de clientes:

     ‘delay-newmail’
          Envía notificaciones de nuevo correo EXISTS/RECENT únicamente
          en respuesta a ordenes NOOP o CHECK. Algunos clientes las
          ignoran en otro caso, por ejemplo OSX Mail (<v2.1). Outlook
          Express tiene problemas mayores no obstante, sin esto puede
          mostrar a la usuaria errores "Message no longer in server".
          Tenga en cuenta que OE6 también falla con esta solución
          temporal si la sincronización se establece como "Headers
          Only".

     ‘tb-extra-mailbox-sep’
          Thunderbird se confunde de algún modo con LAYOUT=fs (mbox y
          dbox) y añade sufijos ‘/’ adicionales a los nombres de las
          bandejas de correo. Esta opción hace que Dovecot ignore el
          carácter ‘/’ adicional en vez de tratarlo como un nombre de
          bandeja de correo no válido.

     ‘tb-lsub-flags’
          Muestra las opciones \Noselect para respuestas LSUB con
          LAYOUT=fs (por ejemplo mbox). Esto permite a Thunderbird ser
          consciente de que no se pueden seleccionar y mostrarlas en
          gris, en vez de únicamente mostrar después el mensaje de error
          "no seleccionable".
     El valor predeterminado es ‘()’.

 -- parámetro de ‘dovecot-configuration’: string imap-urlauth-host
     Máquina permitida en las URL URLAUTH enviadas por el cliente. "*"
     permite todas. Su valor predeterminado es ‘""’.

   ¡Miau! Muchas opciones de configuración. Lo bueno es que Guix tiene
una interfaz completa al lenguage de configuración de Dovecot. Esto no
permite únicamente declarar configuraciones de forma bonita, sino que
también ofrece capacidades reflexivas: las usuarias pueden escribir
código en Scheme para inspeccionar y transformar configuraciones.

   No obstante, puede ser que únicamente desee usar un fichero
‘dovecot.conf’ existente. En ese caso, puede proporcionar un objeto
‘opaque-dovecot-configuration’ como parámetro ‘#:config’ a
‘dovecot-service’. Como su nombre en inglés indica, una configuración
opaca no tiene gran capacidad reflexiva.

   Los campos disponibles de ‘opaque-dovecot-configuration’ son:

 -- parámetro de ‘opaque-dovecot-configuration’: package dovecot
     El paquete dovecot.

 -- parámetro de ‘opaque-dovecot-configuration’: string string
     El contenido de ‘dovecot.conf’, como una cadena.

   Por ejemplo, si su ‘dovecot.conf’ fuese simplemente la cadena vacía,
podría instanciar un servicio dovecot de esta manera:

     (dovecot-service #:config
                      (opaque-dovecot-configuration
                       (string "")))

Servicio OpenSMTPD
..................

 -- Variable Scheme: opensmtpd-service-type
     Es el tipo del servicio OpenSMTPD (https://www.opensmtpd.org), cuyo
     valor debe ser un objeto ‘opensmtpd-configuration’ como en este
     ejemplo:

          (service opensmtpd-service-type
                   (opensmtpd-configuration
                     (config-file (local-file "./mi-smtpd.conf"))))

 -- Tipo de datos: opensmtpd-configuration
     Tipo de datos que representa la configuración de opensmtpd.

     ‘package’ (predeterminado: OPENSMTPD)
          El objeto paquete del servidor SMTP OpenSMTPD.

     ‘config-file’ (predeterminado: ‘%default-opensmtpd-file’)
          Objeto “tipo-fichero” del fichero de configuración de
          OpenSMTPD usado. De manera predeterminada escucha en la
          interfaz de red local, y pone a disposición de usuarias y
          daemon de la máquina local el servicio de correo, así como el
          envío de correo a servidores remotos. Ejecute ‘man smtpd.conf’
          para obtener más información.

Servicio Exim
.............

 -- Variable Scheme: exim-service-type
     Este es el tipo del agente de transferencia de correo (MTA) Exim
     (https://exim.org), cuyo valor debe ser un objeto
     ‘exim-configuration’ como en este ejemplo:

          (service exim-service-type
                   (exim-configuration
                     (config-file (local-file "./mi-exim.conf"))))

   Para usar un servicio ‘exim-service-type’ debe tener también un
servicio ‘mail-aliases-service-type’ presente en su declaración
‘operating-system’ (incluso aunque no exista ningún alias).

 -- Tipo de datos: exim-configuration
     Tipo de datos que representa la configuración de exim.

     ‘package’ (predeterminado: EXIM)
          El objeto paquete del servidor Exim.

     ‘config-file’ (predeterminado: ‘#f’)
          Objeto “tipo-fichero” del fichero de configuración de Exim
          usado. Si su valor es ‘#f’ se usa el fichero de configuración
          predefinido proporcionado por el paquete en ‘package’. El
          fichero de configuración resultante se carga tras fijar las
          variables de configuración ‘exim_user’ y ‘exim_group’.

Servicio Getmail
................

 -- Variable Scheme: getmail-service-type
     El tipo del receptor de correo Getmail
     (http://pyropus.ca/software/getmail/), cuyo valor debe ser un
     objeto ‘getmail-configuration’.

   Los campos disponibles de ‘getmail-configuration’ son:

 -- parámetro de ‘getmail-configuration’: símbolo name
     Un símbolo que identifique el servicio getmail.

     El valor predeterminado es ‘"unset"’.

 -- parámetro de ‘getmail-configuration’: package package
     El paquete getmail usado.

 -- parámetro de ‘getmail-configuration’: string user
     Usuaria que ejecuta getmail.

     El valor predeterminado es ‘"getmail"’.

 -- parámetro de ‘getmail-configuration’: string group
     Grupo que ejecuta getmail.

     El valor predeterminado es ‘"getmail"’.

 -- parámetro de ‘getmail-configuration’: string directory
     El directorio usado para getmail.

     El valor predeterminado es ‘"/var/lib/getmail/default"’.

 -- parámetro de ‘getmail-configuration’: getmail-configuration-file
          rcfile
     El fichero de configuración de getmail usado.

     Los campos disponibles de ‘getmail-configuration-file’ son:

      -- parámetro de ‘getmail-configuration-file’:
               getmail-retriever-configuration retriever
          De qué cuenta de correo obtener el correo, y cómo acceder a
          dicha cuenta.

          Los campos disponibles de ‘getmail-retriever-configuration’
          son:

           -- parámetro de ‘getmail-retriever-configuration’: string
                    type
               El controlador que userdb debe usar. Entre los valores
               aceptados se incluye ‘passwd’ y ‘static’.

               El valor predeterminado es ‘"SimpleIMAPSSLRetriever"’.

           -- parámetro de ‘getmail-retriever-configuration’: string
                    server
               Usuaria que ejecutará el servidor de correo.

               El valor predeterminado es ‘unset’.

           -- parámetro de ‘getmail-retriever-configuration’: string
                    username
               Usuaria que ejecutará el servidor de correo.

               El valor predeterminado es ‘unset’.

           -- parámetro de ‘getmail-retriever-configuration’:
                    entero-no-negativo port
               Número de puerto al que conectarse.

               El valor predeterminado es ‘#f’

           -- parámetro de ‘getmail-retriever-configuration’: string
                    password
               Sustituye los valores de campos de passwd.

               El valor predeterminado es ‘""’.

           -- parámetro de ‘getmail-retriever-configuration’: list
                    password-command
               Sustituye los valores de campos de passwd.

               El valor predeterminado es ‘()’.

           -- parámetro de ‘getmail-retriever-configuration’: string
                    keyfile
               Fichero de claves con formato PEM usado para la
               negociación TLS.

               El valor predeterminado es ‘""’.

           -- parámetro de ‘getmail-retriever-configuration’: string
                    certfile
               Fichero de certificado con formato PEM usado para la
               negociación TLS.

               El valor predeterminado es ‘""’.

           -- parámetro de ‘getmail-retriever-configuration’: string
                    ca-certs
               Certificados de autoridad de certificación (CA) usados.

               El valor predeterminado es ‘""’.

           -- parámetro de ‘getmail-retriever-configuration’:
                    parameter-alist extra-parameters
               Parámetros adicionales del receptor de correo.

               El valor predeterminado es ‘()’.

      -- parámetro de ‘getmail-configuration-file’:
               getmail-destination-configuration destination
          Qué hacer con los mensajes obtenidos.

          Los campos disponibles de ‘getmail-destination-configuration’
          son:

           -- parámetro de ‘getmail-destination-configuration’: string
                    type
               Tipo de destino del correo. Entre los valores válidos se
               incluye ‘Maildir’, ‘Mboxrd’ y ‘MDA_external’.

               El valor predeterminado es ‘unset’.

           -- parámetro de ‘getmail-destination-configuration’:
                    string-or-filelike path
               Opción de ruta para el destino del correo. El
               comportamiento depende del tipo seleccionado.

               El valor predeterminado es ‘""’.

           -- parámetro de ‘getmail-destination-configuration’:
                    parameter-alist extra-parameters
               Parámetros adicionales del destino.

               El valor predeterminado es ‘()’.

      -- parámetro de ‘getmail-configuration-file’:
               getmail-options-configuration options
          Configuración de getmail.

          Los campos disponibles de ‘getmail-options-configuration’ son:

           -- parámetro de ‘getmail-options-configuration’:
                    entero-no-negativo verbose
               Si tiene valor ‘0’, getmail únicamente imprimirá mensajes
               de aviso y errores. El valor ‘1’ significa que se
               imprimirán mensajes acerca de la recepción y el borrado
               de mensajes. Si tiene valor ‘2’, getmail imprimirá
               mensajes con cada una de sus acciones.

               El valor predeterminado es ‘1’.

           -- parámetro de ‘getmail-options-configuration’: boolean
                    read-all
               Si es verdadero, getmail obtendrá todos los mensajes
               disponibles. En otro caso, únicamente recupera mensajes
               que no se hayan visto previamente.

               El valor predeterminado es ‘#t’

           -- parámetro de ‘getmail-options-configuration’: boolean
                    delete
               Si se proporciona un valor verdadero, los mensajes se
               borrarán del servidor tras su recuperación y entrega
               posterior satisfactoria. En otro caso, los mensajes
               permanecerán en el servidor.

               El valor predeterminado es ‘#f’

           -- parámetro de ‘getmail-options-configuration’:
                    entero-no-negativo delete-after
               Getmail borrará los mensajes tras este número de días
               después de haberlos visto, si han sido entregados. Esto
               significa que los mensajes se mantendrán en el servidor
               este número de días tras entregarlos. El valor ‘0’
               desactiva esta característica.

               El valor predeterminado es ‘0’.

           -- parámetro de ‘getmail-options-configuration’:
                    entero-no-negativo delete-bigger-than
               Borra los mensajes de tamaño mayor que estos bytes tras
               recibirlos, incluso si las opciones “delete” y
               “delete-after” están desactivadas. El valor ‘0’ desactiva
               esta característica.

               El valor predeterminado es ‘0’.

           -- parámetro de ‘getmail-options-configuration’:
                    entero-no-negativo max-bytes-per-session
               Obtiene mensajes hasta este número de bytes en total
               antes de cerrar la sesión con el servidor. El valor ‘0’
               desactiva esta característica.

               El valor predeterminado es ‘0’.

           -- parámetro de ‘getmail-options-configuration’:
                    entero-no-negativo max-message-size
               No obtiene mensajes con mayor tamaño que este número de
               bytes. El valor ‘0’ desactiva esta característica.

               El valor predeterminado es ‘0’.

           -- parámetro de ‘getmail-options-configuration’: boolean
                    delivered-to
               Si es verdadero, getmail añadirá una cabecera
               “Delivered-To” a los mensajes.

               El valor predeterminado es ‘#t’

           -- parámetro de ‘getmail-options-configuration’: boolean
                    received
               Si es verdadero, getmail añadirá una cabecera “Received”
               a los mensajes.

               El valor predeterminado es ‘#t’

           -- parámetro de ‘getmail-options-configuration’: string
                    message-log
               Getmail generará un registro de sus acciones en el
               fichero nombrado. El valor ‘""’ desactiva esta
               característica.

               El valor predeterminado es ‘""’.

           -- parámetro de ‘getmail-options-configuration’: boolean
                    message-log-syslog
               Si es verdadero, getmail registrará sus acciones a través
               del registro del sistema.

               El valor predeterminado es ‘#f’

           -- parámetro de ‘getmail-options-configuration’: boolean
                    message-log-verbose
               Si es verdadero, getmail registrará información sobre los
               mensajes que no se hayan podido recuperar y la razón para
               no hacerlo, así como líneas de inicio y fin informativas.

               El valor predeterminado es ‘#f’

           -- parámetro de ‘getmail-options-configuration’:
                    parameter-alist extra-parameters
               Opciones adicionales a incluir.

               El valor predeterminado es ‘()’.

 -- parámetro de ‘getmail-configuration’: lista idle
     Una lista de bandejas de correo en las que getmail debe esperar en
     el servidor nuevas notificaciones de correo. Esto depende de que el
     servidor implemente la extensión IDLE.

     El valor predeterminado es ‘()’.

 -- parámetro de ‘getmail-configuration’: lista environment-variables
     Variables de entorno proporcionadas a getmail.

     El valor predeterminado es ‘()’.

Servicios de alias de correo
............................

 -- Variable Scheme: mail-aliases-service-type
     Este es el tipo del servicio que proporciona ‘/etc/aliases’, donde
     se especifica cómo entregar el correo a las usuarias de este
     sistema.

          (service mail-aliases-service-type
                   '(("postmaster" "rober")
                     ("rober" "rober@example.com" "rober@example2.com")))

   La configuración del servicio ‘mail-aliases-service-type’ es una
lista asociada que indica cómo se debe entregar el correo que viene del
sistema. Cada entrada tiene la forma ‘(alias direcciones ...)’, siendo
‘alias’ un alias (nombre) local y ‘direcciones’ especifica dónde se debe
entregar el correo de esta usuaria.

   No es necesario que los alias existan como usuarias en el sistema
local. En el ejemplo previo, no es necesario que exista una entrada
‘postmaster’ en el campo ‘user-accounts’ de ‘operating-system’ para que
el correo de ‘postmaster’ se entregue a ‘rober’ (que a su vez entregará
el correo a ‘rober@example.com’ y ‘rober@example2.com’).

daemon de IMAP3 de GNU Mailutils
................................

 -- Variable Scheme: imap4d-service-type
     Es el tipo del daemon IMAP4 de GNU Mailutils (*note
     (mailutils)imap4d::), cuyo valor debe ser un objeto
     ‘imap4d-configuration’ como en este ejemplo:

          (service imap4d-service-type
                   (imap4d-configuration
                     (config-file (local-file "imap4d.conf"))))

 -- Tipo de datos: imap4d-configuration
     Tipo de datos que representa la configuración de ‘imap4d’.

     ‘package’ (predeterminado: ‘mailutils’)
          El paquete que proporciona ‘imap4d’.

     ‘config-file’ (predeterminado: ‘%default-imap4d-config-file’)
          Objeto “tipo-fichero” con el fichero de configuración usado,
          de manera predeterminada escucha en el puerto TCP 143 de
          ‘localhost’. *Note (mailutils)Conf-imap4d::, para más
          detalles.


File: guix.es.info,  Node: Servicios de mensajería,  Next: Servicios de telefonía,  Prev: Servicios de correo,  Up: Servicios

8.8.11 Servicios de mensajería
------------------------------

El módulo ‘(gnu services messaging)’ proporciona definiciones de
servicios Guix para servicios de mensajería: actualmente únicamente
Prosody está implementado.

Servicio Prosody
................

 -- Variable Scheme: prosody-service-type
     Este es el tipo para el servidor de comunicaciones XMPP Prosody
     (https://prosody.im). Su valor debe ser un registro
     ‘prosody-configuration’ como en este ejemplo:

          (service prosody-service-type
                   (prosody-configuration
                    (modules-enabled (cons* "groups" "mam" %default-modules-enabled))
                    (int-components
                     (list
                      (int-component-configuration
                       (hostname "conference.ejemplo.net")
                       (plugin "muc")
                       (mod-muc (mod-muc-configuration)))))
                    (virtualhosts
                     (list
                      (virtualhost-configuration
                       (domain "ejemplo.net"))))))

     Véase a continuación detalles acerca de ‘prosody-configuration’.

   De manera predeterminada, Prosody no necesita demasiada
configuración. Únicamente un campo ‘virtualhost’ es necesario:
especifica el dominio en el que se desea que Prosody proporcione el
servicio.

   Puede realizar varias comprobaciones preliminares sobre la
configuración generada con la orden ‘prosodyctl check’.

   Prosodyctl también le ayudará con la importación de certificados del
directorio ‘letsencrypt’ de modo que la usuaria ‘prosody’ puede acceder
a ellos. Véase <https://prosody.im/doc/letsencrypt>.

     prosodyctl --root cert import /etc/letsencrypt/live

   A continuación se encuentran los parámetros de configuración
disponibles. El tipo de cada parámetro antecede la definición del mismo;
por ejemplo, ‘string-list foo’ indica que el parámetro ‘foo’ debe
especificarse como una lista de cadenas. Los tipos que empiezan con
‘maybe-’ identifican parámetros que no aparecerán en ‘prosody.cfg.lua’
cuando su valor sea ‘'disabled’.

   También existe la posibilidad de especificar la configuración como
una cadena, por si tiene un fichero ‘prosody.cfg.lua’ antiguo que desea
transportar desde otro sistema; véase más detalles al final.

   El tipo ‘file-object’ designa o bien un objeto “tipo-fichero” (*note
objetos “tipo-fichero”: Expresiones-G.) o un nombre de fichero.

   Los campos disponibles de ‘prosody-configuration’ son:

 -- parámetro de ‘prosody-configuration’: package prosody
     El paquete Prosody.

 -- parámetro de ‘prosody-configuration’: nombre-fichero data-path
     Ruta del directorio de almacenamiento de datos de Prosody. Véase
     <https://prosody.im/doc/configure>. Su valor predeterminado es
     ‘"/var/lib/prosody"’.

 -- parámetro de ‘prosody-configuration’: lista-file-object plugin-paths
     Directorios de módulos adicionales. Los módulos se buscan en orden
     en todas las rutas especificadas. Véase
     <https://prosody.im/doc/plugins_directory>. Su valor predeterminado
     es ‘()’.

 -- parámetro de ‘prosody-configuration’: nombre-fichero certificates
     Cada máquina virtual y componente necesitan un certificado de
     manera que los clientes y servidores puedan verificar su identidad
     de manera segura. Prosody cargará de manera automática
     certificados/claves del directorio especificado aquí. Su valor
     predeterminado es ‘"/etc/prosody/certs"’.

 -- parámetro de ‘prosody-configuration’: lista-string admins
     Es una lista de cuentas con permisos de administración en el
     servidor. Tenga en cuenta que debe crear las cuentas de manera
     separada. Véase <https://prosody.im/doc/admins> y
     <https://prosody.im/doc/creating_accounts>. Ejemplo: ‘(admins
     '("usuaria1@example.com" "usuaria2@example.net"))’ Su valor
     predeterminado es ‘()’.

 -- parámetro de ‘prosody-configuration’: boolean use-libevent?
     Activa el uso de libevent para mejorar el rendimiento bajo altas
     cargas de trabajo. Véase <https://prosody.im/doc/libevent>. Su
     valor predeterminado es ‘#f’.

 -- parámetro de ‘prosody-configuration’: lista-módulos modules-enabled
     La lista de módulos de Prosody cargada durante el arranque. Busca
     en el fichero de módulos ‘mod_nombremodulo.lua’, por lo que
     asegúrese de que también exista. La documentación de los módulos
     puede encontrarse en: <https://prosody.im/doc/modules>. Su valor
     predeterminado es ‘("roster" "saslauth" "tls" "dialback" "disco"
     "carbons" "private" "blocklist" "vcard" "version" "uptime" "time"
     "ping" "pep" "register" "admin_adhoc")’.

 -- parámetro de ‘prosody-configuration’: lista-string modules-disabled
     ‘"offline"’, ‘"c2s"’ y ‘"s2s"’ se cargan de manera automática, pero
     puede desactivarlos si los añade a esta lista. Su valor
     predeterminado es ‘()’.

 -- parámetro de ‘prosody-configuration’: file-object groups-file
     Ruta a un fichero de texto donde se definan los grupos compartidos.
     Si esta ruta está vacía, ‘mod_groups’ no hace nada. Véase
     <https://prosody.im/doc/modules/mod_groups>. Su valor
     predeterminado es ‘"/var/lib/prosody/sharedgroups.txt"’.

 -- parámetro de ‘prosody-configuration’: boolean allow-registration?
     Desactiva la creación de cuentas de manera predeterminada, por
     seguridad. Véase <https://prosody.im/doc/creating_accounts>. Su
     valor predeterminado es ‘#f’.

 -- parámetro de ‘prosody-configuration’: maybe-ssl-configuration ssl
     Estas opciones de configuración están relacionadas con SSL/TLS. La
     mayor parte no se proporcionan para usar los valores
     predeterminados de Prosody. Si no entiende completamente estas
     opciones, no las añada a su configuración, es fácil aumentar la
     vulnerabilidad de su servidor si las usa. Véase
     <https://prosody.im/doc/advanced_ssl_config>.

     Los campos disponibles de ‘ssl-configuration’ son:

      -- parámetro de ‘ssl-configuration’: maybe-string protocol
          Determina el inicio del protocolo usado (handshake).

      -- parámetro de ‘ssl-configuration’: maybe-nombre-fichero key
          Ruta a su fichero de clave privada.

      -- parámetro de ‘ssl-configuration’: maybe-nombre-fichero
               certificate
          Ruta al fichero de su certificado.

      -- parámetro de ‘ssl-configuration’: file-object capath
          Ruta al directorio que contiene los certificados raíz en los
          que desea que Prosody confíe al verificar los certificados de
          servidores remotos. Su valor predeterminado es
          ‘"/etc/ssl/certs"’.

      -- parámetro de ‘ssl-configuration’: maybe-file-object cafile
          Ruta al fichero que contiene los certificados raíz en los que
          desea que Prosody confíe. Es similar a ‘capath’ pero con todos
          los certificados concatenados en el mismo fichero.

      -- parámetro de ‘ssl-configuration’: maybe-lista-string verify
          Una lista de opciones de verificación (son de manera
          prácticamente directa las opciones de ‘set_verify()’ de
          OpenSSL).

      -- parámetro de ‘ssl-configuration’: maybe-lista-string options
          Una lista de opciones generales relacionadas con SSL/TLS. Se
          relacionan directamente con las opciones ‘set_options()’ de
          OpenSSL. Para obtener una lista completa de las opciones
          disponibles en LuaSec, véase los ficheros de fuentes de
          LuaSec.

      -- parámetro de ‘ssl-configuration’: maybe-entero-no-negativo
               depth
          Cómo de larga puede ser la cadena de autoridades de
          certificación a comprobar cuando se busque un certificado de
          confianza.

      -- parámetro de ‘ssl-configuration’: maybe-string ciphers
          Una cadena de algoritmos de cifrado de OpenSSL. Selecciona que
          algoritmos ofrecerá Prosody a los clientes, y en qué orden.

      -- parámetro de ‘ssl-configuration’: maybe-nombre-fichero dhparam
          Una ruta a un fichero que contenga parámetros para el
          intercambio de claves Diffie-Hellman. Puede crear un fichero
          de este tipo con: ‘openssl dhparam -out
          /etc/prosody/certs/dh-2048.pem 2048’

      -- parámetro de ‘ssl-configuration’: maybe-string curve
          Curva para el protocolo Diffie-Hellman de curva elíptica. El
          valor predeterminado de Prosody es ‘"secp384r1"’.

      -- parámetro de ‘ssl-configuration’: maybe-string-list verifyext
          A list of “extra” verification options.

      -- parámetro de ‘ssl-configuration’: maybe-string password
          Contraseña para claves privadas cifradas.

 -- parámetro de ‘prosody-configuration’: boolean
          c2s-require-encryption?
     Determina si se fuerza que todas las conexiones cliente-servidor
     vayan cifradas o no. Véase
     <https://prosody.im/doc/modules/mod_tls>. Su valor predeterminado
     es ‘#f’.

 -- parámetro de ‘prosody-configuration’: lista-string
          disable-sasl-mechanisms
     Conjunto de mecanismos que no se ofrecerán nunca. Véase
     <https://prosody.im/doc/modules/mod_saslauth>. Su valor
     predeterminado es ‘("DIGEST-MD5")’.

 -- parámetro de ‘prosody-configuration’: boolean
          s2s-require-encryption?
     Determina si se fuerza que todas las conexiones servidor-servidor
     vayan cifradas o no. Véase
     <https://prosody.im/doc/modules/mod_tls>. Su valor predeterminado
     es ‘#f’.

 -- parámetro de ‘prosody-configuration’: boolean s2s-secure-auth?
     Determina si el cifrado y la identificación mediante certificado
     son necesarias. Esto proporciona una seguridad ideal, pero necesita
     que los servidores con los que se comunique permitan cifrado y
     tengan presentes certificados válidos en los que se tenga
     confianza. Véase <https://prosody.im/doc/s2s#security>. Su valor
     predeterminado es ‘#f’.

 -- parámetro de ‘prosody-configuration’: lista-string
          s2s-insecure-domains
     Muchos servidores no permiten el cifrado o tienen certificados
     auto-firmados. Puede proporcionar aquí una lista de dominios que no
     necesitarán la identificación mediante certificado. Se
     identificarán mediante DNS. Véase
     <https://prosody.im/doc/s2s#security>. Su valor predeterminado es
     ‘()’.

 -- parámetro de ‘prosody-configuration’: lista-string
          s2s-secure-domains
     Aún en el caso de mantener ‘s2s-secure-auth?’, puede exigir
     certificados válidos para algunos dominios especificando una lista
     aquí. Véase <https://prosody.im/doc/s2s#security>. Su valor
     predeterminado es ‘()’.

 -- parámetro de ‘prosody-configuration’: string authentication
     Selecciona el motor de identificación usado. La implementación
     predeterminada almacena las contraseñas en texto claro y usa el
     almacenamiento de datos configurado en Prosody para los datos de
     identificación. Si no confía en su servidor le recomendamos que
     visite <https://prosody.im/doc/modules/mod_auth_internal_hashed>
     para obtener información sobre el motor de almacenamiento tras
     hash. Véase también <https://prosody.im/doc/authentication>. Su
     valor predeterminado es ‘"internal_plain"’.

 -- parámetro de ‘prosody-configuration’: maybe-string log
     Determina las opciones del registro. La configuración avanzada del
     registro no está implementada todavía para el servicio Prosody.
     Véase <https://prosody.im/doc/logging>. Su valor predeterminado es
     ‘"*syslog"’.

 -- parámetro de ‘prosody-configuration’: nombre-fichero pidfile
     Fichero en el que se escribirá el PID. Véase
     <https://prosody.im/doc/modules/mod_posix>. Su valor predeterminado
     es ‘"/var/run/prosody/prosody.pid"’.

 -- parámetro de ‘prosody-configuration’: maybe-entero-no-negativo
          http-max-content-size
     Tamaño máximo permitido del cuerpo (body) HTTP (en bytes)

 -- parámetro de ‘prosody-configuration’: maybe-string http-external-url
     Algunos módulos exponen sus propias URL de diversas maneras. Esta
     URL se construye en base al protocolo, máquina y puerto usados. Si
     Prosody se encuentra tras un proxy, se usara ‘http-external-url’
     como URL pública. Véase <https://prosody.im/doc/http#external_url>.

 -- parámetro de ‘prosody-configuration’:
          lista-virtualhost-configuration virtualhosts
     Una máquina (host) en Prosody es un dominio en el que se pueden
     crear cuentas de usuaria. Por ejemplo, si desea que sus usuarias
     tengan direcciones como ‘"juan.herrero@example.com"’ necesitará
     añadir una máquina ‘"example.com"’. Todas las opciones en esta
     lista son efectivas únicamente en esa máquina.

     Note: the name _virtual_ host is used in configuration to avoid
     confusion with the actual physical host that Prosody is installed
     on. A single Prosody instance can serve many domains, each one
     defined as a VirtualHost entry in Prosody’s configuration.
     Conversely a server that hosts a single domain would have just one
     VirtualHost entry.

     Véase <https://prosody.im/doc/configure#virtual_host_settings>.

     Los campos disponibles de ‘virtualhost-configuration’ son:

     todos estos campos de ‘prosody-configuration’: ‘admins’,
     ‘use-libevent?’, ‘modules-enabled’, ‘modules-disabled’,
     ‘groups-file’, ‘allow-registration?’, ‘ssl’,
     ‘c2s-require-encryption?’, ‘disable-sasl-mechanisms’,
     ‘s2s-require-encryption?’, ‘s2s-secure-auth?’,
     ‘s2s-insecure-domains’, ‘s2s-secure-domains’, ‘authentication’,
     ‘log’, ‘http-max-content-size’, ‘http-external-url’, ‘raw-content’,
     además de:
      -- parámetro de ‘virtualhost-configuration’: string domain
          Dominio en el que desea que Prosody proporcione servicio.

 -- parámetro de ‘prosody-configuration’:
          lista-int-component-configuration int-components
     Los componentes son servicios adicionales en un servidor que están
     disponibles a los clientes, habitualmente en un subdominio del
     servidor principal (como por ejemplo ‘"micomponente.example.com"’).
     Algunos ejemplos de componentes pueden ser los servidores de salas
     de conversación, los directorios de usuarias o las pasarelas a
     otros protocolos.

     Los componentes internos se implementan con módulos específicos de
     Prosody. Para añadir un componente interno, simplemente rellene el
     campo del nombre de máquina, y el módulo que desea usar para el
     componente.

     Véase <https://prosody.im/doc/components>. Su valor predeterminado
     es ‘()’.

     Los campos disponibles de ‘int-component-configuration’ son:

     todos estos campos de ‘prosody-configuration’: ‘admins’,
     ‘use-libevent?’, ‘modules-enabled’, ‘modules-disabled’,
     ‘groups-file’, ‘allow-registration?’, ‘ssl’,
     ‘c2s-require-encryption?’, ‘disable-sasl-mechanisms’,
     ‘s2s-require-encryption?’, ‘s2s-secure-auth?’,
     ‘s2s-insecure-domains’, ‘s2s-secure-domains’, ‘authentication’,
     ‘log’, ‘http-max-content-size’, ‘http-external-url’, ‘raw-content’,
     además de:
      -- parámetro de ‘int-component-configuration’: string hostname
          Nombre de máquina del componente.

      -- parámetro de ‘int-component-configuration’: string plugin
          Módulo que desea usar para el componente.

      -- parámetro de ‘int-component-configuration’:
               maybe-mod-muc-configuration mod-muc
          Multi-user chat (MUC) es el módulo de Prosody que permite la
          creación de salas de conversación/conferencias para usuarias
          XMPP.

          General information on setting up and using multi-user
          chatrooms can be found in the “Chatrooms” documentation
          (<https://prosody.im/doc/chatrooms>), which you should read if
          you are new to XMPP chatrooms.

          Véase también <https://prosody.im/doc/modules/mod_muc>.

          Los campos disponibles de ‘mod-muc-configuration’ son:

           -- parámetro de ‘mod-muc-configuration’: string name
               El nombre devuelto en las respuestas de descubrimiento de
               servicios. Su valor predeterminado es ‘"Prosody
               Chatrooms"’.

           -- parámetro de ‘mod-muc-configuration’: string-o-boolean
                    restrict-room-creation
               Si es ‘#t’, únicamente se permitirá a las administradoras
               la creación de nuevas salas de conversación. En otro caso
               cualquiera puede crear una sala. El valor ‘"local"’
               restringe la creación a usuarias en el dominio superior
               del servicio. Por ejemplo ‘usuaria@example.com’ puede
               crear grupos en ‘rooms.example.com’. El valor ‘"admin"’
               restringe el servicio a las administradoras únicamente.
               Su valor predeterminado es ‘#f’.

           -- parámetro de ‘mod-muc-configuration’: entero-no-negativo
                    max-history-messages
               Número máximo de mensajes históricos que se enviarán a
               quien se acabe de unir a la sala. Su valor predeterminado
               es ‘20’.

 -- parámetro de ‘prosody-configuration’:
          lista-ext-component-configuration ext-components
     Los componentes externos usan XEP-0114, el cual se implementa en la
     mayor parte de componentes independientes. Para añadir un
     componente externo, simplemente rellene el campo de nombre de
     máquina (hostname). Véase <httos://prosody.im/doc/components>. Su
     valor predeterminado es ‘()’.

     Los campos disponibles de ‘ext-component-configuration’ son:

     todos estos campos de ‘prosody-configuration’: ‘admins’,
     ‘use-libevent?’, ‘modules-enabled’, ‘modules-disabled’,
     ‘groups-file’, ‘allow-registration?’, ‘ssl’,
     ‘c2s-require-encryption?’, ‘disable-sasl-mechanisms’,
     ‘s2s-require-encryption?’, ‘s2s-secure-auth?’,
     ‘s2s-insecure-domains’, ‘s2s-secure-domains’, ‘authentication’,
     ‘log’, ‘http-max-content-size’, ‘http-external-url’, ‘raw-content’,
     además de:
      -- parámetro de ‘ext-component-configuration’: string
               component-secret
          Contraseña usada por el componente para el ingreso al sistema.

      -- parámetro de ‘ext-component-configuration’: string hostname
          Nombre de máquina del componente.

 -- parámetro de ‘prosody-configuration’: lista-entero-no-negativo
          component-ports
     Puerto o puertos en los que prosody escucha conexiones de
     componentes. Su valor predeterminado es ‘(5347)’.

 -- parámetro de ‘prosody-configuration’: string component-interface
     Interfaz en la que Prosody escucha conexiones de componentes. Su
     valor predeterminado es ‘"127.0.0.1"’.

 -- parámetro de ‘prosody-configuration’: maybe-raw-content raw-content
     Contenido que se añadirá directamente al fichero de configuración.

   Puede ser que únicamente desee usar un fichero ‘prosody.cfg.lua’ ya
creado. En ese caso, puede proporcionar un registro
‘opaque-prosody-configuration’ como el valor de ‘prosody-service-type’.
Como su nombre en inglés indica, una configuración opaca no tiene gran
capacidad reflexiva. Los campos disponibles de
‘opaque-prosody-configuration’ son:

 -- parámetro de ‘opaque-prosody-configuration’: package prosody
     El paquete prosody.

 -- parámetro de ‘opaque-prosody-configuration’: string prosody.cfg.lua
     El contenido usado para ‘prosody.cfg.lua’.

   Por ejemplo, si su ‘prosody.cfg.lua’ es simplemente la cadena vacía,
podría instanciar el servicio de Prosody de esta manera:

     (service prosody-service-type
              (opaque-prosody-configuration
               (prosody.cfg.lua "")))

Servicio BitlBee
................

BitlBee (https://bitlbee.org) es una pasarela que proporciona una
interfaz IRC a una variedad de protocolos como XMPP.

 -- Variable Scheme: bitlbee-service-type
     Este es el tipo de servicio para el daemon de pasarela IRC BitlBee
     (https://bitlbee.org). Su valor es un ‘bitlbee-configuration’
     (véase a continuación).

     Para que BitlBee escuche en el puerto 6667 de localhost, añada esta
     línea a sus servicios:

          (service bitlbee-service-type)

 -- Tipo de datos: bitlbee-configuration
     Esta es la configuración para BitlBee, con los siguientes campos:

     ‘interface’ (predeterminada: ‘"127.0.0.1"’)
     ‘port’ (predeterminado: ‘6667’)
          Escucha en la interfaz de red correspondiente a la dirección
          IP especificada en INTERFACE, en el puerto PORT.

          Cuando INTERFACE es ‘127.0.0.1’, únicamente se permite la
          conexión de clientes locales; cuando es ‘0.0.0.0’, las
          conexiones pueden venir de cualquier interfaz de red.

     ‘bitlbee’ (predeterminado: ‘bitlbee’)
          El paquete BitlBee usado.

     ‘plugins’ (predeterminados: ‘'()’)
          Lista de paquetes de módulos usados—por ejemplo,
          ‘bitlbee-discord’.

     ‘extra-settings’ (predeterminado: ‘""’)
          Fragmento de configuración añadido tal cual al fichero de
          configuración de BitlBee.

Servicio Quassel
................

Quassel (https://quassel-irc.org/) es un cliente IRC distribuido, lo que
significa que uno o más clientes se pueden conectar y desconectar del
núcleo central.

 -- Variable Scheme: quassel-service-type
     Es el tipo de servicio del daemon del motor IRC de Quassel
     (https://quassel-irc.org/). Su valor es un ‘quassel-configuration’
     (véase a continuación).

 -- Tipo de datos: quassel-configuration
     Es la configuración para Quassel, con los siguientes campos:

     ‘quassel’ (predeterminado: ‘quassel’)
          El paquete Quassel usado.

     ‘interface’ (predeterminada: ‘"::,0.0.0.0"’)
     ‘port’ (predeterminado: ‘4242’)
          Escucha en la o las interfaces de red que correspondan con las
          direcciones IPv4 o IPv6 delimitadas por comas especificadas en
          INTERFACE, en el puerto PORT.

     ‘loglevel’ (predeterminado: ‘"Info"’)
          El nivel de registro deseado. Los valores aceptados son Debug,
          Info, Warning y Error.


File: guix.es.info,  Node: Servicios de telefonía,  Next: Servicios de monitorización,  Prev: Servicios de mensajería,  Up: Servicios

8.8.12 Servicios de telefonía
-----------------------------

Esta sección describe como configurar y poner en marcha un servidor
Murmur. Murmur es el servidor del paquete de voz-IP (VoIP) Muble
(https://mumble.info)

 -- Tipo de datos: murmur-configuration
     El tipo de servicio del servidor Murmur. Una ejemplo de
     configuración podría ser el siguiente:

          (service murmur-service-type
                   (murmur-configuration
                    (welcome-text
                      "¡Bienvenida a este servidor Murmur que se ejecuta en Guix!")
                    (cert-required? #t) ;no permite ingresos con una contraseña en texto
                    (ssl-cert "/etc/letsencrypt/live/mumble.example.com/fullchain.pem")
                    (ssl-key "/etc/letsencrypt/live/mumble.example.com/privkey.pem")))

     Tras reconfigurar su sistema, puede establecer manualmente la
     contraseña de ‘SuperUser’ de Murmur con la orden que se imprime
     durante el proceso de activación.

     Se recomienda el registro de una cuenta de usuaria normal de Mumble
     y la concesión de permisos de administración o moderación. Puede
     usar el cliente ‘mumble’ para ingresar como una nueva usuaria
     normal, registrarse usted misma, y salir del sistema. En el
     siguiente paso ingrese en el sistema con el nombre ‘SuperUser’, use
     la contraseña de ‘SuperUser’ que fue establecida con anterioridad,
     y conceda los permisos de administración o moderación a su usuaria
     de nombre creada anteriormente y cree algunos canales.

     Los campos disponibles de ‘murmur-configuration’ son:

     ‘package’ (predeterminado: ‘mumble’)
          Paquete que contiene ‘bin/murmurd’.

     ‘user’ (predeterminado: ‘"murmur"’)
          Usuaria que ejecutará el servidor Murmur.

     ‘group’ (predeterminado: ‘"murmur"’)
          Grupo de la usuaria que ejecutará el servidor murmur.

     ‘port’ (predeterminado: ‘64738’)
          Puerto en el que escucha el servidor.

     ‘welcome-text’ (predeterminado: ‘""’)
          Mensaje de bienvenida enviado a clientes tras su conexión.

     ‘server-password’ (predeterminada: ‘""’)
          Contraseña que debe introducirse para poder conectarse.

     ‘max-users’ (predeterminados: ‘100’)
          Número máximo de usuarias que pueden estar conectadas a la vez
          al servidor.

     ‘max-user-bandwidth’ (predeterminado: ‘#f’)
          Tráfico de voz máximo que una usuaria puede mandar por
          segundo.

     ‘database-file’ (predeterminado: ‘"/var/lib/murmur/db.sqlite"’)
          Nombre de fichero de la base de datos sqlite. La usuaria del
          servicio se convertirá en propietaria del directorio.

     ‘log-file’ (predeterminado: ‘"/var/log/murmur/murmur.log"’)
          Nombre de fichero del fichero de registro. La usuaria del
          servicio se convertirá en propietaria del directorio.

     ‘autoban-attempts’ (predeterminados: ‘10’)
          Número máximo de ingresos al sistema que una usuaria puede
          llevar a cabo en ‘autoban-timeframe’ sin bloquearse su acceso
          durante ‘autoban-time’.

     ‘autoban-timeframe’ (predeterminado: ‘120’)
          Marco de tiempo del bloqueo automático en segundos.

     ‘autoban-time’ (predeterminado: ‘300’)
          Duración en segundos del periodo que permanecerá bloqueado un
          cliente cuando viole los límites de bloqueo automático.

     ‘opus-threshold’ (predeterminado: ‘100’)
          Porcentaje de clientes que tienen que permitir opus antes de
          cambiar al algoritmo de sonido opus.

     ‘channel-nesting-limit’ (predeterminado: ‘10’)
          Cual puede ser el nivel de recursión de los canales.

     ‘channelname-regex’ (predeterminado: ‘#f’)
          Una cadena en forma de expresión regular Qt que deben cumplir
          los nombres de canal.

     ‘username-regex’ (predeterminado: ‘#f’)
          Una cadena en forma de expresión regular Qt que deben cumplir
          los nombres de usuaria.

     ‘text-message-length’ (predeterminado: ‘5000’)
          Número máximo de bytes que una usuaria puede enviar en un
          mensaje de texto.

     ‘image-message-length’ (predeterminado: ‘(* 128 1024)’)
          Número máximo de bytes que una usuaria puede enviar en un
          mensaje de imagen.

     ‘cert-required?’ (predeterminado: ‘#f’)
          Si su valor es ‘#t’ no se aceptarán los clientes que usen
          identificación débil por contraseña. Las usuarias deben haber
          completado la herramienta de creación de certificado para
          unirse.

     ‘remember-channel?’ (predeterminado: ‘#f’)
          Si murmur debe recordar el último canal en el que estaba cada
          usuaria cuando se desconectó y debe colocarla en el canal
          recordado cuando vuelva a unirse.

     ‘allow-html?’ (predeterminado: ‘#f’)
          Si se permite html en mensajes de texto, comentarios de
          usuaria y descripciones de canal.

     ‘allow-ping?’ (predeterminado: ‘#f’)
          Proporcionar un valor verdadero expone el número de usuarias
          actual, el número máximo de usuarias y el ancho de banda
          máximo del servidor por cliente a usuarias sin identificación.
          En el cliente Muble, esta información se muestra en el diálogo
          Connect/Conexión.

          Desactivar esta opción impedirá la escucha pública en el
          servidor.

     ‘bonjour?’ (predeterminado: ‘#f’)
          Si el servidor debe anunciarse a sí mismo en la red local a
          través del protocolo “bonjour”.

     ‘send-version?’ (predeterminado: ‘#f’)
          Si se debe exponer la versión del servidor murmur en las
          peticiones ping.

     ‘log-days’ (predeterminado: ‘31’)
          Murmur también almacena registros en la base de datos, los
          cuales son accesibles mediante RPC. El valor predeterminado es
          31 días del mes, pero puede establecer esta configuración a 0
          para mantener los registros para siempre, o -1 para desactivar
          el registro en la base de datos.

     ‘obfuscate-ips?’ (predeterminado: ‘#t’)
          Si las IP registradas deben ofuscarse para proteger la
          privacidad de las usuarias.

     ‘ssl-cert’ (predeterminado: ‘#f’)
          Nombre del fichero del certificado SSL/TLS usado para
          conexiones cifradas.

               (ssl-cert "/etc/letsencrypt/live/example.com/fullchain.pem")
     ‘ssl-key’ (predeterminada: ‘#f’)
          Ruta de fichero de la clave privada de ssl usada para las
          conexiones cifradas.
               (ssl-key "/etc/letsencrypt/live/example.com/privkey.pem")

     ‘ssl-dh-params’ (predeterminado: ‘#f’)
          Nombre del fichero codificado con PEM con parámetros
          Diffie-Hellman para el cifrado SSL/TLS. De manera alternativa
          puede establecer su valor a ‘"@ffdhe2048"’, ‘"@ffdhe3072"’,
          ‘"@ffdhe4096"’, ‘"@ffdhe6144"’ o ‘"@ffdhe8192"’ para usar los
          parámetros contenidos en el RFC 7919.

     ‘ssl-ciphers’ (predeterminado: ‘#f’)
          La opción ‘ssl-ciphers’ selecciona los protocolos de cifrado
          disponibles para su uso en SSL/TLS.

          Esta opción se especifica mediante el uso de la notación de
          listas de prot. de cifrado de OpenSSL
          (https://www.openssl.org/docs/apps/ciphers.html#CIPHER-LIST-FORMAT).

          Se recomienda que pruebe su cadena de protocolos con ’openssl
          ciphers <cadena>’ antes de configurarla aquí, para que
          compruebe que protocolos obtendrá. Tras establecer el valor de
          esta opción se recomienda que inspeccione el registro de
          Murmur para asegurarse de que Murmur usa los protocolos que
          esperaba que usase.

          Fíjese: El cambio de esta opción puede impactar en la
          compatibilidad con versiones anteriores de su servidor Murmur,
          y puede eliminar la posibilidad de conexión desde clientes
          Mumble antiguos.

     ‘public-registration’ (predeterminado: ‘#f’)
          Debe ser un registro
          ‘<murmur-public-registration-configuration>’ o ‘#f’.

          Puede registrar de manera opcional su servidor en la lista
          pública de servidores que el cliente ‘mumble’ muestra al
          inicio. No puede registrar su servidor si tiene establecida
          una contraseña para el servidor (‘server-password’), o
          establece ‘allow-ping’ como ‘#f’.

          Puede tomar algunas horas hasta que se muestre en la lista
          pública.

     ‘file’ (predeterminado: ‘#f’)
          Forma opcional alternativa de forzar el valor de esta
          configuración.

 -- Tipo de datos: murmur-public-registration-configuration
     Configuración para registro público de un servicio de murmur.

     ‘name’
          Este es el nombre mostrado de su servidor. No debe confundirse
          con el nombre de máquina.

     ‘password’
          Una contraseña para identificar su registro. Las
          actualizaciones siguientes necesitarán la misma contraseña. No
          pierda su contraseña.

     ‘url’
          Debe ser un enlace ‘http://’ o ‘https://’ a su página web.

     ‘hostname’ (predeterminado: ‘#f’)
          De manera predeterminada su servidor se enumerará por sus
          direcciones IP. Si se usa esta opción, en vez de eso se
          enlazará a través de este nombre de máquina.


File: guix.es.info,  Node: Servicios de monitorización,  Next: Servicios Kerberos,  Prev: Servicios de telefonía,  Up: Servicios

8.8.13 Servicios de monitorización
----------------------------------

Servicio Tailon
...............

Tailon (https://tailon.readthedocs.io/) es una aplicación web para la
visualización y búsqueda en ficheros de registro.

   El ejemplo siguiente configura el servicio con los valores
predeterminados. Por omisión, se puede acceder a Tailon en el puerto
8080 (‘http://localhost:8080’).

     (service tailon-service-type)

   El ejemplo siguiente personaliza más la configuración de Tailon,
añadiendo ‘sed’ a la lista de órdenes permitidas.

     (service tailon-service-type
              (tailon-configuration
                (config-file
                  (tailon-configuration-file
                    (allowed-commands '("tail" "grep" "awk" "sed"))))))

 -- Tipo de datos: tailon-configuration
     Tipo de datos que representa la configuración de Tailon. Este tipo
     tiene los siguientes parámetros:

     ‘config-file’ (predeterminado: ‘(tailon-configuration-file)’)
          El fichero de configuración usado por Tailon. Su valor puede
          ser un registro ‘tailon-configuration-file’ o cualquier
          expresión-G (*note Expresiones-G::).

          Por ejemplo, para usar un fichero local, se puede usar la
          función ‘local-file’:

               (service tailon-service-type
                        (tailon-configuration
                          (config-file (local-file "./mi-tailon.conf"))))

     ‘package’ (predeterminado: ‘tailon’)
          El paquete tailon usado.

 -- Tipo de datos: tailon-configuration-file
     Tipo de datos que representa las opciones de configuración de
     Tailon. Este tipo tiene los siguientes parámetros:

     ‘files’ (predeterminados: ‘(list "/var/log")’)
          Lista de ficheros a mostrar. La lista puede incluir cadenas
          para un único fichero o directorio, o una lista, donde el
          primer elemento es el nombre de la subsección, y los elementos
          restantes son los ficheros o directorios de dicha subsección.

     ‘bind’ (predeterminado: ‘"localhost:8080"’)
          Dirección y puerto al que Tailon debe asociarse.

     ‘relative-root’ (predeterminado: ‘#f’)
          Ruta URL usada por Tailon, use ‘#f’ para no usar una ruta.

     ‘allow-transfers?’ (predeterminado: ‘#t’)
          Permite la descarga de ficheros de registro en la interfaz
          web.

     ‘follow-names?’ (predeterminado: ‘#t’)
          Permite la lectura de ficheros todavía no existentes.

     ‘tail-lines’ (predeterminado: ‘200’)
          Número de líneas a leer inicialmente de cada fichero.

     ‘allowed-commands’ (predeterminadas: ‘(list "tail" "grep" "awk")’)
          Órdenes cuya ejecución está permitida. Por defecto, ‘sed’ está
          desactivado.

     ‘debug?’ (predeterminado: ‘#f’)
          Proporcione el valor ‘#t’ en ‘debug?’ para mostrar mensajes de
          depuración.

     ‘wrap-lines’ (predeterminado: ‘#t’)
          Estado inicial del recorte de líneas en la interfaz web. El
          valor ‘#t’ hace que las líneas se recorten inicialmente
          (comportamiento predeterminado), y el valor ‘#f’ hace que no
          se recorten de manera inicial.

     ‘http-auth’ (predeterminado: ‘#f’)
          Identificación de HTTP usada. Use ‘#f’ para no permitir la
          identificación (el valor predeterminado). Los valores
          permitidos son ‘"digest"’ o ‘"basic"’.

     ‘users’ (predeterminado: ‘#f’)
          Si la identificación de HTTP está activa (véase ‘http-auth’),
          el acceso se restringirá a las credenciales proporcionadas
          aquí. Para configurar usuarias, use una lista de pares, donde
          el primer elemento del par es el nombre de la usuaria, y el
          segundo elemento del par es la contraseña.

               (tailon-configuration-file
                 (http-auth "basic")
                 (users     '(("usuaria1" . "contraseña1")
                              ("usuaria2" . "contraseña2"))))

Servicio Darkstat
.................

Darkstat es un programa de interceptación de paquetes que captura el
tráfico de la red, calcula estadísticas sobre su uso y proporciona
informes a través de HTTP.

 -- Variable: Variable Scheme darkstat-service-type
     Este es el tipo de servicio del servicio darkstat
     (https://unix4lyfe.org/darkstat/), su valor debe ser un registro
     ‘darkstat-configuration’ como en este ejemplo:

          (service darkstat-service-type
                   (darkstat-configuration
                     (interface "eno1")))

 -- Tipo de datos: darkstat-configuration
     Tipo de datos que representa la configuración de ‘darkstat’.

     ‘package’ (predeterminado: ‘darkstat’)
          El paquete darkstat usado.

     ‘interface’
          Captura el tráfico en la interfaz de red especificada.

     ‘port’ (predeterminado: ‘"667"’)
          Asocia la interfaz web al puerto especificado.

     ‘bind-address’ (predeterminada: ‘"127.0.0.1"’)
          Asocia la interfaz web a la dirección especificada.

     ‘base’ (predeterminada: ‘"/"’)
          Especifica la ruta de la URL base. Puede ser util si
          ‘darkstat’ se accede a través de un proxy inverso.

Servicio del exportador de nodos Prometheus
...........................................

El “exportador de nodos” Prometheus pone a disposición del sistema de
monitorización Prometheus las estadísticas de hardware y el sistema
operativo proporcionadas por el núcleo Linux. Este servicio debe
desplegarse en todos los nodos físicos y máquinas virtuales, donde la
monitorización de estas estadísticas sea deseable.

 -- Variable: Variable Scheme prometheus-node-exporter-service-type
     Este es el tipo de servicio del servicio prometheus-node-exporter
     (https://github.com/prometheus/node_exporter/), su valor debe ser
     un registro ‘prometheus-node-exporter-configuration’ como en este
     ejemplo:

          (service prometheus-node-exporter-service-type
                   (prometheus-node-exporter-configuration
                     (web-listen-address ":9100")))

 -- Tipo de datos: prometheus-node-exporter-configuration
     Tipo de datos que representa la configuración de ‘node_exporter’.

     ‘package’ (predeterminado: ‘go-github-com-prometheus-node-exporter’)
          El paquete prometheus-node-exporter usado.

     ‘web-listen-address’ (predeterminada: ‘":9100"’)
          Asocia la interfaz web a la dirección especificada.

Servidor Zabbix
...............

Zabbix proporciona métricas de monitorización, entre otras el uso de
red, la carga de la CPU y el consumo de espacio en disco:

   • Alto rendimiento, alta capacidad (capaz de monitorizar cientos de
     miles de dispositivos).
   • Detección automática de servidores, dispositivos de red e
     interfaces.
   • Descubrimiento a bajo nivel, que permite el inicio automático de la
     monitorización de nuevos elementos, sistemas de ficheros o
     interfaces de red entre otros.
   • Monitorización distribuida con administración web centralizada.
   • Agentes nativos de alto rendimiento.
   • Métricas SLA y KPI ITIL en los informes.
   • Visión de alto nivel (negocio) de los recursos monitorizados a
     través de pantallas de consola visual y paneles definidas por la
     usuaria.
   • Ejecución remota de ordenes a través de un proxy Zabbix.

   Los campos disponibles de ‘zabbix-server-configuration’ son:

 -- parámetro de ‘zabbix-server-configuration’: package zabbix-server
     El paquete zabbix-server.

 -- parámetro de ‘zabbix-server-configuration’: string user
     Usuaria que ejecutará el servidor Zabbix.

     El valor predeterminado es ‘"zabbix"’.

 -- parámetro de ‘zabbix-server-configuration’: grupo group
     Grupo que ejecutará el servidor Zabbix.

     El valor predeterminado es ‘"zabbix"’.

 -- parámetro de ‘zabbix-server-configuration’: string db-host
     El nombre de máquina de la base de datos.

     El valor predeterminado es ‘"127.0.0.1"’.

 -- parámetro de ‘zabbix-server-configuration’: string db-name
     Nombre de la base de datos.

     El valor predeterminado es ‘"zabbix"’.

 -- parámetro de ‘zabbix-server-configuration’: string db-user
     Usuaria de la base de datos.

     El valor predeterminado es ‘"zabbix"’.

 -- parámetro de ‘zabbix-server-configuration’: string db-password
     Contraseña de la base de datos. Por favor, en vez de esto use
     ‘include-files’ con ‘DBPassword=SECRET’ dentro de un fichero
     especificado.

     El valor predeterminado es ‘""’.

 -- parámetro de ‘zabbix-server-configuration’: number db-port
     Puerto de la base de datos.

     El valor predeterminado es ‘5432’.

 -- parámetro de ‘zabbix-server-configuration’: string log-type
     Especifica donde se escriben los mensajes de registro:

        • ‘system’ - syslog.

        • ‘file’ - fichero especificado con el parámetro ‘log-file’.

        • ‘console’ - salida estándar.

     El valor predeterminado es ‘""’.

 -- parámetro de ‘zabbix-server-configuration’: string log-file
     Nombre del fichero de registro para el parámetro ‘file’ de
     ‘log-type’.

     El valor predeterminado es ‘"/var/log/zabbix/server.log"’.

 -- parámetro de ‘zabbix-server-configuration’: string pid-file
     Nombre del fichero de PID.

     El valor predeterminado es ‘"/var/run/zabbix/zabbix_server.pid"’.

 -- parámetro de ‘zabbix-server-configuration’: string ssl-ca-location
     La localización de los ficheros de autoridades de certificación
     (CA) para la verificación de certificados SSL de los servidores.

     El valor predeterminado es ‘"/etc/ssl/certs/ca-certificates.crt"’.

 -- parámetro de ‘zabbix-server-configuration’: string ssl-cert-location
     Localización de los certificados SSL de los clientes.

     El valor predeterminado es ‘"/etc/ssl/certs"’.

 -- parámetro de ‘zabbix-server-configuration’: string extra-options
     Opciones adicionales que se añadirán al final del fichero de
     configuración de Zabbix.

     El valor predeterminado es ‘""’.

 -- parámetro de ‘zabbix-server-configuration’: ficheros-incluidos
          include-files
     Puede incluir ficheros individuales o todos los ficheros en un
     directorio en el fichero de configuración.

     El valor predeterminado es ‘()’.

Agente Zabbix
.............

El agente Zabbix (zabbix-agent) obtiene información del servidor Zabbix.

   Los campos disponibles de ‘zabbix-agent-configuration’ son:

 -- parámetro de ‘zabbix-agent-configuration’: package zabbix-agent
     El paquete zabbix-agent.

 -- parámetro de ‘zabbix-agent-configuration’: string user
     Usuaria que ejecutará el agente Zabbix.

     El valor predeterminado es ‘"zabbix"’.

 -- parámetro de ‘zabbix-agent-configuration’: grupo group
     Grupo que ejecutará el agente Zabbix.

     El valor predeterminado es ‘"zabbix"’.

 -- parámetro de ‘zabbix-agent-configuration’: string hostname
     Nombre de máquina único y sensible a mayúsculas que es necesario
     para la comprobaciones activas y debe corresponder con el nombre de
     máquina configurado en el servidor.

     El valor predeterminado es ‘"Zabbix server"’.

 -- parámetro de ‘zabbix-agent-configuration’: string log-type
     Especifica donde se escriben los mensajes de registro:

        • ‘system’ - syslog.

        • ‘file’ - fichero especificado con el parámetro ‘log-file’.

        • ‘console’ - salida estándar.

     El valor predeterminado es ‘""’.

 -- parámetro de ‘zabbix-agent-configuration’: string log-file
     Nombre del fichero de registro para el parámetro ‘file’ de
     ‘log-type’.

     El valor predeterminado es ‘"/var/log/zabbix/agent.log"’.

 -- parámetro de ‘zabbix-agent-configuration’: string pid-file
     Nombre del fichero de PID.

     El valor predeterminado es ‘"/var/run/zabbix/zabbix_agent.pid"’.

 -- parámetro de ‘zabbix-agent-configuration’: lista server
     Lista de direcciones IP, opcionalmente en notación CIDR, o nombres
     de máquina de servidores y proxy Zabbix. Se aceptarán conexiones
     entrantes únicamente desde las máquinas proporcionadas aquí.

     El valor predeterminado es ‘"127.0.0.1"’.

 -- parámetro de ‘zabbix-agent-configuration’: lista server-active
     Lista de pares IP:puerto (o máquina:puerto) de servidores Zabbix y
     servidores Zabbix para las comprobaciones activas. Si no se
     especifica un puerto, se usa el puerto predeterminado. Si no se
     especifica este parámetro, las comprobaciones activas se
     desactivan.

     El valor predeterminado es ‘"127.0.0.1"’.

 -- parámetro de ‘zabbix-agent-configuration’: string extra-options
     Opciones adicionales que se añadirán al final del fichero de
     configuración de Zabbix.

     El valor predeterminado es ‘""’.

 -- parámetro de ‘zabbix-agent-configuration’: ficheros-incluidos
          include-files
     Puede incluir ficheros individuales o todos los ficheros en un
     directorio en el fichero de configuración.

     El valor predeterminado es ‘()’.

Motor de visualización de Zabbix
................................

Este servicio proporciona una interfaz Web al servidor Zabbix.

   Los campos disponibles de ‘zabbix-front-end-configuration’ son:

 -- parámetro de ‘zabbix-front-end-configuration’:
          lista-nginx-server-configuration nginx
     Configuración de NGINX.

 -- parámetro de ‘zabbix-front-end-configuration’: string db-host
     El nombre de máquina de la base de datos.

     El valor predeterminado es ‘"localhost"’.

 -- parámetro de ‘zabbix-front-end-configuration’: number db-port
     Puerto de la base de datos.

     El valor predeterminado es ‘5432’.

 -- parámetro de ‘zabbix-front-end-configuration’: string db-name
     Nombre de la base de datos.

     El valor predeterminado es ‘"zabbix"’.

 -- parámetro de ‘zabbix-front-end-configuration’: string db-user
     Usuaria de la base de datos.

     El valor predeterminado es ‘"zabbix"’.

 -- parámetro de ‘zabbix-front-end-configuration’: string db-password
     Contraseña de la base de datos. Por favor, en vez de esto use
     ‘db-secret-file’.

     El valor predeterminado es ‘""’.

 -- parámetro de ‘zabbix-front-end-configuration’: string db-secret-file
     Fichero secreto que se añadirá al final del fichero
     ‘zabbix.conf.php’. Este fichero contiene las credenciales usadas
     por el motor de visualización de Zabbix. Se espera que usted lo
     cree manualmente.

     El valor predeterminado es ‘""’.

 -- parámetro de ‘zabbix-front-end-configuration’: string zabbix-host
     Nombre de máquina del servidor Zabbix.

     El valor predeterminado es ‘"localhost"’.

 -- parámetro de ‘zabbix-front-end-configuration’: number zabbix-port
     Puerto del servidor Zabbix.

     El valor predeterminado es ‘10051’.


File: guix.es.info,  Node: Servicios Kerberos,  Next: Servicios LDAP,  Prev: Servicios de monitorización,  Up: Servicios

8.8.14 Servicios Kerberos
-------------------------

El módulo ‘(gnu services kerberos)’ proporciona servicios relacionados
con el protocolo de identificación “Kerberos”.

Servicio Krb5
.............

Los programas que usan una biblioteca cliente de Kerberos habitualmente
esperan un fichero de configuración en la ruta ‘/etc/krb5.conf’. Este
servicio genera dicho fichero desde una definición proporcionada en la
declaración de sistema operativo. Esto no causa el inicio de ningún
daemon.

   Este servicio no crea ningún fichero “keytab”—debe crearlos
explícitamente usted. Se ha comprobado que este servicio funciona con la
biblioteca de cliente ‘mit-krb5’ del MIT. No se han probado otras
implementaciones.

 -- Variable Scheme: krb5-service-type
     Un tipo de servicio para clientes Kerberos 5.

Este es un ejemplo de su uso:
     (service krb5-service-type
              (krb5-configuration
               (default-realm "EXAMPLE.COM")
               (allow-weak-crypto? #t)
               (realms (list
                        (krb5-realm
                         (name "EXAMPLE.COM")
                         (admin-server "groucho.example.com")
                         (kdc "karl.example.com"))
                        (krb5-realm
                         (name "ARGRX.EDU")
                         (admin-server "kerb-admin.argrx.edu")
                         (kdc "keys.argrx.edu"))))))

Este ejemplo proporciona una configuración de cliente Kerberos 5 que:
   • Reconoce dos dominios, sean: “EXAMPLE.COM” y “ARGRX.EDU”, los
     cuales tienen distintos servidores administrativos y centros de
     distribución de claves;
   • El valor predeterminado será “EXAMPLE.COM” si no se especifica el
     dominio explícitamente por parte del cliente.
   • Acepta servicios cuyos únicos tipos de cifrado implementados se
     sabe que son débiles.

   Los tipos ‘krb5-realm’ y ‘krb5-configuration’ contienen muchos
campos. Aquí se describen únicamente los más habitualmente usados. Para
obtener una lista complete y una explicación detallada de cada campo,
véase la documentación de krb5.conf.

 -- Tipo de datos: krb5-realm
     ‘name’
          Este campo es una cadena que identifica el nombre del dominio.
          Una convención habitual es el uso del nombre completo de DNS
          de su organización, convertido a mayúsculas.

     ‘admin-server’
          Este campo es una cadena que identifica la máquina donde se
          ejecuta el servidor administrativo.

     ‘kdc’
          Este campo es una cadena que identifica el centro de
          distribución de claves para el dominio.

 -- Tipo de datos: krb5-configuration

     ‘allow-weak-crypto?’ (predeterminado: ‘#f’)
          Si esta opción es ‘#t’ se aceptarán los servicios que
          únicamente ofrezcan algoritmos de cifrado que se conozca que
          son débiles.

     ‘default-realm’ (predeterminado: ‘#f’)
          Este campo debe ser una cadena que identifique el dominio
          predeterminado de Kerberos para los clientes. Debería
          proporcionar el nombre de su dominio Kerberos. Si este valor
          es ‘#f’, el dominio debe especificarse en cada principal de
          Kerberos cuando se invoquen programas como ‘kinit’.

     ‘realms’
          Debe ser una lista no vacía de objetos ‘krb5-realm’,
          accesibles por los clientes. Normalmente, uno de ellos tendrá
          un campo ‘name’ que corresponda con el campo ‘default-realm’.

Servicio krb5 de PAM
....................

El servicio ‘pam-krb5’ le permite la identificación para el ingreso al
sistema y la gestión de contraseñas mediante Kerberos. Este servicio es
necesario si desea que aplicaciones que permiten PAM lleven a cabo la
identificación de usuarias mediante el uso de Kerberos.

 -- Variable Scheme: pam-krb5-service-type
     Un tipo de servicio para el módulo PAM de Kerberos 5.

 -- Tipo de datos: pam-krb5-configuration
     Tipo de datos que representa la configuración del módulo PAM de
     Kerberos 5. Este tipo tiene los siguientes parámetros:
     ‘pam-krb5’ (predeterminado: ‘pam-krb5’)
          El paquete pam-krb5 usado.

     ‘minimum-uid’ (predeterminado: ‘1000’)
          El ID de usuaria mínimo con el que se permitirán los intentos
          de identificación con Kerberos. El proceso de identificación
          de las cuentas locales con valores menores fallará de manera
          silenciosa.


File: guix.es.info,  Node: Servicios LDAP,  Next: Servicios Web,  Prev: Servicios Kerberos,  Up: Servicios

8.8.15 Servicios LDAP
---------------------

El módulo ‘(gnu services authentication)’ proporciona el tipo
‘nslcd-service-type’, que puede usarse para la identificación a través
de un servidor LDAP. Además de la configuración del servicio en sí,
puede desear añadir ‘ldap’ como servicio de nombres en el selector de
servicios de nombres (NSS). *Note Selector de servicios de nombres::
para información detallada.

   Aquí se encuentra una declaración simple de sistema operativo con la
configuración predeterminada de ‘nslcd-service-type’ y una configuración
del selector de servicios de nombre que consulta en último lugar al
servicios de nombres ‘ldap’:

     (use-service-modules authentication)
     (use-modules (gnu system nss))
     ...
     (operating-system
       ...
       (services
         (cons*
           (service nslcd-service-type)
           (service dhcp-client-service-type)
           %base-services))
       (name-service-switch
        (let ((services (list (name-service (name "db"))
                              (name-service (name "files"))
                              (name-service (name "ldap")))))
          (name-service-switch
           (inherit %mdns-host-lookup-nss)
           (password services)
           (shadow   services)
           (group    services)
           (netgroup services)
           (gshadow  services)))))

   Los campos disponibles de ‘nslcd-configuration’ son:

 -- parámetro de ‘nslcd-configuration’: package nss-pam-ldapd
     El paquete ‘nss-pam-ldapd’ usado.

 -- parámetro de ‘nslcd-configuration’: maybe-number threads
     El número de hilos a iniciar que pueden gestionar peticiones y
     realizar consultas en LDAP. Cada hilo abre una conexión separada al
     servidor LDAP. Se inician 5 hilos de manera predeterminada.

     El valor predeterminado es ‘disabled’.

 -- parámetro de ‘nslcd-configuration’: string uid
     Especifica el id de usuaria con el que debe ejecutarse el daemon.

     El valor predeterminado es ‘"nslcd"’.

 -- parámetro de ‘nslcd-configuration’: string gid
     Especifica el id de grupo con el que debe ejecutarse el daemon.

     El valor predeterminado es ‘"nslcd"’.

 -- parámetro de ‘nslcd-configuration’: opción-registro log
     This option controls the way logging is done via a list containing
     SCHEME and LEVEL. The SCHEME argument may either be the symbols
     ‘none’ or ‘syslog’, or an absolute file name. The LEVEL argument is
     optional and specifies the log level. The log level may be one of
     the following symbols: ‘crit’, ‘error’, ‘warning’, ‘notice’, ‘info’
     or ‘debug’. All messages with the specified log level or higher are
     logged.

     El valor predeterminado es ‘("/var/log/nslcd" info)’.

 -- parámetro de ‘nslcd-configuration’: lista uri
     La lista de URI de servidores LDAP. Normalmente, únicamente se
     usará el primer servidor y los siguientes se usan en caso de fallo.

     El valor predeterminado es ‘"ldap://localhost:389/"’.

 -- parámetro de ‘nslcd-configuration’: maybe-string ldap-version
     La versión del protocolo LDAP usada. El valor predeterminado usa la
     versión máxima implementada por la biblioteca LDAP.

     El valor predeterminado es ‘disabled’.

 -- parámetro de ‘nslcd-configuration’: maybe-string binddn
     Especifica el nombre distinguido con el que enlazarse en el
     servidor de directorio para las búsquedas. El valor predeterminado
     se enlaza de forma anónima.

     El valor predeterminado es ‘disabled’.

 -- parámetro de ‘nslcd-configuration’: maybe-string bindpw
     Especifica las credenciales usadas para el enlace. Esta opción
     tiene utilidad únicamente cuando se usa con binddn.

     El valor predeterminado es ‘disabled’.

 -- parámetro de ‘nslcd-configuration’: maybe-string rootpwmoddn
     Especifica el nombre distinguido usado cuando la usuaria root
     intenta modificar la contraseña de una usuaria mediante el módulo
     de PAM.

     El valor predeterminado es ‘disabled’.

 -- parámetro de ‘nslcd-configuration’: maybe-string rootpwmodpw
     Especifica las credenciales con las que enlazarse si la usuaria
     root intenta cambiar la contraseña de una usuaria. Esta opción
     tiene utilidad únicamente cuando se usa con rootpwmoddn.

     El valor predeterminado es ‘disabled’.

 -- parámetro de ‘nslcd-configuration’: maybe-string sasl-mech
     Especifica el mecanismo de SASL usado cuando se realice la
     identificación con SASL.

     El valor predeterminado es ‘disabled’.

 -- parámetro de ‘nslcd-configuration’: maybe-string sasl-realm
     Especifica el dominio de SASL usado cuando se realice la
     identificación con SASL.

     El valor predeterminado es ‘disabled’.

 -- parámetro de ‘nslcd-configuration’: maybe-string sasl-authcid
     Especifica la identidad de verificación usada cuando se realice la
     identificación con SASL.

     El valor predeterminado es ‘disabled’.

 -- parámetro de ‘nslcd-configuration’: maybe-string sasl-authzid
     Especifica la identidad de autorización usada cuando se realice la
     identificación con SASL.

     El valor predeterminado es ‘disabled’.

 -- parámetro de ‘nslcd-configuration’: maybe-boolean sasl-canonicalize?
     Determina si el nombre de máquina del servidor LDAP debe
     transformarse a su forma canónica. Si se activa, la librería LDAP
     realizará una búsqueda inversa de nombre de máquina. De manera
     predeterminada, se delega en la biblioteca la decisión de realizar
     esta comprobación o no.

     El valor predeterminado es ‘disabled’.

 -- parámetro de ‘nslcd-configuration’: maybe-string krb5-ccname
     Establece el nombre para la caché de credenciales GSS-API de
     Kerberos.

     El valor predeterminado es ‘disabled’.

 -- parámetro de ‘nslcd-configuration’: string base
     El directorio de búsqueda base.

     El valor predeterminado es ‘"dc=example,dc=com"’.

 -- parámetro de ‘nslcd-configuration’: opción-de-ámbito scope
     Especifica el ámbito de búsqueda (subtree, oneleve, base o
     children). El ámbito predeterminado es subtree; el ámbito base casi
     nunca es útil para búsquedas del servicio de nombres; el ámbito
     children no está implementado en todos los servidores.

     El valor predeterminado es ‘(subtree)’.

 -- parámetro de ‘nslcd-configuration’: maybe-deref-option deref
     Especifica la política para seguir las referencias de los alias. La
     política predeterminada es nunca seguir las referencias de los
     alias.

     El valor predeterminado es ‘disabled’.

 -- parámetro de ‘nslcd-configuration’: maybe-boolean referrals
     Especifica si el seguimiento automático de referencias debe
     activarse. El seguimiento de referencias es comportamiento
     predeterminado.

     El valor predeterminado es ‘disabled’.

 -- parámetro de ‘nslcd-configuration’: lista-asociación-entrada maps
     Esta opción permite que se busquen atributos personalizados en vez
     de los atributos predeterminados de RFC 2307. Es una lista de
     asociaciones, de las que cada una consiste en el nombre de la
     asociación, el atributo de RFC 2307 al que corresponde y la
     expresión de búsqueda del atributo en la forma que esté disponible
     en el directorio.

     El valor predeterminado es ‘()’.

 -- parámetro de ‘nslcd-configuration’: lista-asociación-entrada filters
     Una lista de filtros que consiste en el nombre de una asociación a
     la que se aplica el filtro y una expresión de filtrado de búsqueda
     de LDAP.

     El valor predeterminado es ‘()’.

 -- parámetro de ‘nslcd-configuration’: maybe-number bind-timelimit
     Especifica el tiempo límite usado en segundos durante la conexión
     al servidor de directorio. El valor predeterminado son 10 segundos.

     El valor predeterminado es ‘disabled’.

 -- parámetro de ‘nslcd-configuration’: maybe-number timelimit
     Especifica el tiempo límite (en segundos) durante el que se
     esperará una respuesta del servidor LDAP. Un valor de cero, por
     omisión, hace que se espere de manera indefinida hasta que las
     búsquedas se completen.

     El valor predeterminado es ‘disabled’.

 -- parámetro de ‘nslcd-configuration’: maybe-number idle-timelimit
     Especifica el periodo de inactividad (en segundos) tras el cual se
     cerrará la conexión con el servidor LDAP. El valor predeterminado
     no cierra las conexiones por inactividad.

     El valor predeterminado es ‘disabled’.

 -- parámetro de ‘nslcd-configuration’: maybe-number reconnect-sleeptime
     Especifica en número de segundos que se dormirá cuando falle la
     conexión a todos los servidores LDAP. De manera predeterminada se
     espera un segundo entre el primer fallo y el primer reintento.

     El valor predeterminado es ‘disabled’.

 -- parámetro de ‘nslcd-configuration’: maybe-number reconnect-retrytime
     Especifica el tiempo tras el cual el servidor LDAP se considera no
     disponible de manera permanente. Una vez se alcance este tiempo,
     los reintentos se realizarán una vez en cada periodo de tiempo
     igual al especificado. El valor predeterminado es 10 segundos.

     El valor predeterminado es ‘disabled’.

 -- parámetro de ‘nslcd-configuration’: maybe-ssl-option ssl
     Determina si se usa SSL/TLS o no (el comportamiento predeterminado
     es no hacerlo). Si se especifica ’start-tls, se usa StartTLS en vez
     de la transmisión del protocolo LDAP en crudo sobre SSL.

     El valor predeterminado es ‘disabled’.

 -- parámetro de ‘nslcd-configuration’: maybe-tls-reqcert-option
          tls-reqcert
     Especifica las comprobaciones que se deben realizar con un
     certificado proporcionado por el servidor. El significado de los
     valores se describe en la página de manual de ldap.conf(5).

     El valor predeterminado es ‘disabled’.

 -- parámetro de ‘nslcd-configuration’: maybe-string tls-cacertdir
     Especifica el directorio que contiene los certificados X.509 para
     la identificación de pares. Este parámetro se ignora si se usa
     GnuTLS.

     El valor predeterminado es ‘disabled’.

 -- parámetro de ‘nslcd-configuration’: maybe-string tls-cacertfile
     Especifica la ruta al certificado X.509 para la identificación de
     pares.

     El valor predeterminado es ‘disabled’.

 -- parámetro de ‘nslcd-configuration’: maybe-string tls-randfile
     Especifica la ruta de la fuente de entropía. Este parámetro se
     ignora si se usa GnuTLS.

     El valor predeterminado es ‘disabled’.

 -- parámetro de ‘nslcd-configuration’: maybe-string tls-ciphers
     Especifica como una cadena los algoritmos de cifrado usados para
     TLS.

     El valor predeterminado es ‘disabled’.

 -- parámetro de ‘nslcd-configuration’: maybe-string tls-cert
     Especifica la ruta al fichero que contiene el certificado local
     para la identificación de clientes con TLS.

     El valor predeterminado es ‘disabled’.

 -- parámetro de ‘nslcd-configuration’: maybe-string tls-key
     Especifica la ruta al fichero que contiene la clave privada para la
     identificación de clientes con TLS.

     El valor predeterminado es ‘disabled’.

 -- parámetro de ‘nslcd-configuration’: maybe-number pagesize
     Proporcione un valor superior a 0 para solicitar al servidor LDAP
     que proporcione los resultados divididos en páginas de acuerdo con
     el RFC2696. El valor predeterminado (0) no solicita resultados
     divididos en páginas.

     El valor predeterminado es ‘disabled’.

 -- parámetro de ‘nslcd-configuration’: maybe-ignore-users-option
          nss-initgroups-ignoreusers
     Esta opción previene las búsquedas de pertenencia a grupos a través
     de LDAP sobre las usuarias especificadas. De manera alternativa, se
     puede usar el valor ’all-local. Con dicho valor nslcd construye al
     inicio una lista completa de usuarias que no se encuentren en LDAP.

     El valor predeterminado es ‘disabled’.

 -- parámetro de ‘nslcd-configuration’: maybe-number nss-min-uid
     Esta opción hace que se ignoren las usuarias de LDAP con un
     identificador numérico inferior al valor especificado.

     El valor predeterminado es ‘disabled’.

 -- parámetro de ‘nslcd-configuration’: maybe-number nss-uid-offset
     Esta opción especifica un desplazamiento que se añade a todos los
     identificadores numéricos de usuaria de LDAP. Puede usarse para
     evitar colisiones de identificadores con usuarias locales.

     El valor predeterminado es ‘disabled’.

 -- parámetro de ‘nslcd-configuration’: maybe-number nss-gid-offset
     Esta opción especifica un desplazamiento que se añade a todos los
     identificadores numéricos de grupos de LDAP. Puede usarse para
     evitar colisiones de identificadores con grupos locales.

     El valor predeterminado es ‘disabled’.

 -- parámetro de ‘nslcd-configuration’: maybe-boolean nss-nested-groups
     Cuando se activa esta opción, un grupo puede contener como atributo
     la pertenencia a otro grupo. Los miembros de grupos anidados se
     devuelven en el grupo superior y los grupos superiores se devuelven
     cuando se busquen los grupos de una usuaria específica. El valor
     predeterminado determina que no se realicen búsquedas adicionales
     para grupos anidados.

     El valor predeterminado es ‘disabled’.

 -- parámetro de ‘nslcd-configuration’: maybe-boolean
          nss-getgrent-skipmembers
     Cuando se activa esta opción, la lista de miembros de un grupo no
     se obtiene en las búsquedas de grupos. Las búsquedas que busquen
     los grupos de los que una usuaria es miembro continuarán
     funcionando de manera que probablemente a la usuaria se le asignen
     los grupos correctos durante el ingreso al sistema.

     El valor predeterminado es ‘disabled’.

 -- parámetro de ‘nslcd-configuration’: maybe-boolean
          nss-disable-enumeration
     Cuando se activa esta opción, las funciones que provocan la carga
     de todas las entradas usuaria/grupo del directorio no tendrán éxito
     al realizarlo. Esto puede reducir de forma dramática la carga del
     servidor LDAP cuando existe un gran número de usuarias y/o grupos.
     Esta opción no se recomienda para la mayoría de las
     configuraciones.

     El valor predeterminado es ‘disabled’.

 -- parámetro de ‘nslcd-configuration’: maybe-string validnames
     Esta opción puede usarse para especificar cómo se verifican en el
     sistema los nombres de usuaria y grupo. Este patrón se usa para
     comprobar todos los nombres de usuarias y grupos que se soliciten y
     proporcionen a través de LDAP.

     El valor predeterminado es ‘disabled’.

 -- parámetro de ‘nslcd-configuration’: maybe-boolean ignorecase
     Especifica si se realizarán las búsquedas sin diferenciar
     mayúsculas y minúsculas o no. Su activación puede abrir puntos
     vulnerables que permitan la omisión de las comprobaciones de
     autorización e introducir vulnerabilidades que permitan el
     envenenamiento de la caché de nscd, lo que puede provocar la
     denegación del servicio.

     El valor predeterminado es ‘disabled’.

 -- parámetro de ‘nslcd-configuration’: maybe-boolean pam-authc-ppolicy
     Esta opción determina si los controles de la política de
     contraseñas se solicitan y manejan desde el servidor LDAP cuando se
     realice la identificación de usuarias.

     El valor predeterminado es ‘disabled’.

 -- parámetro de ‘nslcd-configuration’: maybe-string pam-authc-search
     De manera predeterminada nslcd realiza una búsqueda LDAP con las
     credenciales de la usuaria tras la orden BIND (identificación) para
     asegurarse de que la opción BIND fue satisfactoria. La búsqueda
     predeterminada es una simple comprobación de la existencia del DN
     de la usuaria. Se puede especificar un filtro de búsqueda que se
     usará en vez de dicha búsqueda. Debe devolver al menos una entrada.

     El valor predeterminado es ‘disabled’.

 -- parámetro de ‘nslcd-configuration’: maybe-string pam-authz-search
     Esta opción permite la configuración detallada de las
     comprobaciones de autorización que deben realizarse. El filtro de
     búsqueda especificado es ejecutado, y si cualquier entrada
     corresponde se permite el acceso, el cual se deniega en caso
     contrario.

     El valor predeterminado es ‘disabled’.

 -- parámetro de ‘nslcd-configuration’: maybe-string
          pam-password-prohibit-message
     Si se proporciona esta opción, se denegará la modificación de
     contraseñas a través de pam_ldap y en vez de ello el mensaje
     especificado se presentará a la usuaria. El mensaje puede usarse
     para redirigir a la usuaria a un medio alternativo para el cambio
     de su contraseña.

     El valor predeterminado es ‘disabled’.

 -- parámetro de ‘nslcd-configuration’: lista pam-services
     Lista de nombres de servicio de PAM para los que la identificación
     de LDAP debería ser suficiente.

     El valor predeterminado es ‘()’.


File: guix.es.info,  Node: Servicios Web,  Next: Servicios de certificados,  Prev: Servicios LDAP,  Up: Servicios

8.8.16 Servicios Web
--------------------

El módulo ‘(gnu services web)’ proporciona el servidor HTTP Apache, el
servidor web nginx y también un recubrimiento del daemon de fastcgi.

Servidor HTTP Apache
....................

 -- Variable Scheme: httpd-service-type
     Tipo de servicio para el servidor Apache HTTP
     (https://httpd.apache.org/) (“httpd”). El valor para este tipo de
     servicio es un registro ‘httpd-configuration’.

     Un ejemplo de configuración simple se proporciona a continuación.

          (service httpd-service-type
                   (httpd-configuration
                     (config
                       (httpd-config-file
                         (server-name "www.example.com")
                         (document-root "/srv/http/www.example.com")))))

     Otros servicios también pueden extender el tipo
     ‘httpd-service-type’ para añadir su contribución a la
     configuración.

          (simple-service 'servidor-www.example.com httpd-service-type
                          (list
                            (httpd-virtualhost
                              "*:80"
                              (list (string-join '("ServerName "www.example.com"
                                                   "DocumentRoot /srv/http/www.example.com")
                                                 "\n")))))

   Los detalles de los tipos de registro ‘httpd-configuration’,
‘httpd-module’, ‘httpd-config-file’ y ‘httpd-virtualhost’ se
proporcionan a continuación.

 -- Tipo de datos: httpd-configuration
     Este tipo de datos representa la configuración del servicio httpd.

     ‘package’ (predeterminado: ‘httpd’)
          El paquete httpd usado.

     ‘pid-file’ (predeterminado: ‘"/var/run/httpd"’)
          El fichero pid usado por el servicio de Shepherd.

     ‘config’ (predeterminado: ‘(httpd-config-file)’)
          El fichero de configuración usado por el servicio httpd. El
          valor predeterminado es un registro ‘httpd-config-file’, pero
          también puede ser una expresión-G diferente que genere un
          fichero, por ejemplo mediante el uso de ‘plain-file’. Un
          fichero externo al almacén se puede especificar mediante una
          cadena.

 -- Tipo de datos: httpd-module
     Este es el tipo de datos que representa un módulo para el servicio
     httpd.

     ‘name’
          El nombre del módulo.

     ‘file’
          El fichero para el módulo. La ruta puede ser relativa al
          paquete httpd usado, la ruta absoluta de un fichero, o una
          expresión-G para un fichero dentro del almacén, por ejemplo
          ‘(file-append mod-wsgi "/modules/mod_wsgi.so")’.

 -- Variable Scheme: %default-httpd-modules
     Una lista de objetos ‘httpd-module’ predeterminados.

 -- Tipo de datos: httpd-config-file
     Este tipo de datos representa un fichero de configuración para el
     servicio httpd.

     ‘modules’ (predeterminados: ‘%default-httpd-modules’)
          Módulos que deben cargarse. Aquí pueden añadir módulos
          adicionales, o que se carguen en la configuración adicional.

          Por ejemplo, para manejar las peticiones de ficheros PHP,
          puede usar el módulo ‘mod_proxy_fcgi’ de Apache junto con
          ‘php-fpm-service-type’:

               (service httpd-service-type
                        (httpd-configuration
                         (config
                          (httpd-config-file
                           (modules (cons*
                                     (httpd-module
                                      (name "modulo_proxy")
                                      (file "modules/mod_proxy.so"))
                                     (httpd-module
                                      (name "module_proxy_fcgi")
                                      (file "modules/mod_proxy_fcgi.so"))
                                     %default-httpd-modules))
                           (extra-config (list "\
               <FilesMatch \\.php$>
                   SetHandler \"proxy:unix:/var/run/php-fpm.sock|fcgi://localhost/\"
               </FilesMatch>"))))))
               (service php-fpm-service-type
                        (php-fpm-configuration
                         (socket "/var/run/php-fpm.sock")
                         (socket-group "httpd")))

     ‘server-root’ (predeterminado: ‘httpd’)
          El campo ‘ServerRoot’ (raíz del servidor) en el fichero de
          configuración, cuyo valor predeterminado apunta al paquete
          httpd. Directivas como ‘Include’ and ‘LoadModule’ se
          interpretan como relativas a la raíz del servidor.

     ‘server-name’ (predeterminado: ‘#f’)
          El campo ‘ServerName’ (nombre del servidor) en el fichero de
          configuración, el cual se usa para especificar el esquema de
          peticiones, nombre de máquina y puerto que el servidor usa
          para su propia identificación.

          No es necesario proporcionar un valor en la configuración del
          servidor, y puede especificarse en las máquinas virtuales. El
          valor predeterminado es ‘#f’ que no especifica un campo
          ‘ServerName’.

     ‘document-root’ (predeterminado: ‘"/srv/http"’)
          La raíz (‘DocumentRoot’) desde la que se proporcionan los
          archivos.

     ‘listen’ (predeterminado: ‘'("80")’)
          La lista de valores para las directivas ‘Listen’ en el fichero
          de configuración. El valor debe ser una lista de cadenas,
          donde cada cadena puede especificar el número de puerto en el
          que se escucha, y de manera opcional la dirección IP y el
          protocolo usados.

     ‘pid-file’ (predeterminado: ‘"/var/run/httpd"’)
          El fichero de PID usado (‘PidFile’). Debe corresponder con el
          valor de ‘pid-file’ proporcionado en ‘httpd-configuration’ de
          manera que el servicio de Shepherd se configure de manera
          correcta.

     ‘error-log’ (predeterminado: ‘"/var/log/httpd/error_log"’)
          El fichero ‘ErrorLog’ en el que el servidor registrará los
          errores.

     ‘user’ (predeterminada: ‘"httpd"’)
          La usuaria como la que el servidor responderá a las
          peticiones.

     ‘group’ (predeterminado: ‘"httpd"’)
          El grupo como el que el servidor responderá a las peticiones.

     ‘extra-config’ (predeterminadas: ‘(list "TypesConfig etc/httpd/mime.types")’)
          Una lista de cadenas y expresiones-G que se añadirán al final
          del fichero de configuración.

          Los valores con los que se extiende el servicio se añaden al
          final de esta lista.

 -- Tipo de datos: httpd-virtualhost
     Este tipo de datos representa un bloque de configuración de máquina
     virtual del servicio httpd.

     Se deben añadir a la configuración adicional extra-config del
     servicio httpd-service.

          (simple-service 'servidor-www.example.com httpd-service-type
                          (list
                            (httpd-virtualhost
                              "*:80"
                              (list (string-join '("ServerName "www.example.com"
                                                   "DocumentRoot /srv/http/www.example.com")
                                                 "\n")))))

     ‘addresses-and-ports’
          Las direcciones y puertos de la directiva ‘VirtualHost’.

     ‘contents’
          El contenido de la directiva ‘VirtualHost’; debe ser una lista
          de cadenas y expresiones-G.

NGINX
.....

 -- Variable Scheme: nginx-service-type
     Tipo de servicio para el servidor web NGinx (https://nginx.org/).
     El valor para este tipo de servicio es un registro
     ‘<nginx-configuration>’.

     Un ejemplo de configuración simple se proporciona a continuación.

          (service nginx-service-type
                   (nginx-configuration
                     (server-blocks
                       (list (nginx-server-configuration
                               (server-name '("www.example.com"))
                               (root "/srv/http/www.example.com"))))))

     Además de añadiendo bloques de servidor a la configuración del
     servicio de manera directa, este servicio puede extenderse con
     otros servicios para añadir bloques de servidor, como en este
     ejemplo:

          (simple-service 'mi-servidor-adicional nginx-service-type
                          (list (nginx-server-configuration
                                  (root "/srv/http/sitio-adicional")
                                  (try-files (list "$uri" "$uri/index.html")))))

   Durante su inicio, ‘nginx’ no ha leído todavía su fichero de
configuración, por lo que usa un fichero predeterminado para registrar
los mensajes de error. Si se produce algún fallo al cargar su fichero de
configuración, allí es donde se registran los mensajes de error. Tras la
carga del fichero de configuración, el fichero de registro de errores
predeterminado cambia al especificado allí. En nuestro caso, los
mensajes de error durante el inicio se pueden encontrar en
‘/var/run/nginx/logs/error.log’, y tras la configuración en
‘/var/log/nginx/error.log’. La segunda ruta puede cambiarse con las
opciones de configuración LOG-DIRECTORY.

 -- Tipo de datos: nginx-configuration
     Este tipo de datos representa la configuración para NGinx. Alguna
     configuración puede llevarse a cabo a través de este y otros tipos
     de registro proporcionados, o de manera alternativa se puede
     proporcionar un fichero de configuración.

     ‘nginx’ (predeterminado: ‘nginx’)
          El paquete nginx usado.

     ‘log-directory’ (predeterminado: ‘"/var/log/nginx"’)
          Directorio en el que NGinx escribirá los ficheros de registro.

     ‘run-directory’ (predeterminado: ‘"/var/run/nginx"’)
          Directorio en el que NGinx crea el fichero de PID, y escribe
          ficheros temporales.

     ‘server-blocks’ (predeterminados: ‘'()’)
          Una lista de “bloques de servidor” que se crearán en el
          fichero de configuración generado; los elementos deben ser del
          tipo ‘<nginx-server-configuration>’.

          El ejemplo siguiente configura NGinx para proporcionar
          ‘www.example.com’ a partir del directorio
          ‘/srv/http/www.example.com’, sin usar HTTPS.
               (service nginx-service-type
                        (nginx-configuration
                          (server-blocks
                            (list (nginx-server-configuration
                                    (server-name '("www.example.com"))
                                    (root "/srv/http/www.example.com"))))))

     ‘upstream-blocks’ (predeterminados: ‘'()’)
          Una lista de “bloques upstream” creada en el fichero de
          configuración generado, los elementos deben ser del tipo
          ‘<nginx-upstream-configuration>’.

          La configuración de proveedores a través de ‘upstream-blocks’
          puede ser útil al combinarse con ‘location’ en los registros
          ‘<nginx-server-configuration>’. El siguiente ejemplo crea la
          configuración de un servidor con una configuración de ruta,
          que hará de intermediaria en las peticiones a la configuración
          de proveedores, que delegarán las peticiones en dos
          servidores.

               (service
                 nginx-service-type
                 (nginx-configuration
                   (server-blocks
                     (list (nginx-server-configuration
                             (server-name '("www.example.com"))
                             (root "/srv/http/www.example.com")
                             (locations
                               (list
                                 (nginx-location-configuration
                                 (uri "/ruta1")
                                 (body '("proxy_pass http://servidor-proxy;"))))))))
                   (upstream-blocks
                     (list (nginx-upstream-configuration
                             (name "servidor-proxy")
                             (servers (list "servidor1.example.com"
                                            "servidor2.example.com")))))))

     ‘file’ (predeterminado: ‘#f’)
          Si se proporciona un fichero de configuración con FILE, se
          usará este, en vez de generar un fichero de configuración a
          partir de los parámetros ‘log-directory’, ‘run-directory’,
          ‘server-blocks’ y ‘upstream-blocks’ proporcionados. Para
          conseguir un funcionamiento adecuado, estos parámetros deben
          corresponder con el contenido de FILE, lo que asegura que los
          directorios se hayan creado durante la activación del
          servicio.

          Esto puede ser útil si ya dispone de un fichero de
          configuración, o no es posible hacer lo que necesita con el
          resto de opciones del registro nginx-configuration.

     ‘server-names-hash-bucket-size’ (predeterminado: ‘#f’)
          Tamaño del cubo para las tablas hash de los nombres de
          servidor, cuyo valor predeterminado es ‘#f’ para que se use el
          tamaño de la línea de caché de los procesadores.

     ‘server-names-hash-bucket-max-size’ (predeterminado: ‘#f’)
          Tamaño máximo del cubo para las tablas hash de nombres de
          servidor.

     ‘modules’ (predeterminados: ‘'()’)
          Lista de módulos dinámicos de nginx cargados. Debe ser una
          lista de nombres de fichero de módulos cargables, como en este
          ejemplo:

               (modules
                (list
                 (file-append nginx-accept-language-module "\
               /etc/nginx/modules/ngx_http_accept_language_module.so")))

     ‘global-directives’ (predeterminadas: ‘'((events . ()))’)
          Lista asociativa de directivas globales para el nivel superior
          de la configuración de nginx. Los valores en sí mismos pueden
          ser listas asociativas.

               (global-directives
                `((worker_processes . 16)
                  (pcre_jit . on)
                  (events . ((worker_connections . 1024)))))

     ‘extra-content’ (predeterminado: ‘""’)
          Contenido adicional para el bloque ‘http’. Debe ser una cadena
          o una expresión-G que evalúe a una cadena.

 -- Tipo de datos: nginx-server-configuration
     Tipo de datos que representa la configuración de un bloque de
     servidor nginx. Este tipo tiene los siguientes parámetros:

     ‘listen’ (predeterminadas: ‘'("80" "443 ssl")’)
          Cada directiva ‘listen’ establece la dirección y el puerto
          para IP, o la ruta para un socket de dominio de UNIX sobre el
          que el servidor acepta peticiones. Se puede especificar tanto
          dirección y puerto como únicamente la dirección o únicamente
          el puerto. Una dirección puede ser también un nombre de
          máquina, por ejemplo:

               '("127.0.0.1:8000" "127.0.0.1" "8000" "*:8000" "localhost:8000")

     ‘server-name’ (predeterminados: ‘(list 'default)’)
          Una lista de nombres de servidor que este servidor representa.
          ‘'default’ representa el servidor predeterminado para
          conexiones que no correspondan a otro servidor.

     ‘root’ (predeterminada: ‘"/srv/http"’)
          Raíz del sitio web que nginx proporcionará.

     ‘locations’ (predeterminado: ‘'()’)
          Una lista de registros “nginx-location-configuration” o
          “nginx-named-location-configuration” usados dentro de este
          bloque de servidor.

     ‘index’ (predeterminado: ‘(list "index.html")’)
          Ficheros de índice buscados cuando los clientes solicitan un
          directorio. Si no se encuentra ninguno, Nginx enviará la lista
          de ficheros del directorio.

     ‘try-files’ (predeterminado: ‘'()’)
          Una lista de ficheros cuya existencia se comprueba en el orden
          especificado. ‘nginx’ usará el primer fichero que encuentre
          para procesar la petición.

     ‘ssl-certificate’ (predeterminado: ‘#f’)
          Lugar donde se encuentra el certificado para conexiones
          seguras. Proporcione ‘#f’ si no dispone de un certificado o no
          desea usar HTTPS.

     ‘ssl-certificate-key’ (predeterminado: ‘#f’)
          Lugar donde se encuentra la clave privada para conexiones
          seguras. Proporcione ‘#f’ si no dispone de una clave o no
          desea usar HTTPS.

     ‘server-tokens?’ (predeterminado: ‘#f’)
          Determina si el servidor debe añadir su configuración a las
          respuestas.

     ‘raw-content’ (predeterminado: ‘'()’)
          Una lista de líneas que se añadirán literalmente al bloque del
          servidor.

 -- Tipo de datos: nginx-upstream-configuration
     Tipo de datos que representa la configuración de un bloque
     ‘upstream’ de nginx. Este tipo tiene los siguientes parámetros:

     ‘name’
          Nombre para este grupo de servidores.

     ‘servers’
          Especifica las direcciones de los servidores en el grupo. Las
          direcciones se pueden proporcionar mediante direcciones IP
          (por ejemplo ‘127.0.0.1’), nombres de dominio (por ejemplo
          ‘maquina1.example.com’) o rutas de socket de UNIX mediante el
          prefijo ‘unix:’. El puerto predeterminado para las direcciones
          IP o nombres de dominio es el 80, y se puede proporcionar un
          puerto de manera explícita.

 -- Tipo de datos: nginx-location-configuration
     Tipo de datos que representa la configuración de un bloque
     ‘location’ de nginx. Este tipo tiene los siguientes parámetros:

     ‘uri’
          URI a la que corresponde este bloque de location.

     ‘body’
          Cuerpo del bloque de localización “location”, especificado
          como una lista de cadenas. Puede contener muchas directivas de
          configuración. Por ejemplo, para pasar las peticiones a un
          grupo de servidores proveedores definido mediante el uso de un
          bloque ‘nginx-upstream-configuration’, se especificaría la
          siguiente directiva en el cuerpo ‘(list \"proxy_pass
          http://nombre-proveedor;\")’.

 -- Tipo de datos: nginx-named-location-configuration
     Tipo de datos que representa la configuración de un bloque de
     localización con nombre de nginx. Los bloques de localizaciones con
     nombre se usan para la redirección de peticiones, y no se usan para
     el procesamiento regular de peticiones. Este tipo tiene los
     siguientes parámetros:

     ‘name’
          Nombre que identifica este bloque de dirección ‘location’.

     ‘body’
          *Note cuerpo de nginx-location-configuration::, como el cuerpo
          de los bloques de localizaciones con nombre puede usarse de
          manera similar al ‘cuerpo de nginx-location-configuration’.
          Una restricción es que el cuerpo de una localización con
          nombre no puede contener bloques de localizaciones.

Caché Varnish
.............

Varnish es un servidor de caché rápida que se coloca entre aplicaciones
web y usuarios finales. Hace de intermediario (proxy) en las peticiones
de los clientes y almacena en caché las URL a las que se accede de
manera que múltiples peticiones al mismo recurso únicamente creen una
petición al motor.

 -- Variable Scheme: varnish-service-type
     Tipo de servicio para el daemon Varnish.

 -- Tipo de datos: varnish-configuration
     Tipo de datos que representa la configuración del servicio
     ‘varnish’. Este tipo tiene los siguientes parámetros:

     ‘package’ (predeterminado: ‘varnish’)
          El paquete Varnish usado.

     ‘name’ (predeterminado: ‘"default"’)
          Un nombre para esta instancia de Varnish. Varnish creará un
          directorio en ‘/var/varnish’ con este nombre y mantendrá allí
          los ficheros temporales. Si el nombre comienza con una barra,
          se interpreta como un nombre absoluto de directorio.

          Proporcione el parámetro ‘-n’ a otros programas de Varnish
          para que se conecten a la instancia de dicho nombre, por
          ejemplo ‘varnishncsa -n default’.

     ‘backend’ (predeterminado: ‘"localhost:8080"’)
          Motor usado. Esta opción no tiene efecto si se usa ‘vcl’.

     ‘vcl’ (predeterminado: #f)
          El programa “VCL” (lenguaje de configuración de Varnish)
          ejecutado. Si se proporciona ‘#f’, Varnish actuará de
          intermediario (proxy) de ‘backend’ usando la configuración
          predeterminada. En otro caso debe ser un objeto “tipo-fichero”
          con sintaxis válida para VCL.

          Por ejemplo, para proporcionar un espejo de www.gnu.org
          (https://www.gnu.org) con VCL podría escribir algo parecido a
          esto:

               (define %espejo-gnu
                 (plain-file "gnu.vcl"
                             "vcl 4.1;
               backend gnu { .host = \"www.gnu.org\"; }"))

               (operating-system
                 ;; ...
                 (services (cons (service varnish-service-type
                                          (varnish-configuration
                                           (listen '(":80"))
                                           (vcl %espejo-gnu)))
                                 %base-services)))

          La configuración de una instancia de Varnish ya en ejecución
          se puede inspeccionar y cambiar mediante el uso de la orden
          ‘varnishadm’.

          Consulte la guía de usuaria de Varnish
          (https://varnish-cache.org/docs/) y el libro de Varnish
          (https://book.varnish-software.com/4.0/) para obtener la
          documentación completa de Varnish y su lenguaje de
          configuración.

     ‘listen’ (predeterminada: ‘'("localhost:80")’)
          Lista de direcciones en las que Varnish escucha.

     ‘storage’ (predeterminado: ‘'("malloc,128m")’)
          Lista de motores de almacenamiento que estarán disponibles en
          VCL.

     ‘parameters’ (predeterminados: ‘'()’)
          Lista de parámetros de tiempo de ejecución con la forma
          ‘'(("parámetro" . "valor"))’.

     ‘extra-options’ (predeterminadas: ‘'()’)
          Parámetros adicionales a proporcional al proceso ‘varnishd’.

Patchwork
.........

Patchwork es un sistema de seguimiento de parches. Puede recolectar
parches enviados a listas de correo y mostrarlos en una interfaz web.

 -- Variable Scheme: patchwork-service-type
     Tipo de servicio para Patchwork.

   El siguiente ejemplo muestra un servicio mínimo para Patchwork, para
el dominio ‘patchwork.example.com’.

     (service patchwork-service-type
              (patchwork-configuration
               (domain "patchwork.example.com")
               (settings-module
                (patchwork-settings-module
                 (allowed-hosts (list domain))
                 (default-from-email "patchwork@patchwork.example.com")))
               (getmail-retriever-config
                (getmail-retriever-configuration
                 (type "SimpleIMAPSSLRetriever")
                 (server "imap.example.com")
                 (port 993)
                 (username "patchwork")
                 (password-command
                  (list (file-append coreutils "/bin/cat")
                        "/etc/getmail-patchwork-imap-password"))
                 (extra-parameters
                 '((mailboxes . ("Parches"))))))))


   Existen tres registros para la configuración del servicio de
Patchwork. El registro ‘<patchwork-configuration>’ está relacionado con
la configuración de Patchwork dentro del servicio HTTPD.

   El campo ‘settings-module’ dentro del registro
‘<patchwork-configuration>’ puede rellenarse con un registro
‘<patchwork-settings-module>’, que describe un módulo de configuración
generado dentro del almacén de Guix.

   En el campo ‘database-configuration’ dentro del registro
‘<patchwork-settings-module>’, debe usarse
‘<patchwork-database-configuration>’.

 -- Tipo de datos: patchwork-configuration
     Tipo de datos que representa la configuración del servicio
     Patchwok. Este tipo tiene los siguientes parámetros:

     ‘patchwork’ (predeterminado: ‘patchwork’)
          El paquete Patchwork usado.

     ‘domain’
          Dominio usado por Patchwork, se usa en el servicio HTTPD como
          “virtual host”.

     ‘settings-module’
          Módulo de configuración usado para Patchwork. Como una
          aplicación de Django, Patchwork se configura con un módulo
          Python que contiene los valores de configuración. Esto puede
          ser una instancia de un registro
          ‘<patchwork-settings-module>’, cualquier otro registro que
          represente la configuración en el almacén, o un directorio
          fuera del almacén.

     ‘static-path’ (predeterminada: ‘"/static/"’)
          Ruta bajo la cual el servicio HTTPD proporciona ficheros
          estáticos.

     ‘getmail-retriever-config’
          El valor del registro ‘getmail-retriever-configuration’ usado
          con Patchwork. En caso de configurar Getmail con este valor,
          los mensajes se proporcionan a Patchwork.

 -- Tipo de datos: patchwork-settings-module
     Tipo de datos que representa un módulo de configuración de
     Patchwork. Algunas de estas opciones están directamente
     relacionadas con Patchwork, pero otras son relativas a Django, el
     entorno web usado Patchwork, o la biblioteca Django Rest Framework.
     Este tipo tiene los siguientes parámetros:

     ‘database-configuration’ (predeterminada: ‘(patchwork-database-configuration)’)
          La configuración de la conexión a la base de datos usada para
          Patchwork. Véase el tipo de registro
          ‘<patchwork-database-configuration>’ para más información.

     ‘secret-key-file’ (predeterminado: ‘"/etc/patchwork/django-secret-key"’)
          Patchwork, como una aplicación web Django, usa una clave
          secreta para firmar criptográficamente valores. Este fichero
          debe contener un valor único e impredecible.

          Si este fichero no existe, el servicio de Shepherd
          patchwork-setup lo creará y rellenará con un valor aleatorio.

          Esta configuración está relacionada con Django.

     ‘allowed-hosts’
          Lista de nombres de máquina válidos para este servicio
          Patchwork. Al menos debe incluir el dominio especificado en el
          registro ‘<patchwork-configuration>’.

          Esta es una opción de configuración de Django.

     ‘default-from-email’
          La dirección de correo desde de la que Patchwork debe enviar
          el correo de manera predeterminada.

          Esta es una opción de configuración de Patchwork.

     ‘static-url’ (predeterminada: ‘#f’)
          La URL usada para proporcionar objetos estáticos. Puede ser
          parte de una URL, o una URL completa, pero debe terminar en
          ‘/’.

          Si se usa el valor predeterminado, se usará el valor de
          ‘static-path’ del registro ‘<patchwork-configuration>’.

          Esta es una opción de configuración de Django.

     ‘admins’ (predeterminadas: ‘'()’)
          Direcciones de correo electrónico a las que enviar los
          detalles de los errores que ocurran. Cada valor debe ser una
          lista que contenga dos elementos, el nombre y la dirección de
          correo electrónico en dicho orden.

          Esta es una opción de configuración de Django.

     ‘debug?’ (predeterminado: ‘#f’)
          Determina si se ejecuta Patchwork en modo de depuración. Si se
          proporciona ‘#t’, se mostrarán mensajes de error detallados.

          Esta es una opción de configuración de Django.

     ‘enable-rest-api?’ (predeterminado: ‘#t’)
          Determina si se activa el API REST de Patchwork.

          Esta es una opción de configuración de Patchwork.

     ‘enable-xmlrpc?’ (predeterminado: ‘#t’)
          Determina si se activa el API XML RPC.

          Esta es una opción de configuración de Patchwork.

     ‘force-https-links?’ (predeterminado: ‘#t’)
          Determina si se usan enlaces HTTPS en las páginas de
          Patchwork.

          Esta es una opción de configuración de Patchwork.

     ‘extra-settings’ (predeterminado: ‘""’)
          Código adicional que colocar al final del módulo de
          configuración de Patchwork.

 -- Tipo de datos: patchwork-database-configuration
     Tipo de datos que representa la configuración de base de datos de
     Patchwork.

     ‘engine’ (predeterminado: ‘"django.db.backends.postgresql_psycopg2"’)
          Motor de base de datos usado.

     ‘name’ (predeterminado: ‘"patchwork"’)
          Nombre de la base de datos usada.

     ‘user’ (predeterminada: ‘"httpd"’)
          Usuaria usada para la conexión a la base de datos.

     ‘password’ (predeterminada: ‘""’)
          Contraseña usada para la conexión a la base de datos.

     ‘host’ (predeterminada: ‘""’)
          Máquina usada para la conexión a la base de datos.

     ‘port’ (predeterminado: ‘""’)
          Puerto en el que se conecta a la base de datos.

Mumi
....

Mumi (https://git.elephly.net/gitweb.cgi?p=software/mumi.git) es una
interfaz web al gestor de incidencias Debbugs, de manera predeterminada
apunta a la instancia de GNU (https://bugs.gnu.org). Mumi es un servidor
web, pero también obtiene e indexa los correos recibidos de Debbugs.

 -- Variable Scheme: mumi-service-type
     El tipo de servicio para Mumi.

 -- Tipo de datos: mumi-configuration
     Tipo de datos que representa la configuración del servicio Mumi.
     Este tipo tiene los siguientes campos:

     ‘mumi’ (predeterminado: ‘mumi’)
          El paquete Mumi usado.

     ‘mailer?’ (predeterminado: ‘#true’)
          Determina si se activa o desactiva el componente de correo
          ‘mailer’.

     ‘mumi-configuration-sender’
          La dirección de correo usada como remitente para los
          comentarios.

     ‘mumi-configuration-smtp’
          Una URI para las opciones de configuración de SMTP de
          Mailutils. Puede ser algo parecido a
          ‘sendmail:///ruta/de/bin/msmtp’ o cualquier otra URI
          implementada por Mailutils. *Note SMTP Mailboxes:
          (mailutils)SMTP Mailboxes.

FastCGI
.......

FastCGI es una interfaz entre la presentación (front-end) y el motor
(back-end) de un servicio web. Es en cierto modo una característica
antigua; los nuevos servicios web generalmente únicamente se comunican
con HTTP entre ambas partes. No obstante, existe cierto número de
servicios de motor como PHP o el acceso HTTP optimizado para
repositorios Git que usan FastCGI, por lo que debemos incluirlo en Guix.

   Para usar FastCGI debe configurar el servidor web de entrada(1) (por
ejemplo, ngnix) para delegar un subconjunto de sus peticiones al motor
fastcgi, que escucha en un puerto TCP local o en un socket de UNIX.
Existe un programa de intermediación llamado ‘fcgiwrap’ que se posiciona
entre el proceso del motor y el servidor web. El servidor indica el
programa del motor usado, proporcionando dicha información al proceso
‘fcgiwrap’.

 -- Variable Scheme: fcgiwrap-service-type
     El tipo de servicio para el proxy FastCGI ‘fcgiwrap’.

 -- Tipo de datos: fcgiwrap-configuration
     Tipo de datos que representa la configuración del servicio
     ‘fcgiwrap’. Este tipo tiene los siguientes parámetros:
     ‘package’ (predeterminado: ‘fcgiwrap’)
          El paquete fcgiwrap usado.

     ‘socket’ (predeterminado: ‘tcp:127.0.0.1:9000’)
          El socket donde el proceso ‘fcgiwrap’ deba escuchar, como una
          cadena. Los valores adecuados para SOCKET socket incluyen
          ‘unix:/RUTA/AL/SOCKET/UNIX’,
          ‘tcp:DIRECCIÓN.IP.CON.PUNTOS:PUERTO’ and
          ‘tcp6:[DIRECCIÓN_IPV6]:puerto’.

     ‘user’ (predeterminado: ‘fcgiwrap’)
     ‘group’ (predeterminado: ‘fcgiwrap’)
          Los nombres de usuaria y grupo, como cadenas, con los que se
          ejecutará el proceso ‘fcgiwrap’. El servicio ‘fastcgi’ se
          asegura, en caso de solicitar específicamente el uso de
          nombres de usuaria o grupo ‘fcgiwrap’, que la usuaria y/o
          grupo correspondientes se encuentren presentes en el sistema.

          Es posible configurar un servicio web proporcionado por
          FastCGI para que el servidor de fachada proporcione la
          información de identificación HTTP al motor, y para permitir
          que ‘fcgiwrap’ se ejecute en el proceso del motor como la
          usuaria local correspondiente. Para activar esta funcionalidad
          en el motor, ejecute ‘fcgiwrap’ mediante la usuaria y grupo
          ‘root’. Tenga en cuenta de que esta funcionalidad debe
          configurarse del mismo modo en el servidor de fachada.

   PHP-FPM (FastCGI Process Manager) es una implementación alternativa
de FastCGI en PHP con algunas características adicionales útiles para
sitios de cualquier tamaño.

   Estas características incluyen:
   • Lanzamiento adaptativo de procesos
   • Estadísticas básicas (similares a mod_status de Apache)
   • Gestión avanzada de procesos con parada/arranque coordinados
   • Capacidad de iniciar procesos de trbajo con diferentes
     uid/gid/chroor/entorno y diferentes php.ini (reemplaza a safe_mode)
   • Registro a través de la salida estándar y de error
   • Reinicio de emergencia en caso de destrucción accidental de la
     caché de opcode
   • Posibilidad de subida acelerada
   • Posibilidad de un "slowlog"
   • Mejoras a FastCGI, como fastcgi_finish_request() - una función
     especial para terminar una petición y enviar todos los datos
     mientras que se continua haciendo una tarea de alto consumo de
     tiempo (conversión de vídeo, procesamiento de estadísticas,
     etcétera).
   ... y muchas más.

 -- Variable Scheme: php-fpm-service-type
     Un tipo de servicio para ‘php-fpm’.

 -- Tipo de datos: php-fpm-configuration
     Tipo de datos para la configuración del servicio php-fpm.
     ‘php’ (predeterminado: ‘php’)
          El paquete php usado.
     ‘socket’ (predeterminado: ‘(string-append "/var/run/php" (version-major (package-version php)) "-fpm.sock")’)
          La dirección desde la que FastCGI acepta peticiones. Las
          sintaxis válidas son:
          ‘"dir.ecc.ión.ip:puerto"’
               Escucha con un socket TCP en la dirección especificada en
               un puerto específico.
          ‘"puerto"’
               Escucha en un socket TCP en todas las direcciones sobre
               un puerto específico.
          ‘"/ruta/a/socket/unix"’
               Escucha en un socket Unix.

     ‘user’ (predeterminada: ‘php-fpm’)
          Usuaria que poseerá los procesos de trabajo de php.
     ‘group’ (predeterminado: ‘php-fpm’)
          Grupo de los procesos de trabajo.
     ‘socket-user’ (predeterminado: ‘php-fpm’)
          Usuaria que puede comunicarse con el socket de php-fpm.
     ‘socket-group’ (predeterminado: ‘nginx’)
          Grupo que puede comunicarse con el socket de php-fpm.
     ‘pid-file’ (predeterminado: ‘(string-append "/var/run/php" (version-major (package-version php)) "-fpm.pid")’)
          El identificador de proceso del proceso de php-fpm se escribe
          en este fichero cuando se ha iniciado el servicio.
     ‘log-file’ (predeterminado: ‘(string-append "/var/log/php" (version-major (package-version php)) "-fpm.log")’)
          Registro del proceso maestro de php-fpm.
     ‘process-manager’ (predeterminado: ‘(php-fpm-dynamic-process-manager-configuration)’)
          Configuración detallada para el gestor de procesos php-fpm.
          Debe ser uno de los siguientes tipos:
          ‘<php-fpm-dynamic-process-manager-configuration>’
          ‘<php-fpm-static-process-manager-configuration>’
          ‘<php-fpm-on-demand-process-manager-configuration>’
     ‘display-errors’ (predeterminado ‘#f’)
          Determina si los errores y avisos de php deben enviarse a los
          clientes para que se muestren en sus navegadores. Esto es útil
          para la programación local con php, pero un riesgo para la
          seguridad de sitios públicos, ya que los mensajes de error
          pueden revelar contraseñas y datos personales.
     ‘timezone’ (predeterminado: ‘#f’)
          Especifica el parámetro ‘php_admin_value[date.timezone]’.
     ‘workers-logfile’ (predeterminado ‘(string-append "/var/log/php" (version-major (package-version php)) "-fpm.www.log")’)
          Este fichero registrará las salidas por ‘stderr’ de los
          procesos de trabajo de php. Puede proporcionarse ‘#f’ para
          desactivar el registro.
     ‘file’ (predeterminado ‘#f’)
          Sustituye opcionalmente la configuración al completo. Puede
          usar la función ‘mixed-text-file’ o una ruta absoluta de un
          fichero para hacerlo.

 -- Tipo de datos: php-fpm-dynamic-process-manager-configuration
     Tipo de datos para el gestor de procesos ‘dynamic’ de php-fpm. Con
     el gestor de procesos ‘dynamic’, se mantienen procesos de trabajo
     disponibles en base a los límites configurados.
     ‘max-children’ (predeterminados: ‘5’)
          Número máximo de procesos de trabajo.
     ‘start-servers’ (predeterminados: ‘2’)
          Cuantos procesos de trabajo deben ejecutarse al inicio.
     ‘min-spare-servers’ (predeterminado: ‘1’)
          Cuantos procesos de trabajo deben mantenerse disponibles como
          mínimo.
     ‘max-spare-servers’ (predeterminados: ‘3’)
          Cuantos procesos de trabajo deben mantenerse disponibles como
          máximo.

 -- Tipo de datos: php-fpm-static-process-manager-configuration
     Tipo de datos para el gestor de procesos ‘static’ de php-fpm. Con
     el gestor de procesos ‘static’, se crea un número fijo de procesos
     de trabajo.
     ‘max-children’ (predeterminados: ‘5’)
          Número máximo de procesos de trabajo.

 -- Tipo de datos: php-fpm-on-demand-process-manager-configuration
     Tipo de datos para el gestor de procesos ‘on-demand’ de php-fpm.
     Con el gestor de procesos ‘on-demand’, se crean procesos de trabajo
     únicamente cuando se reciben peticiones.
     ‘max-children’ (predeterminados: ‘5’)
          Número máximo de procesos de trabajo.
     ‘process-idle-timeout’ (predeterminado: ‘10’)
          El tiempo en segundos tras el cual un proceso sin peticiones
          será eliminado.

 -- Scheme Procedure: nginx-php-location [#:nginx-package nginx]
           [socket (string-append "/var/run/php" (version-major
          (package-version php))  "-fpm.sock")]
     Función auxiliar para añadir php a una configuración
     ‘nginx-server-configuration’ rápidamente.

   Una configuración simple de servicios para nginx con php puede ser
más o menos así:
     (services (cons* (service dhcp-client-service-type)
                      (service php-fpm-service-type)
                      (service nginx-service-type
                               (nginx-server-configuration
                                (server-name '("example.com"))
                                (root "/srv/http/")
                                (locations
                                 (list (nginx-php-location)))
                                (listen '("80"))
                                (ssl-certificate #f)
                                (ssl-certificate-key #f)))
                      %base-services))

   El generadores de avatares de gato es un servicio simple para
demostrar el uso de php-fpm en ‘Nginx’. Se usa para generar un avatar de
gato desde una semilla, por ejemplo el hash de la dirección de correo de
la usuaria.

 -- Procedimiento Scheme: cat-avatar-generator-service [#:cache-dir
          "/var/cache/cat-avatar-generator"]  [#:package
     cat-avatar-generator]  [#:configuration
     (nginx-server-configuration)] Devuelve una configuración de
     nginx-server-configuration que hereda de ‘configuration’. Extiende
     la configuración de nginx para añadir un bloque de servidor que
     proporciona ‘package’, una versión de cat-avatar-generator. Durante
     su ejecución, cat-avatar-generator podrá usar ‘cache-dir’ como su
     directorio de caché.

   Una configuración simple para cat-avatar-generator puede ser más o
menos así:
     (services (cons* (cat-avatar-generator-service
                       #:configuration
                       (nginx-server-configuration
                         (server-name '("example.com"))))
                      ...
                      %base-services))

Hpcguix-web
...........

El programa hpcguix-web (https://github.com/UMCUGenetics/hpcguix-web/)
es una interfaz web personalizable para buscar paquetes de Guix,
diseñado inicialmente para usuarias de clusters de computación de alto
rendimiento (HPC).

 -- Variable Scheme: hpcguix-web-service-type
     El tipo de servicio para ‘hpcguix-web’.

 -- Tipo de datos: hpcguix-web-configuration
     El tipo de datos para la configuración del servicio hpcguix-web.

     ‘specs’
          Una expresión-G (*note Expresiones-G::) que especifica la
          configuración del servicio hpcguix-web. Los elementos
          principales en esta especificación son:

          ‘title-prefix’ (predeterminado: ‘"hpcguix | "’)
               El prefijo del título de la página.

          ‘guix-command’ (predeterminada: ‘"guix"’)
               La orden ‘guix’.

          ‘package-filter-proc’ (predeterminado: ‘(const #t)’)
               Un procedimiento que especifica cómo filtrar los paquetes
               mostrados.

          ‘package-page-extension-proc’ (predeterminado: ‘(const '())’)
               Paquete de extensión para ‘hpcguix-web’.

          ‘menu’ (predeterminadas: ‘'()’)
               Entradas adicionales en el menú de la página.

          ‘channels’ (predeterminados: ‘%default-channels’)
               Lista de canales desde los que se construye la lista de
               paquetes (*note Canales::).

          ‘package-list-expiration’ (predeterminado: ‘(* 12 3600)’)
               El tiempo de expiración, en segundos, tras el cual la
               lista de paquetes se reconstruye desde las últimas
               instancias de los canales proporcionados.

          Véase el repositorio de hpcguix-web para un ejemplo completo
          (https://github.com/UMCUGenetics/hpcguix-web/blob/master/hpcweb-configuration.scm).

     ‘package’ (predeterminado: ‘hpcguix-web’)
          El paquete hpcguix-web usado.

   Una declaración típica del servicio hpcguix-web es más o menos así:

     (service hpcguix-web-service-type
              (hpcguix-web-configuration
               (specs
                #~(define site-config
                    (hpcweb-configuration
                     (title-prefix "Guix-HPC - ")
                     (menu '(("/about" "ABOUT"))))))))

     Nota: El servicio hpcguix-web actualiza periódicamente la lista de
     paquetes que publica obteniendo canales con Git. Para ello,
     necesita acceder a certificados X.509 de manera que pueda validar
     los servidores Git durante la comunicación con HTTPS, y asume que
     ‘/etc/ssl/certs’ contiene dichos certificados.

     Por lo tanto, asegúrese de añadir ‘nss-certs’ u otro paquete de
     certificados al campo ‘packages’ de su configuración. *note
     Certificados X.509::, para más información sobre certificados
     X.509.

   ---------- Footnotes ----------

   (1) NdT: Front-end en inglés.

